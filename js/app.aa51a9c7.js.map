{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/assets/disc.png","webpack:///./src/components/ViolinPlot.vue?8047","webpack:///./src/assets/dmriprep-icon.svg","webpack:///./src/App.vue?1c1d","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/components/LandingPage.vue?742b","webpack:///./src/components/GenReport.vue?43a4","webpack:///./src/components/Explainer.vue?2505","webpack:///src/components/Explainer.vue","webpack:///./src/components/Explainer.vue?b6cd","webpack:///./src/components/Explainer.vue","webpack:///./src/components/ReportGroup.vue?b232","webpack:///./src/components/ScatterplotMatrix.vue?3029","webpack:///src/components/ScatterplotMatrix.vue","webpack:///./src/components/ScatterplotMatrix.vue?2583","webpack:///./src/components/ScatterplotMatrix.vue","webpack:///./src/components/Spinner.vue?efe5","webpack:///src/components/Spinner.vue","webpack:///./src/components/Spinner.vue?8682","webpack:///./src/components/Spinner.vue","webpack:///./src/components/TopBar.vue?a87a","webpack:///src/components/TopBar.vue","webpack:///./src/components/TopBar.vue?4287","webpack:///./src/components/TopBar.vue","webpack:///./src/components/ViolinPlot.vue?02e5","webpack:///src/components/ViolinPlot.vue","webpack:///./src/components/ViolinPlot.vue?a11a","webpack:///./src/components/ViolinPlot.vue","webpack:///src/components/ReportGroup.vue","webpack:///./src/components/ReportGroup.vue?3f59","webpack:///./src/components/ReportGroup.vue","webpack:///./src/components/ReportParticipant.vue?91d6","webpack:///./src/components/BrainSprite.vue?d5db","webpack:///./src/components/brainsprite.js","webpack:///src/components/BrainSprite.vue","webpack:///./src/components/BrainSprite.vue?7558","webpack:///./src/components/BrainSprite.vue","webpack:///./src/components/CarpetPlot.vue?ec25","webpack:///src/components/CarpetPlot.vue","webpack:///./src/components/CarpetPlot.vue?3e66","webpack:///./src/components/CarpetPlot.vue?3896","webpack:///./src/components/QSpaceGroup.vue?358b","webpack:///./src/components/QSpaceViewer.vue?d6d8","webpack:///src/components/QSpaceViewer.vue","webpack:///./src/components/QSpaceViewer.vue?7911","webpack:///./src/components/QSpaceViewer.vue","webpack:///src/components/QSpaceGroup.vue","webpack:///./src/components/QSpaceGroup.vue?d5f0","webpack:///./src/components/QSpaceGroup.vue","webpack:///./src/components/LineChart.vue?6398","webpack:///src/components/LineChart.vue","webpack:///./src/components/LineChart.vue?f753","webpack:///./src/components/LineChart.vue?7c61","webpack:///./src/components/Sprite4D.vue?c2d4","webpack:///src/components/Sprite4D.vue","webpack:///./src/components/Sprite4D.vue?e989","webpack:///./src/components/Sprite4D.vue?a285","webpack:///src/components/ReportParticipant.vue","webpack:///./src/components/ReportParticipant.vue?14a9","webpack:///./src/components/ReportParticipant.vue","webpack:///src/components/GenReport.vue","webpack:///./src/components/GenReport.vue?797d","webpack:///./src/components/GenReport.vue","webpack:///src/components/LandingPage.vue","webpack:///./src/components/LandingPage.vue?80f8","webpack:///./src/components/LandingPage.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/components/Explainer.vue?d4d4","webpack:///./src/components/TopBar.vue?384f","webpack:///./src/components/ReportGroup.vue?55cc","webpack:///./src/components/Sprite4D.vue?5ca7","webpack:///./src/components/BrainSprite.vue?27e1","webpack:///./src/components/LandingPage.vue?1b15","webpack:///./src/components/CarpetPlot.vue?87c7","webpack:///./src/components/ReportParticipant.vue?9667","webpack:///./src/components/ScatterplotMatrix.vue?6c6d","webpack:///./src/components/LineChart.vue?1fab"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","component","state","staticClass","_v","model","callback","$$v","files","expression","on","$event","type","indexOf","_k","keyCode","navigate","url","_e","reportFiles","groupReportFiles","showInitialSidebar","showStudyQc","_s","groupReport","studyId","directives","rawName","domProps","target","composing","subjectFilter","_l","subject","subjectSelected","subjectRatings","updateSelectedSubject","downloadRatings","uploadRatings","reportReady","selectedSubjectReport","collapseId","questionId","closeId","explainerText","props","String","default","mounted","_uid","ratingsDownloadRequested","ratingsUploaded","qcMetrics","metricOptions","scatterMetrics","updateBrushedSubjects","violinMetrics","metric","scopedSlots","_u","fn","brushedSubjectsIntersection","copyBrushedSubjectsToClipboard","proxy","ref","dataProp","Array","metricsProp","margin","maxWidth","width","padding","radius","brushedSubjects","metrics","computed","height","size","columns","keys","filter","yAxis","xAxis","x","map","y","watch","deep","handler","$emit","brushed","immediate","createChart","Math","min","$refs","chart","clientWidth","methods","d3","selection","moveToFront","each","parentNode","appendChild","moveToBack","firstChild","insertBefore","select","selectAll","remove","svg","append","cell","brush","circle","node","brushstarted","brushCell","move","event","classed","that","brushended","handleResize","forEach","modifiers","download","isGroupReport","subjectId","onOk","handleHidden","stopPropagation","preventDefault","handleSubmit","rating","ratingOptions","$set","onCsvUploadOk","Boolean","ratingsCsvFile","reportProp","ratingProp","sidebarOn","report","checkFormValidity","valid","bvModalEvt","reviewed","whenRated","Date","toString","$nextTick","fileToSave","Blob","JSON","stringify","$papa","parse","header","dynamicTyping","skipEmptyLines","complete","divId","svgId","hoveredSubject","brushObject","histogram","bins","maxNum","yNum","boxHeight","center","bottom","tooltipId","dodgedData","dodge","boxPlotInfo","q1","median","q3","interQuantileRange","max","highestPoint","top","getHighestPoint","intersects","a","radius2","epsilon","next","circles","x0","x1","components","explainer","scatterplotMatrix","spinner","topBar","violinPlot","reduce","subjects","brushedSubjectData","values","e","navigator","clipboard","writeText","join","subject_id","staticStyle","dwiTimeSeriesSprite","view","orientation","M","N","img","num_slices","pix","time","dwi_corrected","lineChart","eddy_params","outlier_volumes","carpetPlot","carpetplot","qSpace","brainMaskSprite","b0","anat_mask","colorFASprite","colorFA","done","id","base","overlay","showOrig","brainsprite","params","setNearestNeighbour","context","flag","imageSmoothingEnabled","brain","defaultParams","nanValue","smooth","flagValue","colorBackground","flagCoordinates","origin","X","Y","Z","voxelSize","affine","heightColorBar","sizeFont","colorFont","nbDecimals","crosshair","colorCrosshair","sizeCrosshair","title","numSlice","assign","canvas","document","getElementById","getContext","canvasY","createElement","contextY","canvasZ","contextZ","canvasRead","contextRead","onclick","spaceFont","sprite","nbCol","nbSlice","nbRow","widthCanvas","heightCanvas","floor","coordinatesSlice","planes","canvasMaster","contextMaster","opacity","colorMap","hide","drawImage","getValue","rgb","NaN","cv","dist","nbColor","ind","val","voxelValue","Infinity","xx","getImageData","pow","updateValue","pos","test1","test2","XW","round","XH","fillStyle","fillRect","err","console","warn","message","multiply","b","aNumRows","aNumCols","bNumCols","updateCoordinates","coordVoxel","init","parentElement","sizeFontPixels","font","globalAlpha","canvasX","contextX","rotate","PI","translate","draw","coord","coordWidth","offset","ceil","fillText","Number","parseFloat","toPrecision","replace","valueWidth","measureText","posW","posH","label_min","label_max","clickBrain","sx","sy","sz","rect","getBoundingClientRect","clientX","left","yy","clientY","drawAll","addEventListener","removeEventListener","refreshBrainSprite","$props","setTimeout","bandwidth","myColor","highlightIdx","innerWidth","right","innerHeight","dataFlattened","output","autoRotate","showReflection","q_coords","color","globalPosition","updateGlobalPosition","elementId","qcoords","colors","cameraPosition","showReflectedPoints","scene","camera","controls","renderer","ambient","particles","reflectedParticles","showStats","stats","container","unhighlightedSize","unhighlightedAlpha","animate","highlightPoint","toggleAutoRotate","toggleReflectedPoints","vertex","xyz","positions","localMax","absMax","setRGB","g","unselectedSize","sizes","alphas","geometry","setAttribute","position","z","add","uniforms","pointTexture","vertexShader","fragmentShader","transparent","depthWrite","reflectedPositions","reflectedGeometry","visible","axesGroup","xAxisMesh","yAxisMesh","zAxisMesh","setPixelRatio","devicePixelRatio","setSize","domElement","OrbitControls","enableDamping","dampingFactor","enableZoom","maxDistance","enableKeys","emitCameraEvent","style","onWindowResize","requestAnimationFrame","update","array","needsUpdate","alphasRef","sizesRef","copy","QSpaceViewer","xDomain","yDomain","lines","updateHighlightPoints","initAx","initXaxis","initYaxis","initHighlightPoints","updateXaxis","range","domain","updateYaxis","attr","plotData","minX","maxX","minY","maxY","line1","line2","row_idx","col_idx","zoom","display","overlayMode","BrainSprite","CarpetPlot","QSpaceGroup","sprite4d","vueSlider","spriteSlice","get_mid_slice","bucket","groupFile","manifestEntries","subRe","sesRe","s3Prefix","s3Uri","sourceType","subjectReports","subjectsBrushed","parseSubjectSession","loadFromQuery","$route","query","loadFromUrl","split","loadFromS3","$router","xmlParser","xmlDoc","parseS3","continuation","isTruncated","encodeURIComponent","innerHTML","keysFixed","S3Continuation","token","getFileDepth","file","webkitRelativePath","selectRootGroupFile","rootJsonFiles","readJsonFile","Promise","tempFileReader","onerror","abort","reject","DOMException","onload","resolve","inputFile","content","readAsText","localhostProxy","local_domains","includes","location","hostname","proxyurl","created","filesProp","groupFileProp","loadGroupReport","s3ListUrl","filteredSubjects","subjectsAll","subjectsInGroupReport","subjectFileMap","urlProp","s3UriProp","genReport","msg","startsWith","s3","followUrl","router","path","Vue","use","Router","routes","LandingPage","debug","process","config","productionTip","performance","el","App","template"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,oBAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,6ECvJT,W,qBCAAW,EAAOD,QAAU,s2D,oCCAjB,W,uECAAC,EAAOD,QAAU,IAA0B,kC,mGCAvC+B,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,QAAQ,CAACF,EAAG,gBAAgB,IAC9IG,EAAkB,G,gCCatB,yBAEA,OACEjC,KAAM,OCjBsT,I,wBCQ1TkC,EAAY,eACd,EACAT,EACAQ,GACA,EACA,KACA,KACA,MAIa,EAAAC,E,oBCnBX,EAAS,WAAa,IAAIR,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAAgB,aAAdJ,EAAIS,MAAsBL,EAAG,cAAc,CAACM,YAAY,OAAOJ,MAAM,CAAC,MAAQ,KAAK,CAACF,EAAG,QAAQ,CAACM,YAAY,6BAA6B,CAACN,EAAG,QAAQ,CAACM,YAAY,aAAaJ,MAAM,CAAC,KAAO,MAAM,CAACF,EAAG,MAAM,CAACM,YAAY,OAAOJ,MAAM,CAAC,IAAM,EAAQ,aAAoCF,EAAG,QAAQ,CAACM,YAAY,YAAYJ,MAAM,CAAC,KAAO,MAAM,CAACF,EAAG,KAAK,CAACJ,EAAIW,GAAG,wBAAwB,GAAGP,EAAG,eAAe,CAACM,YAAY,iBAAiBJ,MAAM,CAAC,MAAQ,qFAAqF,YAAc,gGAAgG,CAACF,EAAG,cAAc,CAACE,MAAM,CAAC,UAAY,GAAG,SAAW,GAAG,YAAc,yBAAyBM,MAAM,CAAC7B,MAAOiB,EAAS,MAAEa,SAAS,SAAUC,GAAMd,EAAIe,MAAMD,GAAKE,WAAW,YAAY,GAAGZ,EAAG,eAAe,CAACM,YAAY,iBAAiBJ,MAAM,CAAC,MAAQ,kCAAkC,YAAc,2EAA2E,CAACF,EAAG,gBAAgB,CAACM,YAAY,OAAOJ,MAAM,CAAC,KAAO,KAAK,QAAU,QAAQ,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,YAAc,qCAAqCW,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQpB,EAAIqB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAO7B,IAAI,SAAkB,KAAcW,EAAIuB,SAASL,KAAUN,MAAM,CAAC7B,MAAOiB,EAAO,IAAEa,SAAS,SAAUC,GAAMd,EAAIwB,IAAIV,GAAKE,WAAW,SAASZ,EAAG,uBAAuB,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,KAAO,SAAS,QAAU,WAAWW,GAAG,CAAC,MAAQjB,EAAIuB,WAAW,CAACvB,EAAIW,GAAG,SAAS,IAAI,IAAI,IAAI,GAAGX,EAAIyB,KAAoB,eAAdzB,EAAIS,MAAwBL,EAAG,WAAWJ,EAAIyB,KAAoB,gBAAdzB,EAAIS,MAAyBL,EAAG,YAAY,CAACE,MAAM,CAAC,UAAYN,EAAI0B,YAAY,cAAgB1B,EAAI2B,oBAAoB3B,EAAIyB,MAAM,IACx0D,EAAkB,GCDlB,G,4DAAS,WAAa,IAAIzB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACM,YAAY,WAAWJ,MAAM,CAAC,MAAQ,KAAK,CAAEN,EAAe,YAAEI,EAAG,cAAc,CAACM,YAAY,OAAOJ,MAAM,CAAC,MAAQ,KAAK,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,GAAK,mBAAmB,MAAQ,iBAAiB,mBAAmB,OAAO,SAAW,GAAG,KAAO,GAAG,OAAS,GAAG,QAAUN,EAAI4B,qBAAqB,CAACxB,EAAG,YAAY,CAACE,MAAM,CAAC,iBAAiB,kRAAkRF,EAAG,QAAQ,CAACM,YAAY,QAAQJ,MAAM,CAAC,SAAW,GAAG,MAAQ,KAAK,CAACF,EAAG,aAAa,CAACM,YAAY,OAAOJ,MAAM,CAAC,OAASN,EAAI6B,aAAaZ,GAAG,CAAC,MAAQ,SAASC,GAAQlB,EAAI6B,aAAc,KAAQ,CAAC7B,EAAIW,GAAG,IAAIX,EAAI8B,GAAG9B,EAAI+B,YAAYC,QAAUhC,EAAI+B,YAAYC,QAAU,SAAS,OAAO5B,EAAG,QAAQ,CAAC6B,WAAW,CAAC,CAAC3D,KAAK,QAAQ4D,QAAQ,UAAUnD,MAAOiB,EAAiB,cAAEgB,WAAW,kBAAkBN,YAAY,MAAMJ,MAAM,CAAC,YAAc,mBAAmB6B,SAAS,CAAC,MAASnC,EAAiB,eAAGiB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOkB,OAAOC,YAAqBrC,EAAIsC,cAAcpB,EAAOkB,OAAOrD,WAAUiB,EAAIuC,GAAIvC,EAAoB,kBAAE,SAASwC,GAAS,OAAOpC,EAAG,aAAa,CAACf,IAAImD,EAAQ9B,YAAY,OAAOJ,MAAM,CAAC,OAASkC,IAAYxC,EAAIyC,iBAAiBxB,GAAG,CAAC,MAAQ,SAASC,GAAQlB,EAAIyC,gBAAkBD,KAAW,CAAExC,EAAI0C,eAAeF,GAAiB,SAAEpC,EAAG,SAAS,CAACM,YAAY,OAAOJ,MAAM,CAAC,aAAa,MAAM,KAAO,oBAAoB,MAAQ,MAAM,QAAU,aAAaF,EAAG,SAAS,CAACM,YAAY,OAAOJ,MAAM,CAAC,KAAO,SAAS,MAAQ,MAAM,QAAU,eAAeN,EAAIW,GAAG,IAAIX,EAAI8B,GAAGU,GAAS,MAAM,OAAM,IAAI,GAAIxC,EAAI6B,aAAe7B,EAAI+B,YAAa3B,EAAG,cAAc,CAACE,MAAM,CAAC,WAAaN,EAAI+B,aAAad,GAAG,CAAC,gBAAkBjB,EAAI2C,sBAAsB,yBAA2B3C,EAAI4C,gBAAgB,gBAAkB5C,EAAI6C,iBAAkB7C,EAAIyC,iBAAmBzC,EAAI8C,YAAa1C,EAAG,SAAS,CAACE,MAAM,CAAC,WAAaN,EAAI+C,sBAAsB,WAAa/C,EAAI0C,eAAe1C,EAAIyC,kBAAkBxB,GAAG,CAAC,yBAA2BjB,EAAI4C,gBAAgB,gBAAkB5C,EAAI6C,iBAAiBzC,EAAG,YAAY,GAAGA,EAAG,YAAY,KACxxE,EAAkB,G,wPCDlB,EAAS,WAAa,IAAIJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAIgD,YAAchD,EAAIiD,WAAY7C,EAAG,cAAc,CAACM,YAAY,cAAc,CAACN,EAAG,SAAS,CAAC6B,WAAW,CAAC,CAAC3D,KAAK,WAAW4D,QAAQ,aAAanD,MAAOiB,EAAc,WAAEgB,WAAW,eAAeN,YAAY,0BAA0BJ,MAAM,CAAC,GAAKN,EAAIkD,QAAQ,KAAO,WAAW,QAAU,UAAU,cAAc,UAAU9C,EAAG,SAAS,CAAC6B,WAAW,CAAC,CAAC3D,KAAK,WAAW4D,QAAQ,aAAanD,MAAOiB,EAAc,WAAEgB,WAAW,eAAeN,YAAY,4BAA4BJ,MAAM,CAAC,GAAKN,EAAIiD,WAAW,KAAO,kBAAkB,QAAU,UAAU,cAAc,UAAU7C,EAAG,aAAa,CAACM,YAAY,iBAAiBJ,MAAM,CAAC,GAAKN,EAAIgD,aAAa,CAAC5C,EAAG,SAAS,CAACA,EAAG,IAAI,CAACM,YAAY,aAAa,CAACV,EAAIW,GAAGX,EAAI8B,GAAG9B,EAAImD,qBAAqB,GAAG/C,EAAG,YAAY,CAACE,MAAM,CAAC,OAASN,EAAIiD,WAAW,SAAW,UAAU,CAACjD,EAAIW,GAAG,qCAAqCP,EAAG,YAAY,CAACE,MAAM,CAAC,OAASN,EAAIkD,QAAQ,SAAW,UAAU,CAAClD,EAAIW,GAAG,0BAA0B,GAAGX,EAAIyB,MAChhC,EAAkB,GCgCtB,GACEnD,KAAM,YACNpC,KAFF,WAGI,MAAO,CACL8G,WAAY,KACZC,WAAY,KACZC,QAAS,OAGbE,MAAO,CACLD,cAAe,CACbhC,KAAMkC,OACNC,QAAS,qDAGbC,QAfF,WAgBItD,KAAK+C,WAAa,WAAa/C,KAAKuD,KACpCvD,KAAKgD,WAAa,WAAahD,KAAKuD,KACpCvD,KAAKiD,QAAU,QAAUjD,KAAKuD,OCnDiT,ICQ/U,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCnBX,EAAS,WAAa,IAAIxD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACM,YAAY,OAAOJ,MAAM,CAAC,MAAQ,KAAK,CAAEN,EAAe,YAAEI,EAAG,cAAc,CAACM,YAAY,OAAOJ,MAAM,CAAC,MAAQ,KAAK,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,WAAaN,EAAI+B,YAAY,UAAY,GAAG,cAAgB,IAAId,GAAG,CAAC,yBAA2BjB,EAAIyD,yBAAyB,gBAAkBzD,EAAI0D,mBAAmBtD,EAAG,YAAY,CAACE,MAAM,CAAC,iBAAiBN,EAAImD,cAAcQ,aAAavD,EAAG,eAAe,CAACM,YAAY,YAAYJ,MAAM,CAAC,MAAQ,+BAA+B,CAACF,EAAG,wBAAwB,CAACE,MAAM,CAAC,GAAK,yBAAyB,QAAUN,EAAI4D,cAAc,KAAO,mBAAmBhD,MAAM,CAAC7B,MAAOiB,EAAkB,eAAEa,SAAS,SAAUC,GAAMd,EAAI6D,eAAe/C,GAAKE,WAAW,qBAAqB,GAAGZ,EAAG,oBAAoB,CAACE,MAAM,CAAC,SAAWN,EAAI+B,YAAY,YAAY,YAAc/B,EAAI6D,gBAAgB5C,GAAG,CAAC,sBAAwBjB,EAAI8D,sBAAsB,sBAAwB9D,EAAI2C,yBAAyBvC,EAAG,eAAe,CAACM,YAAY,YAAYJ,MAAM,CAAC,MAAQ,+BAA+B,CAACF,EAAG,wBAAwB,CAACE,MAAM,CAAC,GAAK,wBAAwB,QAAUN,EAAI4D,cAAc,KAAO,kBAAkBhD,MAAM,CAAC7B,MAAOiB,EAAiB,cAAEa,SAAS,SAAUC,GAAMd,EAAI+D,cAAcjD,GAAKE,WAAW,oBAAoB,GAAGhB,EAAIuC,GAAIvC,EAAiB,eAAE,SAASgE,GAAQ,OAAO5D,EAAG,aAAa,CAACf,IAAI2E,EAAO1D,MAAM,CAAC,KAAON,EAAI+B,YAAY,YAAY,OAASiC,GAAQ/C,GAAG,CAAC,sBAAwBjB,EAAI8D,sBAAsB,sBAAwB9D,EAAI2C,4BAA2BvC,EAAG,SAAS,CAACM,YAAY,0BAA0BJ,MAAM,CAAC,OAAS,kFAAkF2D,YAAYjE,EAAIkE,GAAG,CAAC,CAAC7E,IAAI,SAAS8E,GAAG,WAAW,MAAO,CAAC/D,EAAG,QAAQ,CAACM,YAAY,6BAA6B,CAACN,EAAG,QAAQ,CAACM,YAAY,YAAYJ,MAAM,CAAC,KAAO,MAAM,CAACF,EAAG,KAAK,CAACM,YAAY,OAAO,CAACV,EAAIW,GAAG,uBAAuBX,EAAI8B,GAAG9B,EAAIoE,4BAA4B1H,QAAQ,SAAS0D,EAAG,QAAQ,CAACM,YAAY,aAAaJ,MAAM,CAAC,KAAO,MAAM,CAACF,EAAG,WAAW,CAACM,YAAY,MAAMJ,MAAM,CAAC,GAAK,mBAAmB,QAAU,mBAAmBW,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOlB,EAAIqE,oCAAoC,CAACjE,EAAG,SAAS,CAACM,YAAY,QAAQJ,MAAM,CAAC,KAAO,YAAY,cAAc,WAAW,GAAGF,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,mBAAmB,SAAW,UAAU,CAACN,EAAIW,GAAG,qCAAqC,IAAI,KAAK2D,OAAM,IAAO,MAAK,EAAM,aAAa,CAAClE,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACM,YAAY,qCAAqCJ,MAAM,CAAC,SAAW,KAAKN,EAAIuC,GAAIvC,EAA+B,6BAAE,SAASwC,GAAS,OAAOpC,EAAG,aAAa,CAACf,IAAImD,EAAQvB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOlB,EAAI2C,sBAAsBH,MAAY,CAACxC,EAAIW,GAAGX,EAAI8B,GAAGU,SAAc,IAAI,IAAI,IAAI,GAAGpC,EAAG,YAAY,IAC7wF,EAAkB,G,wBCDlB,EAAS,WAAa,IAAIJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,eAAe,CAACF,EAAG,MAAM,CAACmE,IAAI,QAAQ7D,YAAY,qBAAqBJ,MAAM,CAAC,GAAK,mBACrM,EAAkB,G,YCOtB,YAEA,GACEhC,KAAM,oBACN8E,MAAO,CACLoB,SAAU,CACRrD,KAAMsD,OAERC,YAAa,CACXvD,KAAMsD,QAGVvI,KAVF,WAWI,MAAO,CACLyI,OAAQ,CAAd,mCACMC,SAAU,IACVC,MAAO,KACPC,QAAS,GACTC,OAAQ,EACRC,gBAAiB,KACjBC,QAAS,GACT/I,KAAM,GACNqH,SAAS,IAGb2B,SAAU,CACRC,OADJ,WAEM,OAAIlF,KAAKgF,QAAQvI,OACRuD,KAAK4E,MAEL,GAGXO,KARJ,WASM,OACN,iDACA,oBACA,cAGIC,QAfJ,WAgBM,IAAN,OACM,OAAO1I,OAAO2I,KAAKrF,KAAK/D,KAAK,IAAIqJ,QACvC,YAAQ,OAAR,0DAGIC,MArBJ,WAqBA,WACA,IACA,WACA,SACA,yCACA,OACM,OAAO,SAAb,UACA,EACA,eACA,UACA,UACA,gCAAU,MAAV,uCACA,kBACU,OAAV,mCAEA,kBAAU,OAAV,gCACA,kBAAU,OAAV,qDAEIC,MAvCJ,WAuCA,WACA,IACA,aACA,SACA,wCACA,OACM,OAAO,SAAb,UACA,EACA,eACA,UACA,UACA,gCAAU,MAAV,uCACA,kBACU,OAAV,mCAEA,kBAAU,OAAV,gCACA,kBAAU,OAAV,qDAEIC,EAzDJ,WAyDA,WACA,EACA,gDACM,OAAOzF,KAAKoF,QAAQM,KAAI,SAA9B,UACA,EACA,cACA,oCAAU,OAAV,SACA,YACA,IACA,iBAIIC,EAtEJ,WAuEM,IAAN,EACA,6CACA,OACM,OAAO3F,KAAKyF,EAAEC,KAAI,SAAxB,UACA,EACA,OACA,6BAIEE,MAAO,CACLb,gBAAiB,CACfc,MAAM,EACNC,QAAS,WACP9F,KAAK+F,MAAM,wBAAyB,CAClChC,OAAQ,oBACRiC,QAAShG,KAAK+E,oBAIpBN,YAAa,CACXoB,MAAM,EACNI,WAAW,EACXH,QAAS,WACH9F,KAAKyE,cACPzE,KAAKgF,QAAUhF,KAAKyE,YAChBzE,KAAKsD,SACPtD,KAAKkG,iBAKb3B,SAAU,CACRsB,MAAM,EACNI,WAAW,EACXH,QAAS,WACH9F,KAAKuE,WACPvE,KAAK/D,KAAO+D,KAAKuE,aAKzBjB,QAxIF,WAyIItD,KAAK4E,MAAQuB,KAAKC,IAAIpG,KAAKqG,MAAMC,MAAMC,YAAavG,KAAK2E,UACzD3E,KAAK+E,gBAAkB/E,KAAK/D,KAAKyJ,KAAI,SAAzC,kCACI1F,KAAKkG,cACLlG,KAAKsD,SAAU,GAEjBkD,QAAS,CACPN,YADJ,WAIMO,EAAGC,UAAU/J,UAAUgK,YAAc,WACnC,OAAO3G,KAAK4G,MAAK,WACf5G,KAAK6G,WAAWC,YAAY9G,UAGhCyG,EAAGC,UAAU/J,UAAUoK,WAAa,WAClC,OAAO/G,KAAK4G,MAAK,WACf,IAAII,EAAahH,KAAK6G,WAAWG,WAC7BA,GACFhH,KAAK6G,WAAWI,aAAajH,KAAMgH,OAKzCP,EAAGS,OAAO,eAChB,cACA,4BACA,KACA,QACA,0HAIMT,EAAGU,UAAU,mBAAmBC,SAGhC,IAAN,IACA,sBACA,yBACA,2BACA,YACA,KACA,YACA,uDAGMC,EACN,gBACA,KAFA,0DAIA,cAJA,QAQMA,EAAIC,OAAO,KAAKzK,KAAKmD,KAAKwF,OAE1B6B,EAAIC,OAAO,KAAKzK,KAAKmD,KAAKuF,OAE1B,IAAN,OACA,IACA,YACA,eACA,KACA,oEAEA,UACA,KACA,aACA,YAAQ,IAAR,oCAAQ,MAAR,0DAGMgC,EACN,eACA,oBACA,sBACA,4BACA,4BACA,qCACA,sCAEMA,EAAKX,MAAK,SAAU,GAA1B,wCACQH,EAAGS,OAAOlH,MAClB,oBACA,KACA,eACA,YAAU,OAAV,oDAGA,eACA,uBAAU,OAAV,2BACA,uBAAU,OAAV,8BAGMuH,EAAK1K,KAAKmD,KAAKwH,OAEf,IAAN,IACA,oBACA,sBACA,wBACA,oBACA,0BACA,4BACQ,EAAR,8BACA,aACA,cACA,qBAEQ,EAAR,0BACA,aACA,cACA,2BACA,8BAEA,0BACQ,EAAR,8BACA,aACA,cACA,mBAEQ,EAAR,qDAEA,2BACQ,EAAR,0BACA,oCACA,sCAEA,wBACQ,EAAR,uDAsBM,OAnBAC,EAAOd,cAEPU,EACN,YACA,qCACA,+BACA,kBACA,mBACA,aACA,KACA,aACA,cAAQ,MAAR,0DAEA,uBACA,uBACA,mBACA,0BACA,kBAAQ,OAAR,KAEaA,EAAIK,QAEbF,MAjJJ,SAiJA,GACM,IAcN,EAdA,wBACA,OACA,IACA,QACA,QACA,gCACA,sDAEA,cACA,cACA,YAOM,SAASG,IACHC,IAAc5H,OAChByG,EAAGS,OAAOU,GAAW/K,KAAK2K,EAAMK,KAAM,MACtCD,EAAY5H,MAKhB,SAASgG,EAAQ,GAAvB,wCACQ,GAA2B,OAAvBS,EAAGqB,MAAMpB,UAAb,CADR,qBAEA,kBAFA,4BAEA,EAFA,KAEA,EAFA,8BAEA,EAFA,KAEA,EAFA,KAGQe,EAAOM,QAAQ,UAAU,SAAjC,GACU,OACV,2BACA,2BACA,2BACA,6BAGQC,EAAKjD,gBAAkBiD,EAAK/L,KACpC,QACA,YAAU,OACV,4BACA,4BACA,4BACA,8BAEA,iBAAU,OAAV,yBAIM,SAASgM,IACoB,OAAvBxB,EAAGqB,MAAMpB,YACbe,EAAOM,QAAQ,UAAU,GACzBC,EAAKjD,gBAAkBiD,EAAK/L,KAAKyJ,KAAI,SAA7C,mCAvCM6B,EAAK1K,KAAK2K,IA0CZU,aAxMJ,WAwMA,WACMlI,KAAK4E,MAAQuB,KAAKC,IACxB,6BACA,+BAGM,IAAN,IACA,sBACA,4DAEMpG,KAAKyF,EAAE0C,SAAQ,SAArB,UACA,qDAGM,IAAN,OACMd,EACN,kBACA,sBACQ,OAAR,YAEA,oCCpX2V,ICQvV,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCnBX,EAAS,WAAa,IAAItH,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACA,EAAG,SAAS,CAACJ,EAAIW,GAAG,gBAAgBP,EAAG,YAAY,CAACM,YAAY,OAAOJ,MAAM,CAAC,QAAU,UAAU,MAAQ,cAAc,IACtO,EAAkB,GCOtB,GACEhC,KAAM,WCTyU,ICO7U,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,I,QClBX,EAAS,WAAa,IAAI0B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,mBAAmB,CAACM,YAAY,mBAAmB,CAACN,EAAG,iBAAiB,CAACA,EAAG,WAAW,CAAC6B,WAAW,CAAC,CAAC3D,KAAK,WAAW4D,QAAQ,8BAA8BmG,UAAU,CAAC,oBAAmB,KAAQ3H,YAAY,qBAAqBJ,MAAM,CAAC,GAAK,iBAAiB,QAAU,oBAAoB,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,iBAAiB,cAAc,WAAW,GAAGF,EAAG,WAAW,CAACM,YAAY,qBAAqBJ,MAAM,CAAC,GAAK,cAAc,GAAK,UAAU,QAAU,oBAAoB,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,SAAS,cAAc,WAAW,GAAGF,EAAG,WAAW,CAACM,YAAY,qBAAqBJ,MAAM,CAAC,GAAK,kBAAkB,QAAU,mBAAmBW,GAAG,CAAC,MAAQjB,EAAIsI,WAAW,CAAClI,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,WAAW,cAAc,WAAW,GAAKN,EAAIuI,cAA4LvI,EAAIyB,KAAjLrB,EAAG,WAAW,CAACM,YAAY,qBAAqBJ,MAAM,CAAC,GAAK,eAAe,QAAU,oBAAoB,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,YAAY,cAAc,WAAW,GAAcN,EAAIuI,cAAgSvI,EAAIyB,KAArRrB,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,eAAe,UAAY,SAAS,SAAW,SAAS2D,YAAYjE,EAAIkE,GAAG,CAAC,CAAC7E,IAAI,QAAQ8E,GAAG,WAAW,MAAO,CAACnE,EAAIW,GAAGX,EAAI8B,GAAG9B,EAAIwI,cAAclE,OAAM,IAAO,MAAK,EAAM,aAAa,CAACtE,EAAIW,GAAG,qDAAgEX,EAAIuI,cAA2jBvI,EAAIyB,KAAhjBrB,EAAG,WAAW,CAAC6B,WAAW,CAAC,CAAC3D,KAAK,UAAU4D,QAAQ,yBAAyBmG,UAAU,CAAC,gBAAe,KAAQ3H,YAAY,qBAAqBJ,MAAM,CAAC,GAAK,gBAAgB,QAAU,oBAAoB,CAACF,EAAG,cAAc,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,QAAU,GAAG,KAAO,eAAe,MAAQ,OAAO,UAAU,IAAI,UAAU,KAAK,cAAc,UAAUF,EAAG,SAAS,CAACE,MAAM,CAAC,QAAU,GAAG,KAAO,QAAQ,MAAQ,MAAM,cAAc,UAAUF,EAAG,SAAS,CAACE,MAAM,CAAC,QAAU,GAAG,KAAO,WAAW,MAAQ,OAAO,UAAU,KAAK,UAAU,IAAI,cAAc,WAAW,IAAI,GAAcN,EAAIuI,cAAy1BvI,EAAIyB,KAA90BrB,EAAG,UAAU,CAACmE,IAAI,eAAejE,MAAM,CAAC,GAAK,eAAe,MAAQN,EAAIwI,WAAWvH,GAAG,CAAC,GAAKjB,EAAIyI,KAAK,OAASzI,EAAI0I,eAAe,CAACtI,EAAG,MAAM,CAACM,YAAY,QAAQ,CAACV,EAAIW,GAAG,0BAA2BX,EAAU,OAAEI,EAAG,SAAS,CAACmE,IAAI,OAAOtD,GAAG,CAAC,OAAS,SAASC,GAAyD,OAAjDA,EAAOyH,kBAAkBzH,EAAO0H,iBAAwB5I,EAAI6I,aAAa3H,MAAW,CAACd,EAAG,eAAe,CAACE,MAAM,CAAC,GAAK,sBAAsB,YAAY,iBAAiB,YAAc,kCAAkC,mBAAmB,kBAAkB,MAAQN,EAAIS,MAAMT,EAAI8I,OAAOA,UAAU,CAAC1I,EAAG,qBAAqB,CAACE,MAAM,CAAC,GAAK,iBAAiB,QAAUN,EAAI+I,cAAc,iBAAiB,kBAAkB,KAAO,KAAK,QAAU,IAAInI,MAAM,CAAC7B,MAAOiB,EAAI8I,OAAa,OAAEjI,SAAS,SAAUC,GAAMd,EAAIgJ,KAAKhJ,EAAI8I,OAAQ,SAAUhI,IAAME,WAAW,oBAAoB,IAAI,GAAGhB,EAAIyB,MAAM,GAAYrB,EAAG,aAAa,CAACM,YAAY,qBAAqBJ,MAAM,CAAC,QAAU,mBAAmB2D,YAAYjE,EAAIkE,GAAG,CAAC,CAAC7E,IAAI,iBAAiB8E,GAAG,WAAW,MAAO,CAAC/D,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,aAAa,GAAK,cAAc,cAAc,YAAYgE,OAAM,MAAS,CAAClE,EAAG,yBAAyB,CAACE,MAAM,CAAC,GAAK,eAAe,QAAU,mBAAmBW,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOlB,EAAIyD,8BAA8B,CAACrD,EAAG,cAAc,CAACM,YAAY,OAAOJ,MAAM,CAAC,cAAc,SAAS,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,QAAU,GAAG,KAAO,WAAW,UAAU,MAAM,QAAU,qBAAqBF,EAAG,SAAS,CAACE,MAAM,CAAC,QAAU,GAAG,KAAO,aAAa,UAAU,IAAI,QAAU,sBAAsB,GAAGN,EAAIW,GAAG,2BAA2B,GAAGP,EAAG,yBAAyB,CAAC6B,WAAW,CAAC,CAAC3D,KAAK,UAAU4D,QAAQ,6BAA6BmG,UAAU,CAAC,oBAAmB,KAAQ/H,MAAM,CAAC,GAAK,aAAa,QAAU,oBAAoB,CAACF,EAAG,cAAc,CAACM,YAAY,OAAOJ,MAAM,CAAC,cAAc,SAAS,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,QAAU,GAAG,KAAO,SAAS,UAAU,MAAM,QAAU,qBAAqBF,EAAG,SAAS,CAACE,MAAM,CAAC,QAAU,GAAG,KAAO,aAAa,UAAU,IAAI,QAAU,sBAAsB,GAAGN,EAAIW,GAAG,yBAAyB,GAAGP,EAAG,yBAAyB,CAACE,MAAM,CAAC,GAAK,aAAa,QAAU,kBAAkB,QAAU,kFAAkF,CAACF,EAAG,SAAS,CAACM,YAAY,OAAOJ,MAAM,CAAC,KAAO,MAAM,cAAc,UAAUN,EAAIW,GAAG,sBAAsB,IAAI,IAAI,GAAGP,EAAG,UAAU,CAACmE,IAAI,mBAAmBjE,MAAM,CAAC,GAAK,mBAAmB,MAAQ,6BAA6BW,GAAG,CAAC,GAAKjB,EAAIiJ,gBAAgB,CAAC7I,EAAG,eAAe,CAACM,YAAY,iBAAiBJ,MAAM,CAAC,MAAQ,qDAAqD,CAACF,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ4I,QAAQlJ,EAAImJ,gBAAgB,YAAc,mCAAmC,mBAAmB,qBAAqBvI,MAAM,CAAC7B,MAAOiB,EAAkB,eAAEa,SAAS,SAAUC,GAAMd,EAAImJ,eAAerI,GAAKE,WAAW,qBAAqB,IAAI,GAAGZ,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,iBAAiB,SAAW,UAAU,CAACN,EAAIW,GAAG,oBAAoBP,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,cAAc,SAAW,UAAU,CAACN,EAAIW,GAAG,4BAA4BP,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,kBAAkB,SAAW,UAAU,CAACN,EAAIW,GAAG,oCAAsCX,EAAIuI,cAAsHvI,EAAIyB,KAA3GrB,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,eAAe,SAAW,UAAU,CAACN,EAAIW,GAAG,2BAAsCX,EAAIuI,cAAmHvI,EAAIyB,KAAxGrB,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,gBAAgB,SAAW,UAAU,CAACN,EAAIW,GAAG,uBAAgCP,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,cAAc,SAAW,UAAU,CAACN,EAAIW,GAAG,mBAAmB,IACn3K,EAAkB,G,gDC+OtB,yBACA,yBACA,yBAEA,OACErC,KAAM,SACN8E,MAAO,CACLgG,WAAY,CACVjI,KAAMxE,QAER0M,WAAY,CACVlI,KAAMxE,OACN2G,QAAS,MAEXgG,UAAW,CACTnI,KAAM+H,QACN5F,SAAS,GAEXiF,cAAe,CACbpH,KAAM+H,QACN5F,SAAS,IAGbpH,KAnBF,WAoBI,MAAO,CACLqN,OAAQ,KACRT,OAAQ,KACRN,UAAW,aACXW,eAAgB,KAChBJ,cAAe,CACrB,CAAQ,KAAR,kBAAQ,MAAR,MACA,CAAQ,KAAR,gBAAQ,MAAR,MACA,CAAQ,KAAR,WAAQ,MAAR,KACA,CAAQ,KAAR,gBAAQ,MAAR,KACA,CAAQ,KAAR,kBAAQ,MAAR,QAIEtC,QAAS,CACPhG,MADJ,SACA,GACM,OAAiB,MAAVqI,GAETU,kBAJJ,WAKM,IAAN,2BACM,OAAOC,GAEThB,KARJ,SAQA,GAEMiB,EAAWd,iBAEX3I,KAAK4I,gBAEPH,aAdJ,WAiBWzI,KAAKuJ,sBACRvJ,KAAK6I,OAAOa,UAAW,EACvB1J,KAAK6I,OAAOc,UAAY,OAG5Bf,aAtBJ,WAsBA,WACW5I,KAAKuJ,sBAIVvJ,KAAK6I,OAAOc,WAAY,IAAIC,MAAOC,WACnC7J,KAAK6I,OAAOa,UAAW,EAEvB1J,KAAK8J,WAAU,WACb,EAAR,mCAGIzB,SAlCJ,WAmCM,IAAI0B,EAAa,IAAIC,KAAK,CAACC,KAAKC,UAAUlK,KAAKsJ,SAAU,CACvDpI,KAAM,mBACN7C,KAAM,gBAER,EAAN,4BAEImF,yBAzCJ,WA0CMxD,KAAK+F,MAAM,6BAEbiD,cA5CJ,WA4CA,WACUhJ,KAAKkJ,gBACPlJ,KAAKmK,MAAMC,MAAMpK,KAAKkJ,eAAgB,CACpCmB,QAAQ,EACRC,eAAe,EACfC,gBAAgB,EAChBC,SAAU,SAApB,GACY,EAAZ,MACA,kBACA,6BAEc,OADA,EAAd,0BAAgB,UAAhB,MACA,IACA,UAOElH,QAjGF,WAkGQtD,KAAKmJ,aACPnJ,KAAKsJ,OAAStJ,KAAKmJ,WACnBnJ,KAAKuI,UAAYvI,KAAKmJ,WAAW,eAE/BnJ,KAAKoJ,aACPpJ,KAAK6I,OAAS7I,KAAKoJ,aAGvBxD,MAAO,CACLuD,WADJ,WAEUnJ,KAAKmJ,aACPnJ,KAAKsJ,OAAStJ,KAAKmJ,WACnBnJ,KAAKuI,UAAYvI,KAAKmJ,WAAW,gBAGrCC,WAPJ,WAQUpJ,KAAKoJ,aACPpJ,KAAK6I,OAAS7I,KAAKoJ,eCvWqT,ICQ5U,I,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIrJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAKN,EAAI0K,QAAQ,CAACtK,EAAG,KAAK,CAACM,YAAY,qBAAqB,CAACV,EAAIW,GAAGX,EAAI8B,GAAG9B,EAAIgE,WAAW5D,EAAG,MAAM,CAACmE,IAAI,QAAQ7D,YAAY,cAAcJ,MAAM,CAAC,GAAKN,EAAI2K,YACvQ,GAAkB,G,aCQtB,aAEA,IACErM,KAAM,aACN8E,MAAO,CACLlH,KAAM,CACJiF,KAAMsD,OAERT,OAAQ,CACN7C,KAAMkC,SAGVnH,KAVF,WAWI,MAAO,CACLyI,OAAQ,CAAd,mCACME,MAAO,KACPM,OAAQ,IACRJ,OAAQ,EACRC,gBAAiB,KACjB4F,eAAgB,KAChBC,YAAa,KACbC,UAAW,KACXC,KAAM,KACNC,OAAQ,KACRC,KAAM,OAGV/F,SAAU,CACRgG,UADJ,WAEM,OAAOjL,KAAKkF,OAAS,GAEvBgG,OAJJ,WAKM,OAAOlL,KAAKkF,OAAS,EAAIlF,KAAK0E,OAAOyG,QAEvCtG,QAPJ,WAQM,MAAqB,GAAd7E,KAAK8E,QAEd4F,MAVJ,WAWM,MAAO,aAAe1K,KAAK+D,QAE7B0G,MAbJ,WAcM,MAAO,aAAezK,KAAK+D,QAE7BqH,UAhBJ,WAiBM,MAAO,WAAapL,KAAK+D,QAE3B0B,EAnBJ,WAmBA,WACM,OAAO,GACb,cACA,wCAAQ,OAAR,gBACA,wDAEI4F,WAzBJ,WA0BM,OAAOrL,KAAKsL,MAAMtL,KAAK/D,KAAoB,EAAd+D,KAAK8E,OAAa9E,KAAK6E,UAEtD0G,YA5BJ,WA4BA,WACA,sEACA,qBACA,oBACA,qBACA,MACM,MAAO,CACLC,GAAIA,EACJC,OAAQA,EACRC,GAAIA,EACJC,mBAAoBA,EACpBvF,IAAKoF,EAAK,IAAMG,EAChBC,IAAKJ,EAAK,IAAMG,KAItB/F,MAAO,CACLb,gBAAiB,CACfc,MAAM,EACNC,QAAS,WACP9F,KAAK+F,MAAM,wBAAyB,CAClChC,OAAQ/D,KAAK+D,OACbiC,QAAShG,KAAK+E,qBAKtBzB,QAhFF,WAiFItD,KAAK4E,MAAQ5E,KAAKqG,MAAMC,MAAMC,YAC9BvG,KAAK+E,gBAAkB/E,KAAK/D,KAAKyJ,KAAI,SAAzC,kCAEI,IAAJ,yBACI,MAAOmG,EAAe7L,KAAK0E,OAAOoH,IAChC9L,KAAK8E,OAAS9E,KAAK8E,OAAS,GACxB9E,KAAK8E,OAAS,IAChB9E,KAAK8E,OAAS,EACd9E,KAAKkF,OAASlF,KAAKkF,OAAS,IAE9B2G,EAAe7L,KAAK+L,kBAEtB/L,KAAKkG,eAEPM,QAAS,CACPuF,gBADJ,WAEM,OACN,YACA,eACA,mBACA,gBACA,YACA,aACA,oEAAQ,OAAR,UAGIT,MAZJ,SAYA,gBACA,gBACA,IACA,iBAAQ,MAAR,+BACA,oBAAQ,OAAR,WACA,OACA,OACA,OAGM,SAASU,EAAWvG,EAAGE,GACrB,IAAR,IACQ,MAAOsG,EAAG,CACR,GAAIC,EAAUC,EAAU,KAAlC,+BACY,OAAO,EAETF,EAAIA,EAAEG,KAER,OAAO,EAlBf,wBAsBA,GAtBA,IAsBA,0CAEA,4BAEA,iBACA,QACA,QACA,GACA,2CACA,0BACA,eACA,GAIA,YACA,eACA,YAvCA,8BA0CM,OAAOC,GAETnG,YAxDJ,WAwDA,WACM,GAAN,uBACA,cACA,0BACA,KACA,QACA,0HAGM,IAAImB,EAAM,GAChB,uBACA,6CAEMA,EACN,gBACA,KAFA,0DAIA,cAJA,QAQM,IAAN,OACA,SAEA,qBACA,EACA,iBADA,sBACA,yBADA,MAEA,yCAEMA,EAAIC,OAAO,KAAKzK,KAAK2I,GAErB,IAAN,KACA,SACA,QACA,mCACA,gEAEA,cACA,YAKM,SAASQ,IACP,GAAR,OAAY,GAAZ,gBAAQ,CACA,IAAR,sCAFA,iBAGA,mBAHA,GAGA,EAHA,KAGA,EAHA,KAIQyB,EAAOM,QAAQ,UAAU,SAAjC,GACU,OAAOuE,EAAKlO,EAAEqH,GAAK8G,EAAKnO,EAAEqH,KAE5BuC,EAAKjD,gBAAkBiD,EAAK/L,KACpC,QACA,YAAU,OAAV,4CAEA,iBAAU,OAAV,yBAIM,SAASgM,IACP,GAAR,OAAY,GAAZ,gBAAQ,CACA,IAAR,sCACQR,EAAOM,QAAQ,UAAU,GACzBC,EAAKjD,gBAAkBiD,EAAK/L,KAAKyJ,KAAI,SAA7C,mCAtBM2B,EAAIxK,KAAK2K,GA0BT,IAAN,KACA,kBACA,iCACA,mBAGMH,EACN,YACA,oBACA,sBACA,eACA,uBAAQ,OAAR,OACA,KACA,MACA,YAAQ,OACR,SACA,YACA,gBACA,aACA,SACA,UACA,OAEA,sBACA,0BAAQ,OAAR,uBACA,0BACA,uBACA,4BACQ,EAAR,yCACQ,GAAR,+BACA,aACA,cACA,uBAEQ,GAAR,wBACA,aACA,cACA,2BACA,mCAEA,0BACQ,EAAR,oBACQ,GAAR,+BACA,aACA,cACA,mBAEQ,GAAR,mDAEA,2BACQ,GAAR,wBACA,qCACA,uCAEA,wBACQ,EAAR,4DAIMA,EACN,eACA,mCACA,mCACA,KACA,KACA,YACA,mBACA,aACA,YACA,kBAEA,KACA,KACA,YACA,mBACA,aACA,YACA,kBAEA,uBACA,uBAGMA,EACN,eACA,KACA,IACA,YACA,mBACA,eACA,aACA,aAEA,iCACA,4DACA,8BACA,sBACA,qBAGMA,EACN,kBACA,MACA,qBACA,wBACA,uBAEA,QACA,eACA,KACA,KACA,YACA,mBACA,eACA,aACA,aAEA,KACA,KACA,yDAEA,uBACQ,OAAR,QAEA,uBACQ,OAAR,QAEA,uBACA,0BCpWoV,MCQhV,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCiFf,IACEhJ,KAAM,cACNmO,WAAY,CACVC,UAAJ,EACIC,kBAAJ,EACIC,QAAJ,EACIC,OAAJ,GACIC,WAAJ,IAEE5Q,KATF,WAUI,MAAO,CACL6F,YAAa,KACbiD,gBAAiB,GACjBZ,4BAA6B,GAC7BP,eAAgB,GAChBE,cAAe,GACfZ,cAAe,CACbQ,UACR,4hBAIEP,MAAO,CACLgG,WAAY,CACVjI,KAAMxE,SAGV4G,QA3BF,WA2BA,WACQtD,KAAKmJ,aACPnJ,KAAK8B,YAAc9B,KAAKmJ,YAG1BnJ,KAAK4D,eAAiB,GACtB5D,KAAK8D,cAAgB,GACrB9D,KAAK+E,gBAAkB/E,KAAK2D,cAAcmJ,QAC9C,cAAM,OAAN,iCACA,GADA,qBAEA,0CAAQ,OAAR,4BAEA,IAEI9M,KAAK+E,gBAAgB2H,kBAAoB1M,KAAK8B,YAAYiL,SAASrH,KACvE,YAAM,OAAN,yBAGEc,QAAS,CACP3C,sBADJ,SACA,GACM7D,KAAK+E,gBAAgBiI,EAAmBjJ,QAC9C,UAEM/D,KAAKmE,4BAA8BzH,OAAOuQ,OAChD,sBACA,QACA,cAAQ,OACR,sBAAU,OAAV,mBACA,2CAAQ,OAAR,0BAGIvK,sBAbJ,SAaA,GACM1C,KAAK+F,MAAM,kBAAmBxD,IAEhCiB,yBAhBJ,WAiBMxD,KAAK+F,MAAM,6BAEbtC,gBAnBJ,SAmBA,GACMzD,KAAK+F,MAAM,kBAAmBmH,IAEhC9I,+BAtBJ,WAuBM+I,UAAUC,UAAUC,UAAUrN,KAAKmE,4BAA4BmJ,UAGnErI,SAAU,CACRtB,cADJ,WAEM,OAAOjH,OAAO2I,KAAKrF,KAAK8B,YAAYiL,SAAS,IACnD,QACA,YAAQ,OACR,CACA,iBACA,aACA,qBACA,aACA,aACA,eAEA,SAGEnH,MAAO,CACLuD,WADJ,WAEUnJ,KAAKmJ,aACPnJ,KAAK8B,YAAc9B,KAAKmJ,eC9LqT,MCQjV,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIpJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACM,YAAY,OAAOJ,MAAM,CAAC,MAAQ,KAAK,CAAEN,EAAU,OAAEI,EAAG,cAAc,CAACM,YAAY,OAAOJ,MAAM,CAAC,MAAQ,KAAK,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,WAAaN,EAAIuJ,OAAO,WAAavJ,EAAI8I,QAAQ7H,GAAG,CAAC,yBAA2BjB,EAAIyD,yBAAyB,gBAAkBzD,EAAI0D,mBAAmBtD,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACJ,EAAIW,GAAGX,EAAI8B,GAAG9B,EAAIuJ,OAAOiE,eAAepN,EAAG,KAAK,CAACM,YAAY,aAAa,CAACV,EAAIW,GAAG,mBAAmBP,EAAG,IAAI,CAACM,YAAY,QAAQ,CAACV,EAAIW,GAAG,0CAA0CP,EAAG,MAAM,CAACqN,YAAY,CAAC,mBAAmB,UAAU,CAACrN,EAAG,YAAY,CAACE,MAAM,CAAC,iBAAiBN,EAAImD,cAAcuK,uBAAuB1N,EAAIuC,GAAIvC,EAAIuJ,OAAoB,eAAE,SAASoE,GAAM,OAAOvN,EAAG,WAAW,CAACf,IAAIsO,EAAKC,YAAYtN,MAAM,CAAC,EAAIqN,EAAKE,EAAE,EAAIF,EAAKG,EAAE,IAAMH,EAAKI,IAAI,WAAaJ,EAAKK,WAAW,IAAML,EAAKM,IAAI,GAAKN,EAAKC,YAAY,KAAO5N,EAAIkO,KAAK,aAAc,EAAM,QAAU,WAAU,GAAG9N,EAAG,aAAa,CAACmE,IAAI,aAAajE,MAAM,CAAC,IAAM,EAAE,IAAMN,EAAIuJ,OAAO4E,cAAc,GAAGH,WAAa,GAAGpN,MAAM,CAAC7B,MAAOiB,EAAQ,KAAEa,SAAS,SAAUC,GAAMd,EAAIkO,KAAKpN,GAAKE,WAAW,UAAUZ,EAAG,YAAY,CAACE,MAAM,CAAC,iBAAiBN,EAAImD,cAAciL,aAAahO,EAAG,MAAM,CAACqN,YAAY,CAAC,OAAS,QAAQ,MAAQ,OAAO,QAAU,gBAAgB,CAACrN,EAAG,aAAa,CAACE,MAAM,CAAC,GAAK,gBAAgB,KAAON,EAAIuJ,OAAO8E,YAAY,gBAAkBrO,EAAIuJ,OAAO+E,gBAAgB,OAAS,KAAK,OAAS,MAAM,aAAetO,EAAIkO,SAAS,GAAG9N,EAAG,YAAY,CAACE,MAAM,CAAC,iBAAiBN,EAAImD,cAAcoL,cAAcnO,EAAG,aAAa,CAACE,MAAM,CAAC,KAAON,EAAIuJ,OAAOiF,WAAW,aAAexO,EAAIkO,QAAQ9N,EAAG,aAAa,CAACmE,IAAI,aAAajE,MAAM,CAAC,IAAM,EAAE,IAAMN,EAAIuJ,OAAO4E,cAAc,GAAGH,WAAa,GAAGpN,MAAM,CAAC7B,MAAOiB,EAAQ,KAAEa,SAAS,SAAUC,GAAMd,EAAIkO,KAAKpN,GAAKE,WAAW,UAAUZ,EAAG,YAAY,CAACE,MAAM,CAAC,iBAAiBN,EAAImD,cAAcsL,UAAUrO,EAAG,cAAc,CAACE,MAAM,CAAC,OAASN,EAAIuJ,OAAO,KAAOvJ,EAAIkO,QAAQ9N,EAAG,KAAK,CAACM,YAAY,aAAa,CAACV,EAAIW,GAAG,+BAA+BP,EAAG,IAAI,CAACM,YAAY,QAAQ,CAACV,EAAIW,GAAG,kDAAkDP,EAAG,YAAY,CAACE,MAAM,CAAC,iBAAiBN,EAAImD,cAAcuL,mBAAmBtO,EAAG,cAAc,CAACmE,IAAI,kBAAkBjE,MAAM,CAAC,GAAK,kBAAkB,WAAaN,EAAIuJ,OAAOoF,GAAGV,IAAI,WAAajO,EAAIuJ,OAAOoF,GAAGV,IAAI,cAAgBjO,EAAIuJ,OAAOqF,UAAUX,IAAI,cAAgBjO,EAAIuJ,OAAOqF,UAAUX,IAAI,KAAOjO,EAAIuJ,OAAOoF,GAAGZ,IAAI,QAAU/N,EAAIuJ,OAAOqF,UAAUb,OAAO3N,EAAG,KAAK,CAACM,YAAY,aAAa,CAACV,EAAIW,GAAG,kBAAkBP,EAAG,IAAI,CAACM,YAAY,QAAQ,CAACV,EAAIW,GAAG,2BAA2BP,EAAG,YAAY,CAACE,MAAM,CAAC,iBAAiBN,EAAImD,cAAc0L,iBAAiBzO,EAAG,cAAc,CAACmE,IAAI,gBAAgBjE,MAAM,CAAC,GAAK,gBAAgB,WAAaN,EAAIuJ,OAAOoF,GAAGV,IAAI,WAAajO,EAAIuJ,OAAOoF,GAAGV,IAAI,cAAgBjO,EAAIuJ,OAAOuF,QAAQb,IAAI,cAAgBjO,EAAIuJ,OAAOuF,QAAQb,IAAI,KAAOjO,EAAIuJ,OAAOoF,GAAGZ,IAAI,QAAU/N,EAAIuJ,OAAOuF,QAAQf,QAAQ,IAAI,IAAI,GAAG3N,EAAG,YAAY,IAC16F,GAAkB,GCDlB,GAAS,WAAa,IAAIJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,eAAe,CAAGV,EAAI+O,KAAuC/O,EAAIyB,KAArCrB,EAAG,MAAM,CAACJ,EAAIW,GAAG,gBAAyBP,EAAG,SAAS,CAACE,MAAM,CAAC,GAAKN,EAAIgP,MAAOhP,EAAY,SAAEI,EAAG,MAAM,CAACM,YAAY,SAASJ,MAAM,CAAC,GAAKN,EAAIgP,GAAK,aAAa,IAAM,yBAA2BhP,EAAIiP,QAAQjP,EAAIyB,KAAMzB,EAAIkP,SAAWlP,EAAImP,SAAU/O,EAAG,MAAM,CAACM,YAAY,SAASJ,MAAM,CAAC,GAAKN,EAAIgP,GAAK,cAAc,IAAM,yBAA2BhP,EAAIkP,WAAWlP,EAAIyB,QACrf,GAAkB,G,oBCAtB,SAAS2N,GAAYC,GAEnB,SAASC,EAAoBC,EAASC,GAEpC,OADAD,EAAQE,sBAAwBD,EACzBD,EAIT,IAAIG,EAAQ,GAGRC,EAAgB,CAElBC,UAAU,EAGVC,QAAQ,EAGRC,WAAW,EAGXC,gBAAiB,UAGjBC,iBAAiB,EAGjBC,OAAQ,CAAEC,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACzBC,UAAW,EAGXC,QAAQ,EAGRC,eAAgB,IAGhBC,SAAU,KACVC,UAAW,UAGXC,WAAY,EAGZC,WAAW,EAGXC,eAAgB,UAGhBC,cAAe,GAGfC,OAAO,EAGPC,UAAU,GAGRrB,EAAQ/S,OAAOqU,OAAO,GAAIrB,EAAeN,GAkxB7C,MA/wB4B,mBAAjBK,EAAMY,SAAyC,IAAjBZ,EAAMY,SAC7CZ,EAAMY,OAAS,CACb,CAACZ,EAAMW,UAAW,EAAG,GAAIX,EAAMO,OAAOC,GACtC,CAAC,EAAGR,EAAMW,UAAW,GAAIX,EAAMO,OAAOE,GACtC,CAAC,EAAG,EAAGT,EAAMW,WAAYX,EAAMO,OAAOG,GACtC,CAAC,EAAG,EAAG,EAAG,KAKdV,EAAMuB,OAASC,SAASC,eAAe9B,EAAO4B,QAC9CvB,EAAMH,QAAUG,EAAMuB,OAAOG,WAAW,MACxC1B,EAAMH,QAAUD,EAAoBI,EAAMH,QAASG,EAAMG,QAIzDH,EAAM2B,QAAUH,SAASI,cAAc,UACvC5B,EAAM6B,SAAW7B,EAAM2B,QAAQD,WAAW,MAI1C1B,EAAM8B,QAAUN,SAASI,cAAc,UACvC5B,EAAM+B,SAAW/B,EAAM8B,QAAQJ,WAAW,MAG1C1B,EAAMgC,WAAaR,SAASI,cAAc,UAC1C5B,EAAMiC,YAAcjC,EAAMgC,WAAWN,WAAW,MAChD1B,EAAMgC,WAAW7M,MAAQ,EACzB6K,EAAMgC,WAAWvM,OAAS,EAG1BuK,EAAMkC,QAAoC,qBAAnBvC,EAAOuC,QAA0BvC,EAAOuC,QAAU,GAGrElC,EAAMM,gBACRN,EAAMmC,UAAY,GAElBnC,EAAMmC,UAAY,EAMpBnC,EAAMoC,OAASZ,SAASC,eAAe9B,EAAOyC,QAG9CpC,EAAMqC,MAAQrC,EAAMoC,OAAOjN,MAAQwK,EAAO2C,QAAQ7B,EAClDT,EAAMuC,MAAQvC,EAAMoC,OAAO3M,OAASkK,EAAO2C,QAAQ5B,EAGnDV,EAAMsC,QAAU,CACd9B,EAC8B,qBAArBb,EAAO2C,QAAQ9B,EAClBb,EAAO2C,QAAQ9B,EACfR,EAAMqC,MAAQrC,EAAMuC,MAC1B9B,EAAGd,EAAO2C,QAAQ7B,EAClBC,EAAGf,EAAO2C,QAAQ5B,GAIpBV,EAAMwC,YAAc,CAAEhC,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACrCV,EAAMyC,aAAe,CAAEjC,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGvE,IAAK,GAGxB,GAAlB6D,EAAMqB,WACRrB,EAAMqB,SAAW,CACfb,EAAG9J,KAAKgM,MAAM1C,EAAMsC,QAAQ9B,EAAI,GAChCC,EAAG/J,KAAKgM,MAAM1C,EAAMsC,QAAQ7B,EAAI,GAChCC,EAAGhK,KAAKgM,MAAM1C,EAAMsC,QAAQ5B,EAAI,KAKpCV,EAAM2C,iBAAmB,CAAEnC,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAK1CV,EAAM4C,OAAS,GAEf5C,EAAM4C,OAAOC,aAAerB,SAASI,cAAc,UACnD5B,EAAM4C,OAAOE,cAAgB9C,EAAM4C,OAAOC,aAAanB,WAAW,MAKlE/B,EAAOH,QACqB,qBAAnBG,EAAOH,SAA0BG,EAAOH,QAC7CG,EAAOH,UAETQ,EAAMR,QAAU,GAEhBQ,EAAMR,QAAQ4C,OAASZ,SAASC,eAAe9B,EAAOH,QAAQ4C,QAG9DpC,EAAMR,QAAQ6C,MAAQrC,EAAMR,QAAQ4C,OAAOjN,MAAQwK,EAAOH,QAAQ8C,QAAQ7B,EAC1ET,EAAMR,QAAQ+C,MACZvC,EAAMR,QAAQ4C,OAAO3M,OAASkK,EAAOH,QAAQ8C,QAAQ5B,EAEvDV,EAAMR,QAAQ8C,QAAU,CACtB9B,EACsC,qBAA7Bb,EAAOH,QAAQ8C,QAAQ9B,EAC1Bb,EAAOH,QAAQ8C,QAAQ9B,EACvBR,EAAMR,QAAQ6C,MAAQrC,EAAMR,QAAQ+C,MAC1C9B,EAAGd,EAAOH,QAAQ8C,QAAQ7B,EAC1BC,EAAGf,EAAOH,QAAQ8C,QAAQ5B,GAG5BV,EAAMR,QAAQuD,QACsB,qBAA3BpD,EAAOH,QAAQuD,QAClBpD,EAAOH,QAAQuD,QACf,GAMRpD,EAAOqD,SACsB,qBAApBrD,EAAOqD,UAA2BrD,EAAOqD,SAC9CrD,EAAOqD,WAEThD,EAAMgD,SAAW,GAEjBhD,EAAMgD,SAAS3E,IAAMmD,SAASC,eAAe9B,EAAOqD,SAAS3E,KAE7D2B,EAAMgD,SAASrM,IAAMgJ,EAAOqD,SAASrM,IACrCqJ,EAAMgD,SAAS7G,IAAMwD,EAAOqD,SAAS7G,IAErCwD,EAAOqD,SAASC,KACkB,qBAAzBtD,EAAOqD,SAASC,MACnBtD,EAAOqD,SAASC,KAGtBjD,EAAMgD,SAASzB,OAASC,SAASI,cAAc,UAC/C5B,EAAMgD,SAASnD,QAAUG,EAAMgD,SAASzB,OAAOG,WAAW,MAC1D1B,EAAMgD,SAASzB,OAAOpM,MAAQ6K,EAAMgD,SAAS3E,IAAIlJ,MACjD6K,EAAMgD,SAASzB,OAAO9L,OAASuK,EAAMgD,SAAS3E,IAAI5I,OAGlDuK,EAAMgD,SAASnD,QAAQqD,UACrBlD,EAAMgD,SAAS3E,IACf,EACA,EACA2B,EAAMgD,SAAS3E,IAAIlJ,MACnB6K,EAAMgD,SAAS3E,IAAI5I,OACnB,EACA,EACAuK,EAAMgD,SAAS3E,IAAIlJ,MACnB6K,EAAMgD,SAAS3E,IAAI5I,SAOvBuK,EAAMmD,SAAW,SAAUC,EAAKJ,GAC9B,IAAKA,EACH,OAAOK,IAET,IAAIC,EAAIC,EAAMC,EAASC,EAAKC,EAAKC,EACjCH,EAAUR,EAASzB,OAAOpM,MAC1BsO,EAAMJ,IACNK,EAAME,IACN,IAAK,IAAIC,EAAK,EAAGA,EAAKL,EAASK,IAC7BP,EAAKN,EAASnD,QAAQiE,aAAaD,EAAI,EAAG,EAAG,GAAGrX,KAChD+W,EACE7M,KAAKqN,IAAIT,EAAG,GAAKF,EAAI,GAAI,GACzB1M,KAAKqN,IAAIT,EAAG,GAAKF,EAAI,GAAI,GACzB1M,KAAKqN,IAAIT,EAAG,GAAKF,EAAI,GAAI,GACvBG,EAAOG,IACTD,EAAMI,EACNH,EAAMH,GAKV,OAFAI,EACGF,GAAOT,EAAS7G,IAAM6G,EAASrM,MAAS6M,EAAU,GAAKR,EAASrM,IAC5DgN,GAMT3D,EAAMgE,YAAc,WAClB,IAAIC,EAAM,GACNC,EAAQ,GACRC,EAAQ,GACZ,GAAInE,EAAMR,UAAYQ,EAAME,SAC1B,IACE+D,EAAIG,GAAK1N,KAAK2N,MAAMrE,EAAMqB,SAASb,EAAIR,EAAMqC,OAC7C4B,EAAIK,GAAK5N,KAAK2N,OAAOrE,EAAMqB,SAASb,EAAIyD,EAAIG,IAAMpE,EAAMqC,OACxDrC,EAAMiC,YAAYsC,UAAY,UAC9BvE,EAAMiC,YAAYuC,SAAS,EAAG,EAAG,EAAG,GACpCxE,EAAMiC,YAAYiB,UAChBlD,EAAMR,QAAQ4C,OACd6B,EAAIG,GAAKpE,EAAMsC,QAAQ7B,EAAIT,EAAMqB,SAASZ,EAC1CwD,EAAIK,GAAKtE,EAAMsC,QAAQ5B,EAAIV,EAAMsC,QAAQ5B,EAAIV,EAAMqB,SAASX,EAAI,EAChE,EACA,EACA,EACA,EACA,EACA,GAEF,IAAI0C,EAAMpD,EAAMiC,YAAY6B,aAAa,EAAG,EAAG,EAAG,GAAGtX,KACrD0X,EAAkB,KAAVd,EAAI,IAAuB,KAAVA,EAAI,IAAuB,KAAVA,EAAI,GAC9CpD,EAAMiC,YAAYsC,UAAY,UAC9BvE,EAAMiC,YAAYuC,SAAS,EAAG,EAAG,EAAG,GACpCxE,EAAMiC,YAAYiB,UAChBlD,EAAMR,QAAQ4C,OACd6B,EAAIG,GAAKpE,EAAMsC,QAAQ7B,EAAIT,EAAMqB,SAASZ,EAC1CwD,EAAIK,GAAKtE,EAAMsC,QAAQ5B,EAAIV,EAAMsC,QAAQ5B,EAAIV,EAAMqB,SAASX,EAAI,EAChE,EACA,EACA,EACA,EACA,EACA,GAEF0C,EAAMpD,EAAMiC,YAAY6B,aAAa,EAAG,EAAG,EAAG,GAAGtX,KACjD2X,EAAkB,GAAVf,EAAI,IAAqB,GAAVA,EAAI,IAAqB,GAAVA,EAAI,GAExCpD,EAAM2D,WADJO,GAASC,EACQd,IAEArD,EAAMmD,SAASC,EAAKpD,EAAMgD,UAE/C,MAAOyB,GACPC,QAAQC,KAAKF,EAAIG,SACjBxB,IAAM,EACNpD,EAAME,UAAW,EACjBF,EAAM2D,WAAaN,SAGrBrD,EAAM2D,WAAaN,KAQvBrD,EAAM6E,SAAW,SAAUrI,EAAGsI,GAM5B,IALA,IAAIC,EAAWvI,EAAExP,OACfgY,EAAWxI,EAAE,GAAGxP,OAEhBiY,GADWH,EAAE9X,OACF8X,EAAE,GAAG9X,QAChByB,EAAI,IAAIsG,MAAMgQ,GACP7V,EAAI,EAAGA,EAAI6V,IAAY7V,EAAG,CACjCT,EAAES,GAAK,IAAI6F,MAAMkQ,GACjB,IAAK,IAAIvW,EAAI,EAAGA,EAAIuW,IAAYvW,EAAG,CACjCD,EAAES,GAAGR,GAAK,EACV,IAAK,IAAI5B,EAAI,EAAGA,EAAIkY,IAAYlY,EAC9B2B,EAAES,GAAGR,IAAM8N,EAAEtN,GAAGpC,GAAKgY,EAAEhY,GAAG4B,IAIhC,OAAOD,GAMTuR,EAAMkF,kBAAoB,WACxB,IAAMC,EAAanF,EAAM6E,SAAS7E,EAAMY,OAAQ,CAC9C,CAACZ,EAAMqB,SAASb,EAAI,GACpB,CAACR,EAAMqB,SAASZ,EAAI,GACpB,CAACT,EAAMqB,SAASX,EAAI,GACpB,CAAC,KAEHV,EAAM2C,iBAAiBnC,EAAI2E,EAAW,GACtCnF,EAAM2C,iBAAiBlC,EAAI0E,EAAW,GACtCnF,EAAM2C,iBAAiBjC,EAAIyE,EAAW,IAMxCnF,EAAMoF,KAAO,WAEXpF,EAAMwC,YAAYhC,EAAI9J,KAAKgM,MACzB1C,EAAMuB,OAAO8D,cAAcvO,aACxBkJ,EAAMsC,QAAQ7B,GAAK,EAAIT,EAAMsC,QAAQ9B,EAAIR,EAAMsC,QAAQ7B,KAE5DT,EAAMwC,YAAY/B,EAAI/J,KAAKgM,MACzB1C,EAAMuB,OAAO8D,cAAcvO,aACxBkJ,EAAMsC,QAAQ9B,GAAK,EAAIR,EAAMsC,QAAQ9B,EAAIR,EAAMsC,QAAQ7B,KAE5DT,EAAMwC,YAAY9B,EAAIhK,KAAKgM,MACzB1C,EAAMuB,OAAO8D,cAAcvO,aACxBkJ,EAAMsC,QAAQ9B,GAAK,EAAIR,EAAMsC,QAAQ9B,EAAIR,EAAMsC,QAAQ7B,KAE5DT,EAAMwC,YAAYrG,IAAMzF,KAAKyF,IAC3B6D,EAAMwC,YAAYhC,EAClBR,EAAMwC,YAAY/B,EAClBT,EAAMwC,YAAY9B,GAIpBV,EAAMyC,aAAajC,EAAI9J,KAAKgM,MACzB1C,EAAMwC,YAAYhC,EAAIR,EAAMsC,QAAQ5B,EAAKV,EAAMsC,QAAQ7B,GAE1DT,EAAMyC,aAAahC,EAAI/J,KAAKgM,MACzB1C,EAAMwC,YAAY/B,EAAIT,EAAMsC,QAAQ5B,EAAKV,EAAMsC,QAAQ9B,GAE1DR,EAAMyC,aAAa/B,EAAIhK,KAAKgM,MACzB1C,EAAMwC,YAAY9B,EAAIV,EAAMsC,QAAQ7B,EAAKT,EAAMsC,QAAQ9B,GAE1DR,EAAMyC,aAAatG,IAAMzF,KAAKyF,IAC5B6D,EAAMyC,aAAajC,EACnBR,EAAMyC,aAAahC,EACnBT,EAAMyC,aAAa/B,GAKnBV,EAAMuB,OAAOpM,OACb6K,EAAMwC,YAAYhC,EAAIR,EAAMwC,YAAY/B,EAAIT,EAAMwC,YAAY9B,IAE9DV,EAAMuB,OAAOpM,MACX6K,EAAMwC,YAAYhC,EAAIR,EAAMwC,YAAY/B,EAAIT,EAAMwC,YAAY9B,EAChEV,EAAMuB,OAAO9L,OAASiB,KAAK2N,OACxB,EAAIrE,EAAMmC,WAAanC,EAAMyC,aAAatG,KAE7C6D,EAAMH,QAAUD,EAAoBI,EAAMH,QAASG,EAAMG,SAI3DH,EAAMsF,eAAiB5O,KAAK2N,MAAMrE,EAAMc,SAAWd,EAAMyC,aAAatG,KAGtE6D,EAAMH,QAAQ0F,KAAOvF,EAAMsF,eAAiB,WAG5CtF,EAAM4C,OAAOC,aAAa1N,MAAQ6K,EAAMoC,OAAOjN,MAC/C6K,EAAM4C,OAAOC,aAAapN,OAASuK,EAAMoC,OAAO3M,OAChDuK,EAAM4C,OAAOE,cAAc0C,YAAc,EACzCxF,EAAM4C,OAAOE,cAAcI,UACzBlD,EAAMoC,OACN,EACA,EACApC,EAAMoC,OAAOjN,MACb6K,EAAMoC,OAAO3M,OACb,EACA,EACAuK,EAAMoC,OAAOjN,MACb6K,EAAMoC,OAAO3M,QAEXuK,EAAMR,UAERQ,EAAM4C,OAAOE,cAAc0C,YAAcxF,EAAMR,QAAQuD,QACvD/C,EAAM4C,OAAOE,cAAcI,UACzBlD,EAAMR,QAAQ4C,OACd,EACA,EACApC,EAAMR,QAAQ4C,OAAOjN,MACrB6K,EAAMR,QAAQ4C,OAAO3M,OACrB,EACA,EACAuK,EAAMoC,OAAOjN,MACb6K,EAAMoC,OAAO3M,SAKjBuK,EAAM4C,OAAO6C,QAAUjE,SAASI,cAAc,UAC9C5B,EAAM4C,OAAO8C,SAAW1F,EAAM4C,OAAO6C,QAAQ/D,WAAW,MACxD1B,EAAM4C,OAAO6C,QAAQtQ,MAAQ6K,EAAMsC,QAAQ7B,EAC3CT,EAAM4C,OAAO6C,QAAQhQ,OAASuK,EAAMsC,QAAQ5B,EAG5CV,EAAM4C,OAAOjB,QAAUH,SAASI,cAAc,UAC9C5B,EAAM4C,OAAOf,SAAW7B,EAAM4C,OAAOjB,QAAQD,WAAW,MACxD1B,EAAM4C,OAAOjB,QAAQxM,MAAQ6K,EAAMsC,QAAQ9B,EAC3CR,EAAM4C,OAAOjB,QAAQlM,OAASuK,EAAMsC,QAAQ5B,EAG5CV,EAAM4C,OAAOd,QAAUN,SAASI,cAAc,UAC9C5B,EAAM4C,OAAOb,SAAW/B,EAAM4C,OAAOd,QAAQJ,WAAW,MACxD1B,EAAM4C,OAAOd,QAAQ3M,MAAQ6K,EAAMsC,QAAQ9B,EAC3CR,EAAM4C,OAAOd,QAAQrM,OAASuK,EAAMsC,QAAQ7B,EAC5CT,EAAM4C,OAAOb,SAAS4D,QAAQjP,KAAKkP,GAAK,GACxC5F,EAAM4C,OAAOb,SAAS8D,WAAW7F,EAAMsC,QAAQ7B,EAAG,GAGlDT,EAAMgE,cAGNhE,EAAMkF,oBAGNlF,EAAMqB,SAASb,EAAI9J,KAAK2N,MAAMrE,EAAMqB,SAASb,GAC7CR,EAAMqB,SAASZ,EAAI/J,KAAK2N,MAAMrE,EAAMqB,SAASZ,GAC7CT,EAAMqB,SAASX,EAAIhK,KAAK2N,MAAMrE,EAAMqB,SAASX,IAM/CV,EAAM8F,KAAO,SAAU1V,EAAOqB,GAE5B,IACEsU,EACAC,EAFE/B,EAAM,GAGRgC,EAAS,CAAEzF,EAAG,GAAIC,EAAG,GAAIC,EAAG,IAM9B,OALAuF,EAAOzF,EAAI9J,KAAKwP,MAAO,EAAIlG,EAAMmB,eAAiBnB,EAAMsC,QAAQ9B,EAAK,GACrEyF,EAAOxF,EAAI/J,KAAKwP,MAAO,EAAIlG,EAAMmB,eAAiBnB,EAAMsC,QAAQ7B,EAAK,GACrEwF,EAAOvF,EAAIhK,KAAKwP,MAAO,EAAIlG,EAAMmB,eAAiBnB,EAAMsC,QAAQ5B,EAAK,GAG7DjP,GACN,IAAK,IAEHwS,EAAIG,GAAKpE,EAAMqB,SAASb,EAAIR,EAAMqC,MAClC4B,EAAIK,IAAMtE,EAAMqB,SAASb,EAAIyD,EAAIG,IAAMpE,EAAMqC,MAC7CrC,EAAM4C,OAAO8C,SAASxC,UACpBlD,EAAM4C,OAAOC,aACboB,EAAIG,GAAKpE,EAAMsC,QAAQ7B,EACvBwD,EAAIK,GAAKtE,EAAMsC,QAAQ5B,EACvBV,EAAMsC,QAAQ7B,EACdT,EAAMsC,QAAQ5B,EACd,EACA,EACAV,EAAMsC,QAAQ7B,EACdT,EAAMsC,QAAQ5B,GAIZV,EAAMiB,YACRjB,EAAM4C,OAAO8C,SAASnB,UAAYvE,EAAMkB,eACxClB,EAAM4C,OAAO8C,SAASlB,SACpBxE,EAAMqB,SAASZ,EACfwF,EAAOvF,EACP,EACAV,EAAMsC,QAAQ5B,EAAI,EAAIuF,EAAOvF,GAE/BV,EAAM4C,OAAO8C,SAASlB,SACpByB,EAAOxF,EACPT,EAAMsC,QAAQ5B,EAAIV,EAAMqB,SAASX,EAAI,EACrCV,EAAMsC,QAAQ7B,EAAI,EAAIwF,EAAOxF,EAC7B,IAKJT,EAAMH,QAAQ0E,UAAYvE,EAAMK,gBAChCL,EAAMH,QAAQ2E,SAAS,EAAG,EAAGxE,EAAMwC,YAAYhC,EAAGR,EAAMuB,OAAO9L,QAG/DuK,EAAMH,QAAQqD,UACZlD,EAAM4C,OAAO6C,QACb,EACA,EACAzF,EAAMsC,QAAQ7B,EACdT,EAAMsC,QAAQ5B,EACd,GACCV,EAAMyC,aAAatG,IAAM6D,EAAMyC,aAAajC,GAAK,EAClDR,EAAMwC,YAAYhC,EAClBR,EAAMyC,aAAajC,GAIjBR,EAAMoB,QACRpB,EAAMH,QAAQ0E,UAAYvE,EAAMe,UAChCf,EAAMH,QAAQsG,SACZnG,EAAMoB,MACN1K,KAAK2N,MAAMrE,EAAMwC,YAAYhC,EAAI,IACjC9J,KAAK2N,MACHrE,EAAMyC,aAAatG,IAAM6D,EAAMa,eAC5B,EAAI,EAAKb,EAAMsF,kBAMpBtF,EAAMI,YACR/Q,MACE,WACA+W,OAAOC,WAAWrG,EAAM2D,YACrB2C,YAAYtG,EAAMgB,YAClBuF,QAAQ,MAAO,IACpBC,WAAaxG,EAAMH,QAAQ4G,YAAYpX,OAAO8F,MAC9C6K,EAAMH,QAAQ0E,UAAYvE,EAAMe,UAChCf,EAAMH,QAAQsG,SACZ9W,MACAqH,KAAK2N,MAAMrE,EAAMwC,YAAYhC,EAAI,IACjC9J,KAAK2N,MACHrE,EAAMyC,aAAatG,IAAM6D,EAAMa,eAAiB,EAC7C,EAAI,EAAKb,EAAMsF,kBAMpBtF,EAAMM,kBACRyF,EAAQ,OAASrP,KAAK2N,MAAMrE,EAAM2C,iBAAiBnC,GACnDwF,EAAahG,EAAMH,QAAQ4G,YAAYV,GAAO5Q,MAC9C6K,EAAMH,QAAQ0E,UAAYvE,EAAMe,UAChCf,EAAMH,QAAQsG,SACZJ,EACA/F,EAAMwC,YAAYhC,EAAI,EAAIwF,EAAa,EACvCtP,KAAK2N,MAAMrE,EAAMuB,OAAO9L,OAASuK,EAAMsF,eAAiB,KAG5D,MAEF,IAAK,IAEHtF,EAAMH,QAAQ0E,UAAYvE,EAAMK,gBAChCL,EAAMH,QAAQ2E,SACZxE,EAAMwC,YAAYhC,EAClB,EACAR,EAAMwC,YAAY/B,EAClBT,EAAMuB,OAAO9L,QAEf,IAAK,IAAIoO,EAAK,EAAGA,EAAK7D,EAAMsC,QAAQ9B,EAAGqD,IAAM,CAC3C,IAAM6C,EAAO7C,EAAK7D,EAAMqC,MAClBsE,GAAQ9C,EAAK6C,GAAQ1G,EAAMqC,MACjCrC,EAAM4C,OAAOf,SAASqB,UACpBlD,EAAM4C,OAAOC,aACb6D,EAAO1G,EAAMsC,QAAQ7B,EAAIT,EAAMqB,SAASZ,EACxCkG,EAAO3G,EAAMsC,QAAQ5B,EACrB,EACAV,EAAMsC,QAAQ5B,EACdmD,EACA,EACA,EACA7D,EAAMsC,QAAQ5B,GAKdV,EAAMiB,YACRjB,EAAM4C,OAAOf,SAAS0C,UAAYvE,EAAMkB,eACxClB,EAAM4C,OAAOf,SAAS2C,SACpBxE,EAAMqB,SAASb,EACfyF,EAAOvF,EACP,EACAV,EAAMsC,QAAQ5B,EAAI,EAAIuF,EAAOvF,GAE/BV,EAAM4C,OAAOf,SAAS2C,SACpByB,EAAOzF,EACPR,EAAMsC,QAAQ5B,EAAIV,EAAMqB,SAASX,EAAI,EACrCV,EAAMsC,QAAQ9B,EAAI,EAAIyF,EAAOzF,EAC7B,IAKJR,EAAMH,QAAQqD,UACZlD,EAAM4C,OAAOjB,QACb,EACA,EACA3B,EAAMsC,QAAQ9B,EACdR,EAAMsC,QAAQ5B,EACdV,EAAMwC,YAAYhC,GACjBR,EAAMyC,aAAatG,IAAM6D,EAAMyC,aAAahC,GAAK,EAClDT,EAAMwC,YAAY/B,EAClBT,EAAMyC,aAAahC,GAIjBT,EAAMgD,WAAahD,EAAMgD,SAASC,OAEpCjD,EAAMH,QAAQqD,UACZlD,EAAMgD,SAAS3E,IACf,EACA,EACA2B,EAAMgD,SAAS3E,IAAIlJ,MACnB,EACAuB,KAAK2N,MAAMrE,EAAMwC,YAAYhC,EAA0B,GAAtBR,EAAMwC,YAAY/B,GACnD/J,KAAK2N,MAAOrE,EAAMyC,aAAatG,IAAM6D,EAAMa,eAAkB,GAC7DnK,KAAK2N,MAA4B,GAAtBrE,EAAMwC,YAAY/B,GAC7B/J,KAAK2N,MAAMrE,EAAMyC,aAAatG,IAAM6D,EAAMa,iBAE5Cb,EAAMH,QAAQ0E,UAAYvE,EAAMe,UAChC6F,UAAYR,OAAOC,WAAWrG,EAAMgD,SAASrM,KAC1C2P,YAAYtG,EAAMgB,YAClBuF,QAAQ,MAAO,IAClBM,UAAYT,OAAOC,WAAWrG,EAAMgD,SAAS7G,KAC1CmK,YAAYtG,EAAMgB,YAClBuF,QAAQ,MAAO,IAClBvG,EAAMH,QAAQsG,SACZS,UACA5G,EAAMwC,YAAYhC,EACM,GAAtBR,EAAMwC,YAAY/B,EAClBT,EAAMH,QAAQ4G,YAAYG,WAAWzR,MAAQ,EAC/CuB,KAAK2N,MACHrE,EAAMyC,aAAatG,IAAM6D,EAAMa,eAAiB,EAC7C,EAAI,EAAKb,EAAMsF,iBAGtBtF,EAAMH,QAAQsG,SACZU,UACA7G,EAAMwC,YAAYhC,EACM,GAAtBR,EAAMwC,YAAY/B,EAClBT,EAAMH,QAAQ4G,YAAYI,WAAW1R,MAAQ,EAC/CuB,KAAK2N,MACHrE,EAAMyC,aAAatG,IAAM6D,EAAMa,eAAiB,EAC7C,EAAI,EAAKb,EAAMsF,kBAMpBtF,EAAMM,kBACRN,EAAMH,QAAQ0F,KAAOvF,EAAMsF,eAAiB,WAC5CtF,EAAMH,QAAQ0E,UAAYvE,EAAMe,UAChCgF,EAAQ,OAASrP,KAAK2N,MAAMrE,EAAM2C,iBAAiBlC,GACnDuF,EAAahG,EAAMH,QAAQ4G,YAAYV,GAAO5Q,MAC9C6K,EAAMH,QAAQsG,SACZJ,EACA/F,EAAMwC,YAAYhC,EAAIR,EAAMwC,YAAY/B,EAAI,EAAIuF,EAAa,EAC7DtP,KAAK2N,MAAMrE,EAAMuB,OAAO9L,OAASuK,EAAMsF,eAAiB,KAI9D,IAAK,IAEHtF,EAAMH,QAAQ0E,UAAYvE,EAAMK,gBAChCL,EAAMH,QAAQ2E,SACZxE,EAAMwC,YAAYhC,EAAIR,EAAMwC,YAAY/B,EACxC,EACAT,EAAMwC,YAAY9B,EAClBV,EAAMuB,OAAO9L,QAGf,IAAK,IAAIoO,EAAK,EAAGA,EAAK7D,EAAMsC,QAAQ9B,EAAGqD,IAAM,CAC3C,IAAM6C,EAAO7C,EAAK7D,EAAMqC,MAClBsE,GAAQ9C,EAAK6C,GAAQ1G,EAAMqC,MACjCrC,EAAM4C,OAAOb,SAASmB,UACpBlD,EAAM4C,OAAOC,aACb6D,EAAO1G,EAAMsC,QAAQ7B,EACrBkG,EAAO3G,EAAMsC,QAAQ5B,EAAIV,EAAMsC,QAAQ5B,EAAIV,EAAMqB,SAASX,EAAI,EAC9DV,EAAMsC,QAAQ7B,EACd,EACA,EACAoD,EACA7D,EAAMsC,QAAQ7B,EACd,GAKAT,EAAMiB,YACRjB,EAAM4C,OAAOb,SAASwC,UAAYvE,EAAMkB,eACxClB,EAAM4C,OAAOb,SAASyC,SACpByB,EAAOxF,EACPT,EAAMqB,SAASb,EACfR,EAAMsC,QAAQ7B,EAAI,EAAIwF,EAAOxF,EAC7B,GAEFT,EAAM4C,OAAOb,SAASyC,SACpBxE,EAAMqB,SAASZ,EACfwF,EAAOzF,EACP,EACAR,EAAMsC,QAAQ9B,EAAI,EAAIyF,EAAOzF,IAKjCR,EAAMH,QAAQqD,UACZlD,EAAM4C,OAAOd,QACb,EACA,EACA9B,EAAMsC,QAAQ9B,EACdR,EAAMsC,QAAQ7B,EACdT,EAAMwC,YAAYhC,EAAIR,EAAMwC,YAAY/B,GACvCT,EAAMyC,aAAatG,IAAM6D,EAAMyC,aAAa/B,GAAK,EAClDV,EAAMwC,YAAY9B,EAClBV,EAAMyC,aAAa/B,GAIjBV,EAAMM,kBACRyF,EAAQ,OAASrP,KAAK2N,MAAMrE,EAAM2C,iBAAiBjC,GACnDsF,EAAahG,EAAMH,QAAQ4G,YAAYV,GAAO5Q,MAC9C6K,EAAMH,QAAQ0E,UAAYvE,EAAMe,UAChCf,EAAMH,QAAQsG,SACZJ,EACA/F,EAAMwC,YAAYhC,EAChBR,EAAMwC,YAAY/B,EAClBT,EAAMwC,YAAY9B,EAAI,EACtBsF,EAAa,EACftP,KAAK2N,MAAMrE,EAAMuB,OAAO9L,OAASuK,EAAMsF,eAAiB,OAOlEtF,EAAM8G,WAAa,SAAUrJ,GAC3B,IAGIsJ,EAAIC,EAAIC,EAHRC,EAAOlH,EAAMuB,OAAO4F,wBACpBtD,EAAKpG,EAAE2J,QAAUF,EAAKG,KACtBC,EAAK7J,EAAE8J,QAAUL,EAAK7K,IAGtBwH,EAAK7D,EAAMwC,YAAYhC,GACzBwG,EAAKtQ,KAAK2N,OAAOrE,EAAMsC,QAAQ7B,EAAI,IAAMoD,EAAK7D,EAAMwC,YAAYhC,IAChEyG,EAAKvQ,KAAK2N,OACNrE,EAAMsC,QAAQ5B,EAAI,KAChBV,EAAMyC,aAAatG,IAAM6D,EAAMyC,aAAajC,GAAK,EAAI8G,GACvDtH,EAAMyC,aAAajC,GAEvBR,EAAMqB,SAASZ,EAAI/J,KAAKyF,IAAIzF,KAAKC,IAAIqQ,EAAIhH,EAAMsC,QAAQ7B,EAAI,GAAI,GAC/DT,EAAMqB,SAASX,EAAIhK,KAAKyF,IAAIzF,KAAKC,IAAIsQ,EAAIjH,EAAMsC,QAAQ5B,EAAI,GAAI,IACtDmD,EAAK7D,EAAMwC,YAAYhC,EAAIR,EAAMwC,YAAY/B,GACtDoD,GAAU7D,EAAMwC,YAAYhC,EAC5BuG,EAAKrQ,KAAK2N,OAAOrE,EAAMsC,QAAQ9B,EAAI,IAAMqD,EAAK7D,EAAMwC,YAAY/B,IAChEwG,EAAKvQ,KAAK2N,OACNrE,EAAMsC,QAAQ5B,EAAI,KAChBV,EAAMyC,aAAatG,IAAM6D,EAAMyC,aAAajC,GAAK,EAAI8G,GACvDtH,EAAMyC,aAAajC,GAEvBR,EAAMqB,SAASb,EAAI9J,KAAKyF,IAAIzF,KAAKC,IAAIoQ,EAAI/G,EAAMsC,QAAQ9B,EAAI,GAAI,GAC/DR,EAAMqB,SAASX,EAAIhK,KAAKyF,IAAIzF,KAAKC,IAAIsQ,EAAIjH,EAAMsC,QAAQ5B,EAAI,GAAI,KAE/DmD,EAAKA,EAAK7D,EAAMwC,YAAYhC,EAAIR,EAAMwC,YAAY/B,EAClDsG,EAAKrQ,KAAK2N,OAAOrE,EAAMsC,QAAQ9B,EAAI,IAAMqD,EAAK7D,EAAMwC,YAAY9B,IAChEsG,EAAKtQ,KAAK2N,OACNrE,EAAMsC,QAAQ7B,EAAI,KAChBT,EAAMyC,aAAatG,IAAM6D,EAAMyC,aAAa/B,GAAK,EAAI4G,GACvDtH,EAAMyC,aAAa/B,GAEvBV,EAAMqB,SAASb,EAAI9J,KAAKyF,IAAIzF,KAAKC,IAAIoQ,EAAI/G,EAAMsC,QAAQ9B,EAAI,GAAI,GAC/DR,EAAMqB,SAASZ,EAAI/J,KAAKyF,IAAIzF,KAAKC,IAAIqQ,EAAIhH,EAAMsC,QAAQ7B,EAAI,GAAI,IAGjET,EAAMgE,cAGNhE,EAAMkF,oBAGNlF,EAAMwH,UACFxH,EAAMkC,SACRlC,EAAMkC,QAAQzE,IAIlBuC,EAAMwH,QAAU,WACdxH,EAAM8F,KAAK9F,EAAMqB,SAASb,EAAG,KAC7BR,EAAM8F,KAAK9F,EAAMqB,SAASZ,EAAG,KAC7BT,EAAM8F,KAAK9F,EAAMqB,SAASX,EAAG,MAI/BV,EAAMuB,OAAOkG,iBAAiB,QAASzH,EAAM8G,YAAY,GAGzD9G,EAAMuB,OAAOkG,iBACX,aACA,SAAUhK,GACRuC,EAAMuB,OAAOkG,iBAAiB,YAAazH,EAAM8G,YAAY,MAE/D,GAIF9G,EAAMuB,OAAOkG,iBACX,WACA,SAAUhK,GACRuC,EAAMuB,OAAOmG,oBAAoB,YAAa1H,EAAM8G,YAAY,MAElE,GAIF9G,EAAMoC,OAAOqF,iBAAiB,QAAQ,WACpCzH,EAAMoF,OACNpF,EAAMwH,aAEJxH,EAAMR,SACRQ,EAAMR,QAAQ4C,OAAOqF,iBAAiB,QAAQ,WAC5CzH,EAAMoF,OACNpF,EAAMwH,aAKVxH,EAAMoF,OAGNpF,EAAMwH,UAECxH,EAGMN,UC9yBf,IACE9Q,KAAM,cACN8E,MAAO,CACT,OACA,UACA,KACA,aACA,aACA,gBACA,iBAEElH,KAXF,WAYI,MAAO,CACLwT,MAAO,KACPP,UAAU,EACVJ,MAAM,IAGVtI,QAAS,CACP4Q,mBADJ,WAGM,IAAN,UACQpG,OAAQhR,KAAK+O,GACb8C,OAAQ,GAAhB,6BACQE,QAAS,CAAjB,qCACQ9C,QAAS,CACP4C,OAAQ,GAAlB,8BACUE,QAAS,CAAnB,2CACUS,QAAS,MAGbxS,KAAKyP,MAAQA,EACbzP,KAAKkP,UAAW,EAChBlP,KAAK8O,MAAO,IAGhBlJ,MAAO,CACLyR,OAAQ,CACNvR,QADN,WACA,WACQ9F,KAAKkP,UAAW,EAChBlP,KAAK8O,MAAO,EACZ9O,KAAK8J,WAAU,WACbwN,YAAW,WACT,EAAZ,uBACA,WAKEhU,QAjDF,WAiDA,WACItD,KAAK8J,WAAU,WACbwN,YAAW,WACT,EAAR,uBACA,UCzFqV,MCQjV,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIvX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,kBAAkB,CAACa,GAAG,CAAC,OAASjB,EAAImI,gBAAgB/H,EAAG,MAAM,CAACmE,IAAI,QAAQ7D,YAAY,aAAaJ,MAAM,CAAC,GAAK,YAAY,MAAQN,EAAI6E,MAAM,OAAS7E,EAAImF,SAAS,CAAC/E,EAAG,IAAI,CAACE,MAAM,CAAC,UAAY,aAAeN,EAAI2E,OAAOoS,KAAO,IAAM/W,EAAI2E,OAAOoH,IAAM,MAAM/L,EAAIuC,GAAIvC,EAAiB,eAAE,SAAS3B,GAAG,OAAO+B,EAAG,OAAO,CAACf,IAAIhB,EAAE7B,EAAI,IAAM6B,EAAEX,EAAE4C,MAAM,CAAC,EAAIN,EAAI0F,EAAErH,EAAE7B,GAAG,EAAIwD,EAAI4F,EAAEvH,EAAEX,GAAG,GAAK,IAAI,GAAK,IAAI,MAAQsC,EAAI0F,EAAE8R,YAAY,OAASxX,EAAI4F,EAAE4R,YAAY,KAAOxX,EAAIyX,QAAQpZ,EAAEU,OAAO,eAAe,IAAI,OAAS,OAAO,QAAUV,EAAE7B,IAAMwD,EAAI0X,aAAe,EAAI,SAAS,MAAM,IACtpB,GAAkB,GC8BtB,aAEA,IACEpZ,KAAM,aACN8E,MAAO,CACLlH,KAAM,CACJiF,KAAMsD,OAERiT,aAAc,CACZvW,KAAM2U,SAGV5Z,KAVF,WAWI,MAAO,CACLyI,OAAQ,CAAd,mCACMpB,SAAS,EACTsB,MAAO,KACPM,OAAQ,MAGZD,SAAU,CACRyS,WADJ,WAEM,OAAO1X,KAAK4E,MAAQ5E,KAAK0E,OAAOoS,KAAO9W,KAAK0E,OAAOiT,OAErDC,YAJJ,WAKM,OAAO,IAAM5X,KAAK0E,OAAOoH,IAAM9L,KAAK0E,OAAOyG,QAE7C0M,cAPJ,WAYM,IAJA,IAAN,mBACA,sBACA,KAEA,aACQ,IAAK,IAAb,aACUC,EAAO/a,KAAK,CAAtB,gCAGM,OAAO+a,GAETrS,EAnBJ,WAqBM,IAAN,KACA,oCACQ,OAAR,OAEA,OACM,OAAO,GACb,YACA,2BACA,UACA,cAEIE,EAhCJ,WAkCM,IAAN,KACA,oCACQ,OAAR,OAEA,OACM,OAAO,GACb,YACA,4BACA,UACA,cAEI6R,QA7CJ,WAkDM,OACN,GACA,kBACA,oCAEA,gBAIElU,QA7EF,WA8EItD,KAAKsD,SAAU,EACftD,KAAK4E,MAAQ5E,KAAKqG,MAAMC,MAAMC,aAEhCC,QAAS,CACP0B,aADJ,WAEMlI,KAAK4E,MAAQ5E,KAAKqG,MAAMC,MAAMC,eCpHgT,MCQhV,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIxG,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,kBAAkB,CAACF,EAAG,IAAI,CAACM,YAAY,QAAQ,CAACV,EAAIW,GAAG,sBAAsBP,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,aAAa,CAACQ,MAAM,CAAC7B,MAAOiB,EAAc,WAAEa,SAAS,SAAUC,GAAMd,EAAIgY,WAAWlX,GAAKE,WAAW,eAAe,CAAChB,EAAIW,GAAG,oBAAoB,GAAGP,EAAG,QAAQ,CAACA,EAAG,aAAa,CAACQ,MAAM,CAAC7B,MAAOiB,EAAkB,eAAEa,SAAS,SAAUC,GAAMd,EAAIiY,eAAenX,GAAKE,WAAW,mBAAmB,CAAChB,EAAIW,GAAG,8BAA8B,IAAI,GAAGP,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACE,MAAM,CAAC,UAAY,kBAAkB,QAAUN,EAAIuJ,OAAO2O,SAAS,OAASlY,EAAIuJ,OAAO4O,MAAM,eAAiBnY,EAAIoY,eAAe,WAAapY,EAAIgY,WAAW,oBAAsBhY,EAAIiY,eAAe,aAAejY,EAAIkO,MAAMjN,GAAG,CAAC,qBAAuBjB,EAAIqY,wBAAwBjY,EAAG,IAAI,CAACM,YAAY,QAAQ,CAACV,EAAIW,GAAG,eAAe,GAAGP,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACE,MAAM,CAAC,UAAY,mBAAmB,QAAUN,EAAIuJ,OAAO2O,SAAS,OAASlY,EAAIuJ,OAAO4O,MAAM,eAAiBnY,EAAIoY,eAAe,WAAapY,EAAIgY,WAAW,oBAAsBhY,EAAIiY,eAAe,aAAejY,EAAIkO,MAAMjN,GAAG,CAAC,qBAAuBjB,EAAIqY,wBAAwBjY,EAAG,IAAI,CAACM,YAAY,QAAQ,CAACV,EAAIW,GAAG,gBAAgB,IAAI,IAAI,IAChxC,GAAkB,GCDlB,GAAS,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAKN,EAAIsY,cACtH,GAAkB,G,6SCetB,aAEA,IACEha,KAAM,eACN8E,MAAO,CACLmV,QAAS,CACPpX,KAAMsD,OAER+T,OAAQ,CACNrX,KAAMsD,OAER6T,UAAW,CACTnX,KAAMkC,QAERoV,eAAgB,CACdtX,KAAMxE,QAERqb,WAAY,CACV7W,KAAM+H,SAERwP,oBAAqB,CACnBvX,KAAM+H,SAERwO,aAAc,CACZvW,KAAM2U,SAGV5Z,KAzBF,WA0BI,MAAO,CACLyc,MAAO,KACPC,OAAQ,KACRC,SAAU,KACVC,SAAU,KACVC,QAAS,KACTC,UAAW,KACXC,mBAAoB,KACpBC,WAAW,EACXC,MAAO,KACPC,UAAW,KACXC,kBAAmB,KACnBC,mBAAoB,KAGxB/V,QAzCF,WA0CItD,KAAK6U,OACL7U,KAAKsZ,WAEP1T,MAAO,CACL6R,aADJ,WAEMzX,KAAKuZ,kBAEPxB,WAJJ,WAKM/X,KAAKwZ,oBAEPf,oBAPJ,WAQMzY,KAAKyZ,0BAGTjT,QAAS,CACPqO,KAAM,WAIJ7U,KAAKmZ,UAAYlI,SAASC,eAAelR,KAAKqY,WAgB9C,IAVA,IAKN,EALA,eACA,cAEA,KACA,KAEA,cACA,IAEA,WACA,iBACQqB,EAASC,EAAIpd,GACbqd,EAAU7c,KAAK2c,EAAO,GAAIA,EAAO,GAAIA,EAAO,IAC5C,IAAR,qCACYG,EAAWC,IACbA,EAASD,GAGX3B,EAAM6B,OAAOlH,EAAItW,GAAG,GAAIsW,EAAItW,GAAG,GAAIsW,EAAItW,GAAG,IAC1Cgc,EAAOxb,KAAKmb,EAAMvZ,EAAGuZ,EAAM8B,EAAG9B,EAAM3D,GAKtCvU,KAAKia,eAA0B,IAATH,EAItB,IAHA,IAAN,sBACA,sBAEA,gBACQI,EAAM,GACd,sBACA,sBACA,oBACQC,EAAO,GAAf,4BAMM,IAAN,cACMC,EAASC,aACf,WACA,kBAEMD,EAASC,aACf,cACA,kBAEMD,EAASC,aAAa,OAAQ,IAAI,GAAxC,WACMD,EAASC,aAAa,QAAS,IAAI,GAAzC,WAIMra,KAAK0Y,MAAQ,IAAI,GAAvB,KACM1Y,KAAK2Y,OAAS,IAAI,GAAxB,qBACM3Y,KAAK2Y,OAAO2B,SAASC,EAAa,EAATT,EACzB9Z,KAAK2Y,OAAO2B,SAAS3U,EAAa,EAATmU,EAGzB9Z,KAAK8Y,QAAU,IAAI,GAAzB,cACM9Y,KAAK0Y,MAAM8B,IAAIxa,KAAK8Y,SAMpB,IAAN,0cAgBA,mUAaA,yBAIA,eACQ2B,SAAU,CACRvC,MAAO,CAAjB,6BACUwC,aAAc,CAAxB,UAEQC,aAAcA,EACdC,eAAgBA,EAChBC,aAAa,EACbC,YAAY,IAId9a,KAAK+Y,UAAY,IAAI,GAA3B,UACM/Y,KAAK0Y,MAAM8B,IAAIxa,KAAK+Y,WAIpB,IADA,IAAN,KACA,gBACQW,EAASC,EAAI,GACboB,EAAmBhe,MAAM2c,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAG1D,IAAN,cACMsB,EAAkBX,aACxB,WACA,kBAEMW,EAAkBX,aACxB,cACA,kBAEMW,EAAkBX,aACxB,OACA,kBAEMW,EAAkBX,aACxB,QACA,kBAGMra,KAAKgZ,mBAAqB,IAAI,GAApC,UACMhZ,KAAK0Y,MAAM8B,IAAIxa,KAAKgZ,oBAGpBhZ,KAAKgZ,mBAAmBiC,QAAUjb,KAAKyY,oBAKvC,IAAN,cAEA,GACQhT,EAAG,CACX,QACA,cAEQE,EAAG,CACX,QACA,cAEQ4U,EAAG,CACX,QACA,eAOA,4CACA,mCAAQ,IAAR,oCAAQ,OAAR,kBACA,qBACU,OAAV,qCAMA,4CACA,mCAAQ,IAAR,oCAAQ,OAAR,kBACA,uBAKA,4CACA,mCAAQ,IAAR,oCAAQ,OAAR,kBACA,cACA,EACA,GACA,MACA,GACA,SAMA,GACQ9U,EAAG,IAAI,GAAf,kCACQE,EAAG,IAAI,GAAf,oCACQ4U,EAAG,IAAI,GAAf,oCAIA,uBACA,uBACA,uBAGMW,EAAUV,IAAIW,GACdD,EAAUV,IAAIY,GACdF,EAAUV,IAAIa,GACdrb,KAAK0Y,MAAM8B,IAAIU,GAGflb,KAAK6Y,SAAW,IAAI,GAA1B,iBACM7Y,KAAK6Y,SAASyC,cAAc3b,OAAO4b,kBACnCvb,KAAK6Y,SAAS2C,QACpB,2BACA,4BAEMxb,KAAKmZ,UAAUrS,YAAY9G,KAAK6Y,SAAS4C,YAGzCzb,KAAK4Y,SAAW,IAAI8C,GAA1B,2CACM1b,KAAK4Y,SAAS+C,eAAgB,EAC9B3b,KAAK4Y,SAASgD,cAAgB,IAC9B5b,KAAK4Y,SAASiD,YAAa,EAC3B7b,KAAK4Y,SAASb,WAAa/X,KAAK+X,WAChC/X,KAAK4Y,SAASkD,YAAuB,EAAThC,EAC5B9Z,KAAK4Y,SAASmD,YAAa,EAK3B/b,KAAK4Y,SAAS1B,iBAAiB,SAAUlX,KAAKgc,iBAK1Chc,KAAKiZ,YACPjZ,KAAKkZ,MAAQ,IAAI,GAAzB,KACQlZ,KAAKkZ,MAAMuC,WAAWQ,MAAM3B,SAAW,WACvCta,KAAKkZ,MAAMuC,WAAWQ,MAAMnQ,IAAM,MAClC9L,KAAKkZ,MAAMuC,WAAWQ,MAAMtE,MAAQ,MACpC3X,KAAKmZ,UAAUrS,YAAY9G,KAAKkZ,MAAMuC,aAGxCzb,KAAKmZ,UAAUjC,iBAAiB,SAAUlX,KAAKkc,gBAAgB,IAEjE5C,QAAS,WACP6C,sBAAsBnc,KAAKsZ,SAC3BtZ,KAAKF,SACDE,KAAKiZ,WACPjZ,KAAKkZ,MAAMkD,UAGf7C,eA5QJ,WAiRM,IAFA,IAAN,2CACA,0CACA,kBACQY,EAAOkC,MAAM9f,GAAKA,IAAMyD,KAAKyX,aAAe,EAAM,IAClDyC,EAAMmC,MAAM9f,GACpB,sBACA,sBACA,oBAEM4d,EAAOmC,aAAc,EACrBpC,EAAMoC,aAAc,EAKpB,IAFA,IAAN,oDACA,mDACA,kBACQC,EAAUF,MAAM,GAAxB,4BACQG,EAASH,MAAM,GACvB,sBACA,sBACA,oBAEME,EAAUD,aAAc,EACxBE,EAASF,aAAc,GAEzB9C,iBAxSJ,WA0SMxZ,KAAK4Y,SAASb,WAAa/X,KAAK+X,YAElC0B,sBA5SJ,WA8SMzZ,KAAKgZ,mBAAmBiC,QAAUjb,KAAKyY,qBAEzC3Y,OAAQ,WACNE,KAAK6Y,SAAS/Y,OAAOE,KAAK0Y,MAAO1Y,KAAK2Y,QAClC3Y,KAAKwY,gBACPxY,KAAK2Y,OAAO2B,SAASmC,KAAKzc,KAAKwY,gBAEjCxY,KAAK4Y,SAASwD,UAEhBF,eAAgB,WACdlc,KAAK6Y,SAAS2C,QACpB,2BACA,6BAGIQ,gBAAiB,WAKfhc,KAAK+F,MAAM,uBAAwB/F,KAAK2Y,OAAO2B,aC5YiS,MCOlV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCwCf,IACEjc,KAAM,cACNmO,WAAY,CACVkQ,aAAJ,IAEEvZ,MAAO,CACLmG,OAAQ,CACNpI,KAAMxE,QAERuR,KAAM,CACJ/M,KAAM2U,SAGV5Z,KAbF,WAcI,MAAO,CACL8b,YAAY,EACZC,gBAAgB,EAChBG,eAAgB,OAGpB3R,QAAS,CACP4R,qBADJ,SACA,GACMpY,KAAKmY,eAAiBmC,KChFyT,MCOjV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIva,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACqN,YAAY,CAAC,OAAS,QAAQ,MAAQ,OAAO,QAAU,gBAAgB,CAACrN,EAAG,kBAAkB,CAACa,GAAG,CAAC,OAASjB,EAAImI,gBAAgB/H,EAAG,MAAM,CAACmE,IAAI,QAAQ7D,YAAY,YAAYJ,MAAM,CAAC,GAAKN,EAAIgP,GAAG,MAAQhP,EAAI6E,MAAM,OAAS7E,EAAImF,WAAW,IAChV,GAAkB,GCatB,aAEAvF,OAAO8G,GAAK,GAEZ,QACEpI,KAAM,YACNpC,KAFF,WAGI,MAAO,CACLoL,IAAK,KACL2S,EAAG,KACHvU,EAAG,KACHE,EAAG,KACHgX,QAAS,CAAC,EAAG,GACbC,QAAS,CAAC,EAAG,GACblY,OAAQ,CAAd,mCACMmY,MAAO,GACPjY,MAAO,KACPM,OAAQ,OAGZD,SAAU,GAQVW,MAAO,CACL6R,aADJ,WAEMzX,KAAK8c,0BAGTtW,QAAS,CACPuW,OADJ,WAEM/c,KAAK4E,MACX,gEACM5E,KAAKkF,OACX,iEACM,IAAN,iCAIA,IACA,YACA,KACA,YAHA,oBAIA,iBAJA,aAIA,gBAJA,MAMA,0CACA,yCAEMlF,KAAKqH,IAAMA,EACXrH,KAAKga,EAAIA,EACTha,KAAKyF,EAAIA,EACTzF,KAAK2F,EAAIA,EAET3F,KAAKgd,YACLhd,KAAKid,YACLjd,KAAKkd,uBAEPF,UA5BJ,WA6BMhd,KAAKga,EACX,YACA,uBACA,iBAHA,uBAGA,YAHA,MAIA,6BAGImD,YApCJ,WAqCMnd,KAAKyF,EAAE2X,MAAM,CAAC,EAAGpd,KAAK4E,QAAQyY,OAAOrd,KAAK2c,SAC1C,GAAN,oEAEIM,UAxCJ,WAyCMjd,KAAKga,EACX,YACA,uBACA,0BACA,eACA,oBACA,gCACA,YACA,oBACA,0BACA,mBAGIsD,YAtDJ,WAuDMtd,KAAK2F,EAAEyX,MAAM,CAACpd,KAAKkF,OAAQ,IAAImY,OAAOrd,KAAK4c,SAC3C,GAAN,kEAEIM,oBA1DJ,WA2DMld,KAAKga,EAAE1S,OAAO,UAAUiW,KAAK,QAAS,gBACtCvd,KAAKga,EAAE1S,OAAO,UAAUiW,KAAK,QAAS,iBAExCT,sBA9DJ,WA+DM,IAAN,OACM,GAAN,6CACA,YACA,sBAAQ,OAAR,uBACA,sBAAQ,OAAR,kCACA,yBAEM,GAAN,6CACA,YACA,sBAAQ,OAAR,uBACA,sBAAQ,OAAR,kCACA,oBAEIU,SA5EJ,WA6EM,IAAN,OAGA,kCACQ,OAAOjhB,KAEf,kCACQ,OAAOA,KAGf,kCACQ,OAAO,GAAf,UAEA,kCACQ,OAAO,GAAf,UAIMyD,KAAK2c,QAAU,CAACc,EAAMC,GACtB1d,KAAK4c,QAAU,CAACe,EAAMC,GAEtB5d,KAAKmd,cACLnd,KAAKsd,cAGL,IAAN,KACA,OACA,iBACQ,OAAR,UAEA,iBACQ,OAAR,aAGA,KACA,OACA,iBACQ,OAAR,UAEA,iBACQ,OAAR,aAIMtd,KAAK6c,MAAQ,CAACgB,EAAOC,GAErB9d,KAAKga,EACX,eACA,yBACA,iBACA,oBACA,2BACA,gCACA,+BACA,yBACA,YAEMha,KAAKga,EACX,eACA,yBACA,iBACA,oBACA,qBACA,gCACA,+BACA,yBACA,YAEMha,KAAKga,EACX,sBACA,2BACA,QACA,eACA,wBACA,sBAAQ,OAAR,cACA,qBAAQ,OAAR,UACA,oBACA,0BAAQ,MAAR,4BACA,qBAEMha,KAAKqH,IAAIrG,GAAG,aAAa,gBAM3BkH,aAnKJ,WAqKMlI,KAAK4E,MACX,gEAEM5E,KAAKmd,cAELnd,KAAK8c,wBACL,IAAN,OACM9c,KAAKga,EACX,sBACA,sBAAQ,OAAR,cACA,0BAAQ,MAAR,4BAEMha,KAAKga,EAAE7S,UAAU,aAAaoW,KAAK,IAAKvd,KAAK6c,MAAM,IAEnD7c,KAAKga,EAAE7S,UAAU,aAAaoW,KAAK,IAAKvd,KAAK6c,MAAM,MAGvDvZ,QAnNF,WAoNItD,KAAK+c,SACL/c,KAAKwd,YAEPra,MAAO,CAAC,SAAU,SAAU,OAAQ,KAAM,eAAgB,oBCzOuR,MCQ/U,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIpD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACM,YAAY,QAAQ,CAACN,EAAG,MAAM,CAACM,YAAY,SAASwb,MAAOlc,EAAS,MAAEM,MAAM,CAAC,GAAKN,EAAIgP,SAC7L,GAAkB,GCMtB,IACE1Q,KAAM,WACN4G,SAAU,CACR8Y,QADJ,WAEM,OAAO5X,KAAKgM,MAAMnS,KAAKiO,KAAOjO,KAAK4N,IAErCoQ,QAJJ,WAKM,OAAOhe,KAAKiO,KAAOjO,KAAK4N,GAE1BqO,MAPJ,WAQM,IAAN,GACQrX,MAAO,GAAf,sBACQM,OAAQ,GAAhB,sBACQ+Y,KAAM,IACN,wBAAyB,IAAjC,mCACQ,wBAAyB,IAAjC,mCACQ,mBAAoB,8BAA5B,sBACQC,QAAS,cACT1L,QAASxS,KAAKwS,SAOhB,OALIxS,KAAKme,cACPrG,EAAOwC,SAAW,WAClBxC,EAAOhB,KAAO,cAAtB,0BAGagB,IAGX7b,KA5BF,WA6BI,MAAO,IAETuK,QAAS,GACTlD,QAhCF,aAiCEsC,MAAO,CACLqI,KADJ,cAGE9K,MAAO,CACT,IACA,IACA,MACA,aACA,MACA,KACA,OACA,cACA,YCpDkV,MCQ9U,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,iECsGf,0BACA,yBACA,yBAEA,QACE9E,KAAM,SACNmO,WAAY,CACV4R,YAAJ,GACIC,WAAJ,GACIC,YAAJ,GACI7R,UAAJ,EACI0B,UAAJ,GACIoQ,SAAJ,GACI3R,OAAJ,GACI4R,UAAJ,MAEErb,MAAO,CACLgG,WAAY,CACVjI,KAAMxE,OACN2G,QAAS,MAEX+F,WAAY,CACVlI,KAAMxE,OACN2G,QAAS,OAGbpH,KAtBF,WAuBI,MAAO,CACLgS,KAAM,EACNwQ,YAAa,EACbtG,eAAgB,KAChBJ,YAAY,EACZC,gBAAgB,EAChB1O,OAAQ,KACRT,OAAQ,KACR3F,cAAe,CACbuK,oBACR,0FACQU,UACR,iFACQG,WACR,6JACQE,OACR,sIACQC,gBACR,+IACQG,cACR,gHAIEpI,QAAS,CACPkY,cADJ,WAEM,OAAOvY,KAAKgM,MAAMnS,KAAKsJ,OAAOoF,GAAGX,WAAa,IAEhDqK,qBAJJ,SAIA,GACMpY,KAAKmY,eAAiBmC,GAExB9W,yBAPJ,WAQMxD,KAAK+F,MAAM,6BAEbtC,gBAVJ,SAUA,GACMzD,KAAK+F,MAAM,kBAAmBmH,KAGlC5J,QA7DF,WA6DA,WACQtD,KAAKmJ,aACPnJ,KAAKsJ,OAAStJ,KAAKmJ,YAEjBnJ,KAAKoJ,aACPpJ,KAAK6I,OAAS7I,KAAKoJ,YAGrBpJ,KAAK8J,WAAU,WACT,EAAV,SACQ,EAAR,mCAIElE,MAAO,CACLuD,WAAY,CACVlD,WAAW,EACXH,QAFN,SAEA,GACYqD,IACFnJ,KAAKsJ,OAASH,IAGlBtD,MAAM,GAERuD,WAAY,CACVnD,WAAW,EACXH,QAAS,WACH9F,KAAKoJ,aACPpJ,KAAK6I,OAAS7I,KAAKoJ,aAGvBvD,MAAM,GAERyD,OAAQ,CACNrD,WAAW,EACXH,QAAS,WACH9F,KAAKsJ,SACPtJ,KAAKye,YAAcze,KAAK0e,kBAG5B7Y,MAAM,KClO+U,MCQvV,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QC+Df,IACExH,KAAM,YACNmO,WAAY,CACVC,UAAJ,EACI3K,YAAJ,GACIwH,OAAJ,GACIqD,QAAJ,GAEE1Q,KARF,WASI,MAAO,CACL0iB,OAAQ,KACR7d,MAAO,KACP8d,UAAW,KACX9c,YAAa,KACb+c,gBAAiB,GACjBC,MAAO,kBACPC,MAAO,kBACPlc,aAAa,EACbmc,SAAU,KACVC,MAAO,KACPnc,sBAAuB,KACvBnB,oBAAoB,EACpBC,aAAa,EACbsd,WAAY,KACZ7c,cAAe,GACf8c,eAAgB,KAChB1c,eAAgB,KAChBD,gBAAiB,KACjB4c,gBAAiB,GACjB7d,IAAK,OAGTiF,QAAS,CACP6Y,oBADJ,SACA,GACM,MAAO,CACb,gDACA,iDAEA,UACA,mBAEIzc,cATJ,SASA,GACM5C,KAAKyC,eAAiB/F,OAAOqU,OAAO/Q,KAAKyC,eAAgByK,IAE3D,gBAZJ,WAYA,iLACA,aACA,iCACA,YACA,qBAIA,qBACA,uDAGA,aAZA,iDAgBA,MACA,iCAEA,IACA,uBACA,oCAGA,kCACA,yBAEA,8BACA,SACA,kBAEA,aACA,cACA,oBACA,cACA,qCACA,UApCA,+CAsCIxK,sBAlDJ,SAkDA,GACM1C,KAAKwC,gBAAkBD,GAEzB+c,cArDJ,WAsDUtf,KAAKuf,OAAOC,QAGtB,gDACA,+BAGA,uBACUxf,KAAKkf,WAAa,MAClBlf,KAAKuB,IAAMvB,KAAKuf,OAAOC,MAAMje,IAE7BvB,KAAKyf,eACf,0BACUzf,KAAKkf,WAAa,KAClBlf,KAAKif,MAAQjf,KAAKuf,OAAOC,MAAMP,MAC/Bjf,KAAK2e,OAAS3e,KAAKif,MAAMS,MAAM,KAAK,GACpC1f,KAAKgf,SAAWhf,KAAKif,MAAMS,MAAM,KAAK/hB,OAAO,GAAG2P,KAAK,KACrDtN,KAAK2f,cAXL3f,KAAK4f,QAAQ7iB,KAAK,OAexB0iB,YA3EJ,WA2EA,WAEM,EAAN,kCACQ,EAAR,kBAMII,UApFJ,SAoFA,GACM,IAAN,gBACA,kCACM,OAAOC,GAETC,QAzFJ,SAyFA,GACM,IAAN,oBACA,gCACA,kDACA,qDAEQ/f,KAAKggB,aADa,SAAhBC,EACkBC,mBAAmBF,EAAa,GAAGG,WAEnC,KAEtB,IAAN,+CACA,mCACA,4BAEA,cACM,OAAOC,GAETC,eA1GJ,SA0GA,cACM,IAAKC,EACH,OAAO,EAET,IAAN,kDACM,OAAO,EAAb,2BACQ,IAAR,oBACQ,EAAR,sDACY,EAAZ,cACU,EAAV,mCAIIX,WAvHJ,WAuHA,WACA,OACA,iBACM,OAAO,EAAb,EACA,OACA,kBACQ,IAAR,oBACQ,EAAR,sDACA,gBACU,EAAV,kCAGA,iBACQ,EAAR,oCACA,YAAU,OAAV,2BAEQ,EAAR,gCACA,YAAU,OAAV,2BAEQ,EAAR,sBACQ,EAAR,sBAGIY,aA9IJ,SA8IA,GACM,MAAwB,SAApBvgB,KAAKkf,WACAsB,EAAKC,mBAAmBf,MAAM,KAAKjjB,OAClD,uBACe+jB,EAAKd,MAAM,KAAKjjB,YAD/B,GAIIikB,oBArJJ,WAuJM,GAA8B,IAA1B1gB,KAAK4e,UAAUniB,OACjBuD,KAAK4e,UAAY5e,KAAK4e,UAAU,OACxC,CACQ,IAAR,gDACA,sDACA,OACqC,IAAzB+B,EAAclkB,OAChBuD,KAAK4e,UAAY+B,EAAc,GAE/B3gB,KAAK4e,UAAY,OAIvBgC,aApKJ,SAoKA,GACM,IAAN,iBAEM,OAAO,IAAIC,SAAQ,SAAzB,KACQC,EAAeC,QAAU,WACvBD,EAAeE,QACfC,EAAO,IAAIC,aAAa,iCAG1BJ,EAAeK,OAAS,WACtBC,EAAQ,CACNZ,KAAMa,EACNC,QAASrX,KAAKG,MAAM0W,EAAexjB,WAGvCwjB,EAAeS,WAAWF,OAG9B,mBAtLJ,SAsLA,sKACA,WACA,gBACA,qBACA,MACA,YACA,YACA,oBAEA,IAEA,IAXA,cACA,EADA,yBAaA,GAbA,8CAeI,mBArMJ,SAqMA,sKACA,WACA,gBACA,qBACA,MACA,UACA,YACA,eACA,aAEA,IAEA,IAZA,cACA,EADA,yBAcA,GAdA,8CAgBI,gBArNJ,WAqNA,mKACA,sBADA,gCAEA,4BAFA,OAEA,EAFA,OAGA,2BAHA,0BAIA,oBAJA,kCAKA,QACA,mCACA,SADA,6BACA,eAPA,QAKA,EALA,OAUA,qBAVA,QAYA,gCACA,mBACA,wBACA,iBACA,8DACA,mBAjBA,+CAoBI,qBAzOJ,SAyOA,wKAGA,sBAHA,gCAIA,eACA,+BALA,OAIA,EAJA,OAOA,eACA,0CACA,mBATA,0BAWA,oBAXA,kCAYA,QACA,mCACA,SADA,6BACA,iCAdA,QAYA,EAZA,OAiBA,SACA,oCACA,mBAnBA,wBAqBA,sBACA,wDAtBA,iCAwBA,GAxBA,+CA0BIG,eAnQJ,SAmQA,GACM,IAAN,4BACM,GAAIC,EAAcC,SAAS/hB,OAAOgiB,SAASC,UAAW,CACpD,IAAR,yCACQ,OAAOC,EAAWtgB,EAElB,OAAOA,IAIbugB,QA7SF,WA8SI9hB,KAAKsf,iBAEPhc,QAhTF,WAiTQtD,KAAK+hB,YACP/hB,KAAKkf,WAAa,OAClBlf,KAAKc,MAAQd,KAAK+hB,WAEhB/hB,KAAKgiB,gBACPhiB,KAAKkf,WAAa,OAClBlf,KAAK4e,UAAY5e,KAAKgiB,cACtBhiB,KAAK0gB,sBACL1gB,KAAKiiB,oBAGThd,SAAU,CACRid,UADJ,WAEM,IAAN,kEAEM,OADA3gB,GAAO,2BAAb,sBACavB,KAAKwhB,eAAejgB,IAE7B4gB,iBANJ,WAMA,WACM,OAAIniB,KAAKqC,cACArC,KAAKoiB,YAAY9c,QAAO,SAAvC,yCAEetF,KAAKoiB,aAGhBC,sBAAuB,WACrB,OAAIriB,KAAK8B,YACA9B,KAAK8B,YAAYiL,SAASrH,KAAI,SAA7C,qCAEe,IAGX4c,eAAgB,WAApB,WACM,OAAItiB,KAAKc,MACiB,SAApBd,KAAKkf,WACA,EAAjB,SACA,YACA,cAAY,OAAZ,uCACA,IAEA,uBACiB,EAAjB,SACA,YACA,cAAY,OAAZ,kCACA,IAGiB,GAGF,IAGXkD,YAAa,WAUX,OAAO,EAAb,yBACA,QACA,sCAKExc,MAAO,CACLmc,UAAW,CACTlc,MAAM,EACNI,WAAW,EACXH,QAAS,WACH9F,KAAK+hB,YACP/hB,KAAKc,MAAQd,KAAK+hB,aAIxBC,cAAe,CACbnc,MAAM,EACNI,WAAW,EACXH,QAAS,WACH9F,KAAKgiB,gBACPhiB,KAAK4e,UAAY5e,KAAKgiB,cACtBhiB,KAAK0gB,sBACL1gB,KAAKiiB,qBAIXM,QAAS,CACPzc,QAAS,WACH9F,KAAKuiB,UACPviB,KAAKuB,IAAMvB,KAAKuiB,QAChBviB,KAAKyf,iBAIX+C,UAAW,CACT1c,QAAS,WACH9F,KAAKwiB,YACPxiB,KAAKif,MAAQjf,KAAKwiB,UAClBxiB,KAAK2f,gBAIXJ,OAAQ,gBACR3d,YAAa,CACXkE,QAAS,WACH9F,KAAK4B,cACP5B,KAAKwC,gBAAkB,QAI7BA,gBAAiB,CACfsD,QAAS,WAAf,gJACA,qBADA,uBAEA,oBACA,oBAHA,SAIA,0BACA,sBALA,OAIA,2BAJA,OAOA,oBAPA,qGAAe,IAWXwc,eAAgB,CACdzc,MAAM,EACNI,WAAW,EACXH,QAAS,WAAf,4JACA,wBACA,qBAFA,cACA,oBADA,gBAIA,wBACA,qBALA,OAIA,oBAJA,4GAAe,KAUb3C,MAAO,CACL4e,UAAWvd,MACXwd,cAAexd,MACf+d,QAASnf,OACTof,UAAWpf,SClhBoU,MCO/U,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,MAIa,M,QCyCf,IACE/E,KAAM,cACNmO,WAAY,CACViW,UAAJ,GACI9V,QAAJ,GAEE1Q,KANF,WAOI,MAAO,CACL6E,MAAO,KACPW,YAAa,KACbC,iBAAkB,KAClBghB,IAAK,6BACLpZ,OAAQ,GACR/H,IAAK,KACLf,MAAO,aAGXgG,QAAS,CACPlF,SADJ,WAEUtB,KAAKuB,IAAIohB,WAAW,SACtB3iB,KAAK4iB,KAEL5iB,KAAK6iB,aAGTA,UARJ,WASMC,GAAO/lB,KAAK,CAAlB,uCAEI6lB,GAXJ,WAYME,GAAO/lB,KAAK,CACVgmB,KAAM,UACNvD,MAAO,CAAf,wCAIE5Z,MAAO,CACL9E,MADJ,WAEUd,KAAKc,QACPd,KAAKQ,MAAQ,aAGbR,KAAKyB,YAAczB,KAAKc,MAAMwE,QAAO,SAA7C,UACA,kCAIQtF,KAAK0B,iBAAmB1B,KAAKc,MAAMwE,QAC3C,YAAU,MAAV,yBAGQtF,KAAKQ,MAAQ,kBC7GgU,MCQjV,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,OAIa,M,QCdfwiB,aAAIC,IAAIC,QAEO,WAAIA,OAAO,CACxBC,OAAQ,CACN,CACEJ,KAAM,IACN1kB,KAAM,cACNkC,UAAW6iB,IAEb,CACEL,KAAM,UACN1kB,KAAM,YACNkC,UAAWkiB,OCXXY,IAAQC,EAEdN,aAAIO,OAAOC,eAAgB,EAC3BR,aAAIO,OAAOE,YAAcJ,GAGzB,IAAIL,aAAI,CACNU,GAAI,OACJZ,OAAQA,GACRtW,WAAY,CAAEmX,OACdC,SAAU,Y,yDChBZ,W,kCCAA,W,2DCAA,W,oFCAA,W,6DCAA,W,kFCAA,W,kCCAA,W,uGCAA,W,kCCAA,W,kCCAA","file":"js/app.aa51a9c7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dmriprep-viewer/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sHDgwCEMBJZu0AAAAdaVRYdENvbW1lbnQAAAAAAENyZWF0ZWQgd2l0aCBHSU1QZC5lBwAABM5JREFUWMO1V0tPG2cUPZ4Hxh6DazIOrjFNqJs0FIMqWFgWQkatsmvVbtggKlSVRVf5AWz4AWz4AUSKEChll19QJYSXkECuhFxsHjEhxCYm+DWGMZ5HF72DJq4bAzFXurI0M/I5997v3u9cC65vTJVn2lX/xHINQOYSBLTLEuIuCWw4Z3IGAEvf6ASmVHjNzHCXBG4A0AjACsAOwEbO0nsFQBnAGYASAIl+ZRMR7SolMEdsByD09fV5R0ZGgg8ePPjW5/N1iqLYpuu6RZblciKR2I9Go69evnwZnZ+fjwI4IS8AKBIRzeQfJWCANwKwh0KhtrGxsYehUOin1tbW+zzP23ietzY2NnIAoGmaLsuyUiqVyvl8XtrY2NiamZn589mzZxsAUgCOAeQAnFI2tI+VxIjaAeDzoaGh7xYWFuZOTk6OZVk+12uYqqq6JEnn0Wg0OT4+/geAXwGEAdwDIFJQXC1wO4DWR48e/RCPxxclSSroVzRFUbSDg4P848ePFwH8DuAhkWih83TRQWxFOXgAwvDwcOfo6OhvXV1d39tsNtuVBwTDWBwOh1UUxVsMw1hXVlbSdCgNV43uYSvrHg6H24aHh38eHBz85TrgF9FYLHA4HLzH43FvbW2d7u/vG+dANp8FpqIlbd3d3V8Fg8EfBUFw4BONZVmL3+9vHhkZCQL4AoAHgJPK8G+yzC0XDofdoVAo5PP5vkadTBAEtr+/39ff3x8gAp/RPOEqx2qjx+NpvXv3bk9DQ0NDvQgwDIOWlhZrMBj8kgi0UJdxRgYMArzL5XJ7vd57qLPZ7Xamp6fnNgBXtQxcjFuHw+Hyer3t9SYgCAITCAScAJoBNNEY/08GOFVVrfVMv7kMNDntFD1vjIAPrlRN0xjckOm6biFQ3jwNPwDMZrOnqVTqfb3Bi8Wivru7W/VCYkwPlKOjo0IikXh7EwQikYgE4Nw0CfXKDCipVCoTj8df3QABbW1tLUc6oUgkFPMkVACUNjc337148eKvw8PDbJ2jP1taWkoCyNDVXDSECmNSK4qiKNLq6urW8+fPI/UicHx8rD59+jSVy+WOAKSJhKENwFItLtoxk8mwsixzHR0dHe3t7c5PAU+n09rs7OzJkydPYqVSaQfANoDXALIk31S2smU1TWMPDg7K5XKZ7+3t9TudTut1U7+wsFCcmJiIpdPpbQBxADsAknQWymYCOukBHYCuKApisdhpMpnURFEU79y503TVyKenpzOTk5M7e3t7MQKPV0Zv1gNm+awB0MvlshqLxfLb29uyJElWURSbXC4XXyvqxcXFs6mpqeTc3Nzu3t7e3wQcA7BPZ8Cov1pNlJplmQtAG8MwHV6v95tAINA5MDBwPxAIuLu6upr8fr/VAN3c3JQjkcjZ+vp6fnl5+d2bN29SuVzuNYAEpf01CdRChUL+X1VskHACuA3Ay3Fcu9vt7nA6nZ7m5uYWQRCaNE3jVVW15PP580KhIGUymWw2m00DOAJwSP4WwPtq4LX2Ao6USxNlQyS/RcQcdLGwlNIz6vEMAaZpNzCk2Pll94LK/cDYimxERiBwG10sxjgvEZBE0UpE6vxj+0Ct5bTaXthgEhRmja8QWNkkPGsuIpfdjpkK+cZUWTC0KredVmtD/gdlSl6EG4AMvQAAAABJRU5ErkJggg==\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViolinPlot.vue?vue&type=style&index=0&id=6b3b5c74&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/dmriprep-icon.e1416b54.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nimport BootstrapVue from \"bootstrap-vue\";\nimport \"vue-router\";\nimport Vue from \"vue\";\n// eslint-disable-next-line\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap-vue/dist/bootstrap-vue.css\";\n\nVue.use(BootstrapVue);\n\nexport default {\n  name: \"App\",\n};\n</script>\n\n<style>\n#app {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=0bf4bb60&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[(_vm.state === 'getInput')?_c('b-container',{staticClass:\"px-0\",attrs:{\"fluid\":\"\"}},[_c('b-row',{staticClass:\"d-flex align-items-center\"},[_c('b-col',{staticClass:\"text-right\",attrs:{\"cols\":\"5\"}},[_c('img',{staticClass:\"logo\",attrs:{\"src\":require(\"../assets/dmriprep-icon.svg\")}})]),_c('b-col',{staticClass:\"text-left\",attrs:{\"cols\":\"7\"}},[_c('h1',[_vm._v(\"dmriprep Viewer\")])])],1),_c('b-form-group',{staticClass:\"mt-5 text-left\",attrs:{\"label\":\"Choose a directory containing dwiqc.json files generated with dmriprep or qsiprep:\",\"description\":\"All computation happens on the client side. Your report will not be uploaded to any server.\"}},[_c('b-form-file',{attrs:{\"directory\":\"\",\"multiple\":\"\",\"placeholder\":\"Choose a directory...\"},model:{value:(_vm.files),callback:function ($$v) {_vm.files=$$v},expression:\"files\"}})],1),_c('b-form-group',{staticClass:\"mt-5 text-left\",attrs:{\"label\":\"OR copy/paste an Amazon S3 URI:\",\"description\":\"Enter a valid Amazon S3 URI of the form s3://bucket/followed/by/a/key.\"}},[_c('b-input-group',{staticClass:\"mb-3\",attrs:{\"size\":\"md\",\"prepend\":\"URL\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"s3://dmriprep-viewer-example-data\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.navigate($event)}},model:{value:(_vm.url),callback:function ($$v) {_vm.url=$$v},expression:\"url\"}}),_c('b-input-group-append',[_c('b-btn',{attrs:{\"size\":\"md\",\"text\":\"Button\",\"variant\":\"primary\"},on:{\"click\":_vm.navigate}},[_vm._v(\"Go\")])],1)],1)],1)],1):_vm._e(),(_vm.state === 'showLoader')?_c('spinner'):_vm._e(),(_vm.state === 'showReports')?_c('genReport',{attrs:{\"filesProp\":_vm.reportFiles,\"groupFileProp\":_vm.groupReportFiles}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"px-0 m-3\",attrs:{\"fluid\":\"\"}},[(_vm.groupReport)?_c('b-container',{staticClass:\"px-0\",attrs:{\"fluid\":\"\"}},[_c('b-sidebar',{attrs:{\"id\":\"sidebar-backdrop\",\"title\":\"Study overview\",\"backdrop-variant\":\"dark\",\"backdrop\":\"\",\"lazy\":\"\",\"shadow\":\"\",\"visible\":_vm.showInitialSidebar}},[_c('explainer',{attrs:{\"explainer-text\":\"Select a subject below to see their report. Or select the study ID at the top to see a group summary. You can filter the subject list using the text input. You can close this sidebar by clicking on the 'x' in the top right or by simply clicking outside of the sidebar.\"}}),_c('b-nav',{staticClass:\"w-100\",attrs:{\"vertical\":\"\",\"pills\":\"\"}},[_c('b-nav-item',{staticClass:\"mx-1\",attrs:{\"active\":_vm.showStudyQc},on:{\"click\":function($event){_vm.showStudyQc = true}}},[_vm._v(\" \"+_vm._s(_vm.groupReport.studyId ? _vm.groupReport.studyId : \"Study\")+\" \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.subjectFilter),expression:\"subjectFilter\"}],staticClass:\"m-1\",attrs:{\"placeholder\":\"filter subjects\"},domProps:{\"value\":(_vm.subjectFilter)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.subjectFilter=$event.target.value}}}),_vm._l((_vm.filteredSubjects),function(subject){return _c('b-nav-item',{key:subject,staticClass:\"mx-1\",attrs:{\"active\":subject === _vm.subjectSelected},on:{\"click\":function($event){_vm.subjectSelected = subject}}},[(_vm.subjectRatings[subject].reviewed)?_c('b-icon',{staticClass:\"mr-2\",attrs:{\"align-self\":\"end\",\"icon\":\"check-circle-fill\",\"scale\":\"0.9\",\"variant\":\"success\"}}):_c('b-icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"circle\",\"scale\":\"0.5\",\"variant\":\"secondary\"}}),_vm._v(\" \"+_vm._s(subject)+\" \")],1)})],2)],1),(_vm.showStudyQc && _vm.groupReport)?_c('groupReport',{attrs:{\"reportProp\":_vm.groupReport},on:{\"subjectSelected\":_vm.updateSelectedSubject,\"ratingsDownloadRequested\":_vm.downloadRatings,\"ratingsUploaded\":_vm.uploadRatings}}):(_vm.subjectSelected && _vm.reportReady)?_c('report',{attrs:{\"reportProp\":_vm.selectedSubjectReport,\"ratingProp\":_vm.subjectRatings[_vm.subjectSelected]},on:{\"ratingsDownloadRequested\":_vm.downloadRatings,\"ratingsUploaded\":_vm.uploadRatings}}):_c('spinner')],1):_c('spinner')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.collapseId && _vm.questionId)?_c('b-container',{staticClass:\"text-right\"},[_c('b-icon',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle\",value:(_vm.collapseId),expression:\"collapseId\"}],staticClass:\"question-mark when-open\",attrs:{\"id\":_vm.closeId,\"icon\":\"x-circle\",\"variant\":\"primary\",\"aria-hidden\":\"true\"}}),_c('b-icon',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle\",value:(_vm.collapseId),expression:\"collapseId\"}],staticClass:\"question-mark when-closed\",attrs:{\"id\":_vm.questionId,\"icon\":\"question-circle\",\"variant\":\"primary\",\"aria-hidden\":\"true\"}}),_c('b-collapse',{staticClass:\"mb-2 text-left\",attrs:{\"id\":_vm.collapseId}},[_c('b-card',[_c('p',{staticClass:\"card-text\"},[_vm._v(_vm._s(_vm.explainerText))])])],1),_c('b-tooltip',{attrs:{\"target\":_vm.questionId,\"triggers\":\"hover\"}},[_vm._v(\"learn more about this component\")]),_c('b-tooltip',{attrs:{\"target\":_vm.closeId,\"triggers\":\"hover\"}},[_vm._v(\"close the explainer\")])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-container v-if=\"collapseId && questionId\" class=\"text-right\">\n    <b-icon\n      v-b-toggle=\"collapseId\"\n      :id=\"closeId\"\n      class=\"question-mark when-open\"\n      icon=\"x-circle\"\n      variant=\"primary\"\n      aria-hidden=\"true\"\n    ></b-icon>\n    <b-icon\n      v-b-toggle=\"collapseId\"\n      :id=\"questionId\"\n      class=\"question-mark when-closed\"\n      icon=\"question-circle\"\n      variant=\"primary\"\n      aria-hidden=\"true\"\n    ></b-icon>\n    <b-collapse :id=\"collapseId\" class=\"mb-2 text-left\">\n      <b-card>\n        <p class=\"card-text\">{{ explainerText }}</p>\n      </b-card>\n    </b-collapse>\n    <b-tooltip :target=\"questionId\" triggers=\"hover\"\n      >learn more about this component</b-tooltip\n    >\n    <b-tooltip :target=\"closeId\" triggers=\"hover\"\n      >close the explainer</b-tooltip\n    >\n  </b-container>\n</template>\n\n<script>\nexport default {\n  name: \"explainer\",\n  data() {\n    return {\n      collapseId: null,\n      questionId: null,\n      closeId: null,\n    };\n  },\n  props: {\n    explainerText: {\n      type: String,\n      default: \"Here is a helpful description of this component!\",\n    },\n  },\n  mounted() {\n    this.collapseId = \"collapse\" + this._uid;\n    this.questionId = \"question\" + this._uid;\n    this.closeId = \"close\" + this._uid;\n  },\n};\n</script>\n\n<style scoped>\n.question-mark {\n  cursor: pointer;\n}\n\n.collapsed.when-open,\n.not-collapsed.when-closed {\n  display: none;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Explainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Explainer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Explainer.vue?vue&type=template&id=19620c5a&scoped=true&\"\nimport script from \"./Explainer.vue?vue&type=script&lang=js&\"\nexport * from \"./Explainer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Explainer.vue?vue&type=style&index=0&id=19620c5a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"19620c5a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"px-0\",attrs:{\"fluid\":\"\"}},[(_vm.groupReport)?_c('b-container',{staticClass:\"px-0\",attrs:{\"fluid\":\"\"}},[_c('topBar',{attrs:{\"reportProp\":_vm.groupReport,\"sidebarOn\":\"\",\"isGroupReport\":\"\"},on:{\"ratingsDownloadRequested\":_vm.ratingsDownloadRequested,\"ratingsUploaded\":_vm.ratingsUploaded}}),_c('explainer',{attrs:{\"explainer-text\":_vm.explainerText.qcMetrics}}),_c('b-form-group',{staticClass:\"text-left\",attrs:{\"label\":\"Select scatterplot metrics\"}},[_c('b-form-checkbox-group',{attrs:{\"id\":\"checkbox-group-scatter\",\"options\":_vm.metricOptions,\"name\":\"scatter-metrics\"},model:{value:(_vm.scatterMetrics),callback:function ($$v) {_vm.scatterMetrics=$$v},expression:\"scatterMetrics\"}})],1),_c('scatterplotMatrix',{attrs:{\"dataProp\":_vm.groupReport['subjects'],\"metricsProp\":_vm.scatterMetrics},on:{\"updateBrushedSubjects\":_vm.updateBrushedSubjects,\"updateSelectedSubject\":_vm.updateSelectedSubject}}),_c('b-form-group',{staticClass:\"text-left\",attrs:{\"label\":\"Select violin plot metrics\"}},[_c('b-form-checkbox-group',{attrs:{\"id\":\"checkbox-group-violin\",\"options\":_vm.metricOptions,\"name\":\"violin-metrics\"},model:{value:(_vm.violinMetrics),callback:function ($$v) {_vm.violinMetrics=$$v},expression:\"violinMetrics\"}})],1),_vm._l((_vm.violinMetrics),function(metric){return _c('violinPlot',{key:metric,attrs:{\"data\":_vm.groupReport['subjects'],\"metric\":metric},on:{\"updateBrushedSubjects\":_vm.updateBrushedSubjects,\"updateSelectedSubject\":_vm.updateSelectedSubject}})}),_c('b-card',{staticClass:\"text-left p-0 mb-5 mt-2\",attrs:{\"footer\":\"This list scrolls left/right. Click on a participant ID to go to their report.\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('b-row',{staticClass:\"d-flex align-items-center\"},[_c('b-col',{staticClass:\"text-left\",attrs:{\"cols\":\"7\"}},[_c('h5',{staticClass:\"m-0\"},[_vm._v(\" Selected subjects: \"+_vm._s(_vm.brushedSubjectsIntersection.length)+\" \")])]),_c('b-col',{staticClass:\"text-right\",attrs:{\"cols\":\"5\"}},[_c('b-button',{staticClass:\"m-0\",attrs:{\"id\":\"clipboard-button\",\"variant\":\"outline-primary\"},on:{\"click\":function($event){return _vm.copyBrushedSubjectsToClipboard()}}},[_c('b-icon',{staticClass:\"p m-0\",attrs:{\"icon\":\"clipboard\",\"aria-hidden\":\"true\"}})],1),_c('b-tooltip',{attrs:{\"target\":\"clipboard-button\",\"triggers\":\"hover\"}},[_vm._v(\"copy subject list to clipboard\")])],1)],1)]},proxy:true}],null,false,1731478097)},[_c('b-card-text',[_c('b-nav',{staticClass:\"pb-0 text-left brushed-subject-nav\",attrs:{\"vertical\":\"\"}},_vm._l((_vm.brushedSubjectsIntersection),function(subject){return _c('b-nav-item',{key:subject,on:{\"click\":function($event){return _vm.updateSelectedSubject(subject)}}},[_vm._v(_vm._s(subject))])}),1)],1)],1)],2):_c('spinner')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"scatterdiv\"}},[_c('svg',{ref:\"chart\",staticClass:\"scatterplot-matrix\",attrs:{\"id\":\"scattersvg\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"scatterdiv\">\n    <!-- <resize-observer @notify=\"handleResize\" /> -->\n    <svg id=\"scattersvg\" ref=\"chart\" class=\"scatterplot-matrix\"></svg>\n  </div>\n</template>\n\n<script>\nconst d3 = require(\"d3\");\n\nexport default {\n  name: \"ScatterplotMatrix\",\n  props: {\n    dataProp: {\n      type: Array,\n    },\n    metricsProp: {\n      type: Array,\n    },\n  },\n  data() {\n    return {\n      margin: { top: 10, right: 10, bottom: 10, left: 20 },\n      maxWidth: 650,\n      width: null,\n      padding: 20,\n      radius: 4,\n      brushedSubjects: null,\n      metrics: [],\n      data: [],\n      mounted: false,\n    };\n  },\n  computed: {\n    height() {\n      if (this.metrics.length) {\n        return this.width; // + this.padding;\n      } else {\n        return 0;\n      }\n    },\n    size() {\n      return (\n        (this.width - (this.columns.length + 1) * this.padding) /\n          this.columns.length +\n        this.padding\n      );\n    },\n    columns() {\n      const that = this;\n      return Object.keys(this.data[0]).filter(\n        (d) => that.metrics.includes(d) && typeof that.data[0][d] === \"number\"\n      );\n    },\n    yAxis() {\n      const axis = d3\n        .axisLeft()\n        .ticks(6)\n        .tickSize(-this.size * this.columns.length);\n      const that = this;\n      return (g) =>\n        g\n          .selectAll(\"g\")\n          .data(this.y)\n          .join(\"g\")\n          .attr(\"transform\", (d, i) => `translate(0,${i * that.size})`)\n          .each(function (d) {\n            return d3.select(this).call(axis.scale(d));\n          })\n          .call((g) => g.select(\".domain\").remove())\n          .call((g) => g.selectAll(\".tick line\").attr(\"stroke\", \"#ddd\"));\n    },\n    xAxis() {\n      const axis = d3\n        .axisBottom()\n        .ticks(6)\n        .tickSize(this.size * this.columns.length);\n      const that = this;\n      return (g) =>\n        g\n          .selectAll(\"g\")\n          .data(this.x)\n          .join(\"g\")\n          .attr(\"transform\", (d, i) => `translate(${i * that.size},0)`)\n          .each(function (d) {\n            return d3.select(this).call(axis.scale(d));\n          })\n          .call((g) => g.select(\".domain\").remove())\n          .call((g) => g.selectAll(\".tick line\").attr(\"stroke\", \"#ddd\"));\n    },\n    x() {\n      const paddingPlusMargin =\n        this.padding + this.margin.left + this.margin.right;\n      return this.columns.map((c) =>\n        d3\n          .scaleLinear()\n          .domain(d3.extent(this.data, (d) => d[c]))\n          .rangeRound([\n            paddingPlusMargin / 2,\n            this.size - paddingPlusMargin / 2,\n          ])\n      );\n    },\n    y() {\n      const paddingPlusMargin =\n        this.padding + this.margin.top + this.margin.top;\n      const that = this;\n      return this.x.map((x) =>\n        x\n          .copy()\n          .range([that.size - paddingPlusMargin / 2, paddingPlusMargin / 2])\n      );\n    },\n  },\n  watch: {\n    brushedSubjects: {\n      deep: true,\n      handler: function () {\n        this.$emit(\"updateBrushedSubjects\", {\n          metric: \"scatterplotMatrix\",\n          brushed: this.brushedSubjects,\n        });\n      },\n    },\n    metricsProp: {\n      deep: true,\n      immediate: true,\n      handler: function () {\n        if (this.metricsProp) {\n          this.metrics = this.metricsProp;\n          if (this.mounted) {\n            this.createChart();\n          }\n        }\n      },\n    },\n    dataProp: {\n      deep: true,\n      immediate: true,\n      handler: function () {\n        if (this.dataProp) {\n          this.data = this.dataProp;\n        }\n      },\n    },\n  },\n  mounted() {\n    this.width = Math.min(this.$refs.chart.clientWidth, this.maxWidth);\n    this.brushedSubjects = this.data.map((d) => d.subject_session_id);\n    this.createChart();\n    this.mounted = true;\n  },\n  methods: {\n    createChart() {\n      // Extend d3.selection to change z-order\n      // https://github.com/wbkd/d3-extended\n      d3.selection.prototype.moveToFront = function () {\n        return this.each(function () {\n          this.parentNode.appendChild(this);\n        });\n      };\n      d3.selection.prototype.moveToBack = function () {\n        return this.each(function () {\n          var firstChild = this.parentNode.firstChild;\n          if (firstChild) {\n            this.parentNode.insertBefore(this, firstChild);\n          }\n        });\n      };\n\n      d3.select(\"#scatterdiv\")\n        .append(\"div\")\n        .attr(\"id\", \"scattertooltip\")\n        .attr(\n          \"style\",\n          \"position: absolute; background-color: white; display: none; padding: 2px; border: 1px solid black; border-radius: 5px;\"\n        );\n\n      // Remove old chart\n      d3.selectAll(\"#scattersvg > *\").remove();\n\n      // append the svg object to the body of the page\n      const svg = d3\n        .select(\"#scattersvg\")\n        .attr(\"width\", this.width)\n        .attr(\"height\", this.height)\n        .append(\"g\")\n        .attr(\n          \"transform\",\n          \"translate(\" + this.margin.left + \",\" + this.margin.top + \")\"\n        );\n\n      svg\n        .append(\"style\")\n        .text(\n          `circle.hidden { fill: #000; fill-opacity: 1; r: ${\n            this.radius / 3\n          }; }`\n        );\n\n      svg.append(\"g\").call(this.xAxis);\n\n      svg.append(\"g\").call(this.yAxis);\n\n      const that = this;\n      const cell = svg\n        .append(\"g\")\n        .selectAll(\"g\")\n        .data(\n          d3.cross(d3.range(this.columns.length), d3.range(this.columns.length))\n        )\n        .join(\"g\")\n        .attr(\n          \"transform\",\n          ([i, j]) => `translate(${i * that.size},${j * that.size})`\n        );\n\n      cell\n        .append(\"rect\")\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"#aaa\")\n        .attr(\"x\", this.padding / 2 + 0.5)\n        .attr(\"y\", this.padding / 2 + 0.5)\n        .attr(\"width\", this.size - this.padding)\n        .attr(\"height\", this.size - this.padding);\n\n      cell.each(function ([i, j]) {\n        d3.select(this)\n          .selectAll(\"circle\")\n          .data(\n            that.data.filter(\n              (d) => !isNaN(d[that.columns[i]]) && !isNaN(d[that.columns[j]])\n            )\n          )\n          .join(\"circle\")\n          .attr(\"cx\", (d) => that.x[i](d[that.columns[i]]))\n          .attr(\"cy\", (d) => that.y[j](d[that.columns[j]]));\n      });\n\n      cell.call(this.brush);\n\n      const circle = cell\n        .selectAll(\"circle\")\n        .attr(\"r\", this.radius)\n        .attr(\"fill-opacity\", 0.7)\n        .attr(\"fill\", \"blue\")\n        .style(\"cursor\", \"pointer\")\n        .on(\"mouseover\", (d) => {\n          d3.select(d3.event.currentTarget)\n            .transition()\n            .duration(100)\n            .attr(\"r\", that.radius * 2);\n\n          d3.select(\"#scattertooltip\")\n            .transition()\n            .duration(200)\n            .style(\"display\", \"initial\")\n            .text(d.subject_session_id);\n        })\n        .on(\"mouseout\", () => {\n          d3.select(d3.event.currentTarget)\n            .transition()\n            .duration(100)\n            .attr(\"r\", that.radius);\n\n          d3.select(\"#scattertooltip\").style(\"display\", \"none\");\n        })\n        .on(\"mousemove\", () => {\n          d3.select(\"#scattertooltip\")\n            .style(\"left\", d3.event.pageX + 10 + \"px\")\n            .style(\"top\", d3.event.pageY + 10 + \"px\");\n        })\n        .on(\"click\", (d) => {\n          that.$emit(\"updateSelectedSubject\", d.subject_session_id);\n        });\n\n      circle.moveToFront();\n\n      svg\n        .append(\"g\")\n        .style(\"font\", \"bold 10px sans-serif\")\n        .style(\"pointer-events\", \"none\")\n        .selectAll(\"text\")\n        .data(this.columns)\n        .join(\"text\")\n        .attr(\n          \"transform\",\n          (d, i) => `translate(${i * that.size},${i * that.size})`\n        )\n        .attr(\"x\", this.padding)\n        .attr(\"y\", this.padding)\n        .attr(\"dy\", \".71em\")\n        .attr(\"font-size\", \"1.5em\")\n        .text((d) => d);\n\n      return svg.node();\n    },\n    brush(cell) {\n      const circle = cell.selectAll(\"circle\");\n      const that = this;\n      const brush = d3\n        .brush()\n        .extent([\n          [this.padding / 2, this.padding / 2],\n          [this.size - this.padding / 2, this.size - this.padding / 2],\n        ])\n        .on(\"start\", brushstarted)\n        .on(\"brush\", brushed)\n        .on(\"end\", brushended);\n\n      cell.call(brush);\n\n      let brushCell;\n\n      // Clear the previously-active brush, if any.\n      function brushstarted() {\n        if (brushCell !== this) {\n          d3.select(brushCell).call(brush.move, null);\n          brushCell = this;\n        }\n      }\n\n      // Highlight the selected circles.\n      function brushed([i, j]) {\n        if (d3.event.selection === null) return;\n        const [[x0, y0], [x1, y1]] = d3.event.selection;\n        circle.classed(\"hidden\", (d) => {\n          return (\n            x0 > that.x[i](d[that.columns[i]]) ||\n            x1 < that.x[i](d[that.columns[i]]) ||\n            y0 > that.y[j](d[that.columns[j]]) ||\n            y1 < that.y[j](d[that.columns[j]])\n          );\n        });\n        that.brushedSubjects = that.data\n          .filter(\n            (d) =>\n              that.x[i](d[that.columns[i]]) >= x0 &&\n              that.x[i](d[that.columns[i]]) <= x1 &&\n              that.y[j](d[that.columns[j]]) >= y0 &&\n              that.y[j](d[that.columns[j]]) <= y1\n          )\n          .map((d) => d.subject_session_id);\n      }\n\n      // If the brush is empty, select all circles.\n      function brushended() {\n        if (d3.event.selection !== null) return;\n        circle.classed(\"hidden\", false);\n        that.brushedSubjects = that.data.map((d) => d.subject_session_id);\n      }\n    },\n    handleResize() {\n      this.width = Math.min(\n        this.$refs.chart.clientWidth,\n        this.$refs.chart.clientHeight\n      );\n\n      const svg = d3\n        .select(\"#scattersvg\")\n        .attr(\"width\", this.width - this.margin.left - this.margin.right);\n\n      this.x.forEach((x) =>\n        x.range([0, this.width - this.margin.left - this.margin.right])\n      );\n\n      const that = this;\n      svg\n        .selectAll(\"rect\")\n        .attr(\"x\", function (d) {\n          return that.x(d.i);\n        })\n        .attr(\"width\", this.x.bandwidth());\n    },\n  },\n};\n</script>\n\n<style scoped>\n.scatterplot-matrix {\n  width: 100%;\n  /* height: 100%; */\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScatterplotMatrix.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScatterplotMatrix.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ScatterplotMatrix.vue?vue&type=template&id=5d8babb8&scoped=true&\"\nimport script from \"./ScatterplotMatrix.vue?vue&type=script&lang=js&\"\nexport * from \"./ScatterplotMatrix.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ScatterplotMatrix.vue?vue&type=style&index=0&id=5d8babb8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d8babb8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('strong',[_vm._v(\"Loading...\")]),_c('b-spinner',{staticClass:\"ml-4\",attrs:{\"variant\":\"primary\",\"label\":\"loading\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-container>\n    <strong>Loading...</strong>\n    <b-spinner class=\"ml-4\" variant=\"primary\" label=\"loading\"></b-spinner>\n  </b-container>\n</template>\n\n<script>\nexport default {\n  name: \"spinner\",\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Spinner.vue?vue&type=template&id=92fa8f0e&scoped=true&\"\nimport script from \"./Spinner.vue?vue&type=script&lang=js&\"\nexport * from \"./Spinner.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"92fa8f0e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-button-toolbar',{staticClass:\"sticky-top ml-2\"},[_c('b-button-group',[_c('b-button',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle.sidebar-backdrop\",modifiers:{\"sidebar-backdrop\":true}}],staticClass:\"mb-2 header-button\",attrs:{\"id\":\"sidebar-button\",\"variant\":\"outline-primary\"}},[_c('b-icon',{attrs:{\"icon\":\"layout-sidebar\",\"aria-hidden\":\"true\"}})],1),_c('b-button',{staticClass:\"mb-2 header-button\",attrs:{\"id\":\"back-button\",\"to\":\"/report\",\"variant\":\"outline-primary\"}},[_c('b-icon',{attrs:{\"icon\":\"search\",\"aria-hidden\":\"true\"}})],1),_c('b-button',{staticClass:\"mb-2 header-button\",attrs:{\"id\":\"download-button\",\"variant\":\"outline-primary\"},on:{\"click\":_vm.download}},[_c('b-icon',{attrs:{\"icon\":\"download\",\"aria-hidden\":\"true\"}})],1),(!_vm.isGroupReport)?_c('b-button',{staticClass:\"mb-2 header-button\",attrs:{\"id\":\"stats-button\",\"variant\":\"outline-primary\"}},[_c('b-icon',{attrs:{\"icon\":\"bar-chart\",\"aria-hidden\":\"true\"}})],1):_vm._e(),(!_vm.isGroupReport)?_c('b-popover',{attrs:{\"target\":\"stats-button\",\"placement\":\"bottom\",\"triggers\":\"click\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(_vm._s(_vm.subjectId))]},proxy:true}],null,false,3138654337)},[_vm._v(\" Here are distributions of some key QC metrics \")]):_vm._e(),(!_vm.isGroupReport)?_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.rating-modal\",modifiers:{\"rating-modal\":true}}],staticClass:\"mb-2 header-button\",attrs:{\"id\":\"rating-button\",\"variant\":\"outline-primary\"}},[_c('b-iconstack',[_c('b-icon',{attrs:{\"stacked\":\"\",\"icon\":\"check-circle\",\"scale\":\"0.75\",\"shift-v\":\"6\",\"shift-h\":\"-6\",\"aria-hidden\":\"true\"}}),_c('b-icon',{attrs:{\"stacked\":\"\",\"icon\":\"slash\",\"scale\":\"1.5\",\"aria-hidden\":\"true\"}}),_c('b-icon',{attrs:{\"stacked\":\"\",\"icon\":\"x-circle\",\"scale\":\"0.75\",\"shift-v\":\"-6\",\"shift-h\":\"6\",\"aria-hidden\":\"true\"}})],1)],1):_vm._e(),(!_vm.isGroupReport)?_c('b-modal',{ref:\"rating-modal\",attrs:{\"id\":\"rating-modal\",\"title\":_vm.subjectId},on:{\"ok\":_vm.onOk,\"hidden\":_vm.handleHidden}},[_c('div',{staticClass:\"mb-2\"},[_vm._v(\" Rate this subject: \")]),(_vm.rating)?_c('b-form',{ref:\"form\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('b-form-group',{attrs:{\"id\":\"input-group-overall\",\"label-for\":\"overall-rating\",\"description\":\"Rate the overall image quality.\",\"invalid-feedback\":\"rating required\",\"state\":_vm.state(_vm.rating.rating)}},[_c('b-form-radio-group',{attrs:{\"id\":\"overall-rating\",\"options\":_vm.ratingOptions,\"button-variant\":\"outline-primary\",\"size\":\"md\",\"buttons\":\"\"},model:{value:(_vm.rating.rating),callback:function ($$v) {_vm.$set(_vm.rating, \"rating\", $$v)},expression:\"rating.rating\"}})],1)],1):_vm._e()],1):_vm._e(),_c('b-dropdown',{staticClass:\"mb-2 header-button\",attrs:{\"variant\":\"outline-primary\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('b-icon',{attrs:{\"icon\":\"three-dots\",\"id\":\"more-button\",\"aria-hidden\":\"true\"}})]},proxy:true}])},[_c('b-dropdown-item-button',{attrs:{\"id\":\"download-csv\",\"variant\":\"outline-primary\"},on:{\"click\":function($event){return _vm.ratingsDownloadRequested()}}},[_c('b-iconstack',{staticClass:\"mr-3\",attrs:{\"aria-hidden\":\"true\"}},[_c('b-icon',{attrs:{\"stacked\":\"\",\"icon\":\"download\",\"shift-h\":\"-10\",\"variant\":\"outline-primary\"}}),_c('b-icon',{attrs:{\"stacked\":\"\",\"icon\":\"list-check\",\"shift-h\":\"7\",\"variant\":\"outline-primary\"}})],1),_vm._v(\" download ratings csv \")],1),_c('b-dropdown-item-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.csv-upload-modal\",modifiers:{\"csv-upload-modal\":true}}],attrs:{\"id\":\"upload-csv\",\"variant\":\"outline-primary\"}},[_c('b-iconstack',{staticClass:\"mr-3\",attrs:{\"aria-hidden\":\"true\"}},[_c('b-icon',{attrs:{\"stacked\":\"\",\"icon\":\"upload\",\"shift-h\":\"-10\",\"variant\":\"outline-primary\"}}),_c('b-icon',{attrs:{\"stacked\":\"\",\"icon\":\"list-check\",\"shift-h\":\"7\",\"variant\":\"outline-primary\"}})],1),_vm._v(\" upload ratings csv \")],1),_c('b-dropdown-item-button',{attrs:{\"id\":\"file-issue\",\"variant\":\"outline-primary\",\"onclick\":\"window.open('https://github.com/nipreps/dmriprep-viewer/issues/new','_blank')\"}},[_c('b-icon',{staticClass:\"mr-3\",attrs:{\"icon\":\"bug\",\"aria-hidden\":\"true\"}}),_vm._v(\" file bug report \")],1)],1)],1),_c('b-modal',{ref:\"csv-upload-modal\",attrs:{\"id\":\"csv-upload-modal\",\"title\":\"Upload a ratings csv file\"},on:{\"ok\":_vm.onCsvUploadOk}},[_c('b-form-group',{staticClass:\"mt-5 text-left\",attrs:{\"label\":\"Choose a previously downloaded ratings.csv file.\"}},[_c('b-form-file',{attrs:{\"state\":Boolean(_vm.ratingsCsvFile),\"placeholder\":\"Choose a file or drop it here...\",\"drop-placeholder\":\"Drop file here...\"},model:{value:(_vm.ratingsCsvFile),callback:function ($$v) {_vm.ratingsCsvFile=$$v},expression:\"ratingsCsvFile\"}})],1)],1),_c('b-tooltip',{attrs:{\"target\":\"sidebar-button\",\"triggers\":\"hover\"}},[_vm._v(\"toggle sidebar\")]),_c('b-tooltip',{attrs:{\"target\":\"back-button\",\"triggers\":\"hover\"}},[_vm._v(\"back to the input page\")]),_c('b-tooltip',{attrs:{\"target\":\"download-button\",\"triggers\":\"hover\"}},[_vm._v(\"download this report.json file\")]),(!_vm.isGroupReport)?_c('b-tooltip',{attrs:{\"target\":\"stats-button\",\"triggers\":\"hover\"}},[_vm._v(\"show QC summary stats\")]):_vm._e(),(!_vm.isGroupReport)?_c('b-tooltip',{attrs:{\"target\":\"rating-button\",\"triggers\":\"hover\"}},[_vm._v(\"rate this subject\")]):_vm._e(),_c('b-tooltip',{attrs:{\"target\":\"more-button\",\"triggers\":\"hover\"}},[_vm._v(\"more options\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-button-toolbar class=\"sticky-top ml-2\">\n    <b-button-group>\n      <b-button\n        v-b-toggle.sidebar-backdrop\n        id=\"sidebar-button\"\n        variant=\"outline-primary\"\n        class=\"mb-2 header-button\"\n      >\n        <b-icon icon=\"layout-sidebar\" aria-hidden=\"true\"></b-icon>\n      </b-button>\n      <b-button\n        id=\"back-button\"\n        to=\"/report\"\n        variant=\"outline-primary\"\n        class=\"mb-2 header-button\"\n      >\n        <b-icon icon=\"search\" aria-hidden=\"true\"></b-icon>\n      </b-button>\n      <!-- <b-button\n        id=\"info-button\"\n        variant=\"outline-primary\"\n        class=\"mb-2 header-button\"\n      >\n        <b-icon icon=\"info-circle\" aria-hidden=\"true\"></b-icon>\n      </b-button>\n      <b-popover target=\"info-button\" placement=\"auto\" triggers=\"click\">\n        <template v-slot:title>{{ subjectId }}</template>\n        pipeline: {{ report.pipeline }}\n        <br />\n        version: {{ report.pipeline_version }}\n        <br />\n        {{ report.boilerplate }}\n      </b-popover> -->\n      <b-button\n        id=\"download-button\"\n        variant=\"outline-primary\"\n        class=\"mb-2 header-button\"\n        @click=\"download\"\n      >\n        <b-icon icon=\"download\" aria-hidden=\"true\"></b-icon>\n      </b-button>\n      <b-button\n        id=\"stats-button\"\n        variant=\"outline-primary\"\n        class=\"mb-2 header-button\"\n        v-if=\"!isGroupReport\"\n      >\n        <b-icon icon=\"bar-chart\" aria-hidden=\"true\"></b-icon>\n      </b-button>\n      <b-popover\n        target=\"stats-button\"\n        placement=\"bottom\"\n        triggers=\"click\"\n        v-if=\"!isGroupReport\"\n      >\n        <template v-slot:title>{{ subjectId }}</template>\n        Here are distributions of some key QC metrics\n      </b-popover>\n      <b-button\n        id=\"rating-button\"\n        variant=\"outline-primary\"\n        class=\"mb-2 header-button\"\n        v-if=\"!isGroupReport\"\n        v-b-modal.rating-modal\n      >\n        <b-iconstack>\n          <!-- <b-icon stacked icon=\"hand-thumbs-up\" scale=\"0.75\" shift-v=\"6\" shift-h=\"-6\" aria-hidden=\"true\"></b-icon> -->\n          <b-icon\n            stacked\n            icon=\"check-circle\"\n            scale=\"0.75\"\n            shift-v=\"6\"\n            shift-h=\"-6\"\n            aria-hidden=\"true\"\n          ></b-icon>\n          <b-icon stacked icon=\"slash\" scale=\"1.5\" aria-hidden=\"true\"></b-icon>\n          <!-- <b-icon stacked icon=\"hand-thumbs-down\" scale=\"0.75\" shift-v=\"-6\" shift-h=\"6\" aria-hidden=\"true\"></b-icon> -->\n          <b-icon\n            stacked\n            icon=\"x-circle\"\n            scale=\"0.75\"\n            shift-v=\"-6\"\n            shift-h=\"6\"\n            aria-hidden=\"true\"\n          ></b-icon>\n        </b-iconstack>\n      </b-button>\n      <b-modal\n        id=\"rating-modal\"\n        ref=\"rating-modal\"\n        :title=\"subjectId\"\n        @ok=\"onOk\"\n        @hidden=\"handleHidden\"\n        v-if=\"!isGroupReport\"\n      >\n        <div class=\"mb-2\">\n          Rate this subject:\n        </div>\n        <b-form ref=\"form\" @submit.stop.prevent=\"handleSubmit\" v-if=\"rating\">\n          <b-form-group\n            id=\"input-group-overall\"\n            label-for=\"overall-rating\"\n            description=\"Rate the overall image quality.\"\n            invalid-feedback=\"rating required\"\n            :state=\"state(rating.rating)\"\n          >\n            <b-form-radio-group\n              id=\"overall-rating\"\n              v-model=\"rating.rating\"\n              :options=\"ratingOptions\"\n              button-variant=\"outline-primary\"\n              size=\"md\"\n              buttons\n            ></b-form-radio-group>\n            <!-- <b-form-rating\n              id=\"overall-rating\"\n              v-model=\"rating.rating\"\n              show-clear\n              show-value\n              show-value-max\n              icon-clear=\"slash-circle\"\n              :state=\"state(rating.rating)\"\n              required\n            ></b-form-rating> -->\n          </b-form-group>\n        </b-form>\n      </b-modal>\n      <b-dropdown variant=\"outline-primary\" class=\"mb-2 header-button\">\n        <template #button-content>\n          <b-icon\n            icon=\"three-dots\"\n            id=\"more-button\"\n            aria-hidden=\"true\"\n          ></b-icon>\n        </template>\n        <b-dropdown-item-button\n          id=\"download-csv\"\n          variant=\"outline-primary\"\n          @click=\"ratingsDownloadRequested()\"\n        >\n          <b-iconstack class=\"mr-3\" aria-hidden=\"true\">\n            <b-icon\n              stacked\n              icon=\"download\"\n              shift-h=\"-10\"\n              variant=\"outline-primary\"\n            ></b-icon>\n            <b-icon\n              stacked\n              icon=\"list-check\"\n              shift-h=\"7\"\n              variant=\"outline-primary\"\n            ></b-icon>\n          </b-iconstack>\n          download ratings csv\n        </b-dropdown-item-button>\n        <b-dropdown-item-button\n          id=\"upload-csv\"\n          variant=\"outline-primary\"\n          v-b-modal.csv-upload-modal\n        >\n          <b-iconstack class=\"mr-3\" aria-hidden=\"true\">\n            <b-icon\n              stacked\n              icon=\"upload\"\n              shift-h=\"-10\"\n              variant=\"outline-primary\"\n            ></b-icon>\n            <b-icon\n              stacked\n              icon=\"list-check\"\n              shift-h=\"7\"\n              variant=\"outline-primary\"\n            ></b-icon>\n          </b-iconstack>\n          upload ratings csv\n        </b-dropdown-item-button>\n        <b-dropdown-item-button\n          id=\"file-issue\"\n          variant=\"outline-primary\"\n          onclick=\"window.open('https://github.com/nipreps/dmriprep-viewer/issues/new','_blank')\"\n        >\n          <b-icon icon=\"bug\" class=\"mr-3\" aria-hidden=\"true\"></b-icon>\n          file bug report\n        </b-dropdown-item-button>\n      </b-dropdown>\n    </b-button-group>\n\n    <b-modal\n      id=\"csv-upload-modal\"\n      ref=\"csv-upload-modal\"\n      title=\"Upload a ratings csv file\"\n      @ok=\"onCsvUploadOk\"\n    >\n      <b-form-group\n        label=\"Choose a previously downloaded ratings.csv file.\"\n        class=\"mt-5 text-left\"\n      >\n        <b-form-file\n          v-model=\"ratingsCsvFile\"\n          :state=\"Boolean(ratingsCsvFile)\"\n          placeholder=\"Choose a file or drop it here...\"\n          drop-placeholder=\"Drop file here...\"\n        ></b-form-file>\n      </b-form-group>\n    </b-modal>\n\n    <b-tooltip target=\"sidebar-button\" triggers=\"hover\"\n      >toggle sidebar</b-tooltip\n    >\n    <b-tooltip target=\"back-button\" triggers=\"hover\"\n      >back to the input page</b-tooltip\n    >\n    <!-- <b-tooltip target=\"info-button\" triggers=\"hover\"\n      >info about this subject/study</b-tooltip\n    > -->\n    <b-tooltip target=\"download-button\" triggers=\"hover\"\n      >download this report.json file</b-tooltip\n    >\n    <b-tooltip target=\"stats-button\" triggers=\"hover\" v-if=\"!isGroupReport\"\n      >show QC summary stats</b-tooltip\n    >\n    <b-tooltip target=\"rating-button\" triggers=\"hover\" v-if=\"!isGroupReport\"\n      >rate this subject</b-tooltip\n    >\n    <b-tooltip target=\"more-button\" triggers=\"hover\">more options</b-tooltip>\n  </b-button-toolbar>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport { BootstrapVue, BootstrapVueIcons } from \"bootstrap-vue\";\nimport VuePapaParse from \"vue-papa-parse\";\n\n// eslint-disable-next-line\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap-vue/dist/bootstrap-vue.css\";\nimport * as FileSaver from \"file-saver\";\n\nVue.use(BootstrapVue);\nVue.use(BootstrapVueIcons);\nVue.use(VuePapaParse);\n\nexport default {\n  name: \"topBar\",\n  props: {\n    reportProp: {\n      type: Object,\n    },\n    ratingProp: {\n      type: Object,\n      default: null,\n    },\n    sidebarOn: {\n      type: Boolean,\n      default: false,\n    },\n    isGroupReport: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      report: null,\n      rating: null,\n      subjectId: \"loading...\",\n      ratingsCsvFile: null,\n      ratingOptions: [\n        { text: \"Definitely Fail\", value: \"-2\" },\n        { text: \"Probably Fail\", value: \"-1\" },\n        { text: \"Not Sure\", value: \"0\" },\n        { text: \"Probably Pass\", value: \"1\" },\n        { text: \"Definitely Pass\", value: \"2\" },\n      ],\n    };\n  },\n  methods: {\n    state(rating) {\n      return rating != null;\n    },\n    checkFormValidity() {\n      const valid = this.rating.rating != null;\n      return valid;\n    },\n    onOk(bvModalEvt) {\n      // Prevent modal from closing\n      bvModalEvt.preventDefault();\n      // Trigger submit handler\n      this.handleSubmit();\n    },\n    handleHidden() {\n      // If rater cancelled the rating form, reset the reviewed and whenRated\n      // fields if the other fields are invalid\n      if (!this.checkFormValidity()) {\n        this.rating.reviewed = false;\n        this.rating.whenRated = null;\n      }\n    },\n    handleSubmit() {\n      if (!this.checkFormValidity()) {\n        return;\n      }\n\n      this.rating.whenRated = new Date().toString();\n      this.rating.reviewed = true;\n\n      this.$nextTick(() => {\n        this.$bvModal.hide(\"rating-modal\");\n      });\n    },\n    download() {\n      var fileToSave = new Blob([JSON.stringify(this.report)], {\n        type: \"application/json\",\n        name: \"report.json\",\n      });\n      FileSaver.saveAs(fileToSave, \"report.json\");\n    },\n    ratingsDownloadRequested() {\n      this.$emit(\"ratingsDownloadRequested\");\n    },\n    onCsvUploadOk() {\n      if (this.ratingsCsvFile) {\n        this.$papa.parse(this.ratingsCsvFile, {\n          header: true,\n          dynamicTyping: true,\n          skipEmptyLines: true,\n          complete: (results) => {\n            this.$emit(\n              \"ratingsUploaded\",\n              results.data.reduce((m, v) => {\n                m[v.subject] = Object.assign({ reviewed: true }, v);\n                return m;\n              }, {})\n            );\n          },\n        });\n      }\n    },\n  },\n  mounted() {\n    if (this.reportProp) {\n      this.report = this.reportProp;\n      this.subjectId = this.reportProp[\"subject_id\"];\n    }\n    if (this.ratingProp) {\n      this.rating = this.ratingProp;\n    }\n  },\n  watch: {\n    reportProp() {\n      if (this.reportProp) {\n        this.report = this.reportProp;\n        this.subjectId = this.reportProp[\"subject_id\"];\n      }\n    },\n    ratingProp() {\n      if (this.ratingProp) {\n        this.rating = this.ratingProp;\n      }\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.header-button:not(:hover) {\n  background-color: #fff;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TopBar.vue?vue&type=template&id=23484d32&scoped=true&\"\nimport script from \"./TopBar.vue?vue&type=script&lang=js&\"\nexport * from \"./TopBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TopBar.vue?vue&type=style&index=0&id=23484d32&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23484d32\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":_vm.divId}},[_c('h6',{staticClass:\"m-0 p-0 text-left\"},[_vm._v(_vm._s(_vm.metric))]),_c('svg',{ref:\"chart\",staticClass:\"violin-plot\",attrs:{\"id\":_vm.svgId}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :id=\"divId\">\n    <!-- <resize-observer @notify=\"handleResize\" /> -->\n    <h6 class=\"m-0 p-0 text-left\">{{ metric }}</h6>\n    <svg :id=\"svgId\" ref=\"chart\" class=\"violin-plot\"></svg>\n  </div>\n</template>\n\n<script>\nconst d3 = require(\"d3\");\n\nexport default {\n  name: \"violinPlot\",\n  props: {\n    data: {\n      type: Array,\n    },\n    metric: {\n      type: String,\n    },\n  },\n  data() {\n    return {\n      margin: { top: 10, right: 10, bottom: 20, left: 10 },\n      width: null,\n      height: 250,\n      radius: 5,\n      brushedSubjects: null,\n      hoveredSubject: null,\n      brushObject: null,\n      histogram: null,\n      bins: null,\n      maxNum: null,\n      yNum: null,\n    };\n  },\n  computed: {\n    boxHeight() {\n      return this.height / 6;\n    },\n    center() {\n      return this.height / 2 - this.margin.bottom;\n    },\n    padding() {\n      return this.radius * 0.1;\n    },\n    svgId() {\n      return \"violinsvg-\" + this.metric;\n    },\n    divId() {\n      return \"violindiv-\" + this.metric;\n    },\n    tooltipId() {\n      return \"tooltip-\" + this.metric;\n    },\n    x() {\n      return d3\n        .scaleLinear()\n        .domain(d3.extent(this.data, (d) => d[this.metric]))\n        .range([this.margin.left, this.width - this.margin.right]);\n    },\n    dodgedData() {\n      return this.dodge(this.data, this.radius * 2 + this.padding);\n    },\n    boxPlotInfo() {\n      const sorted = this.data.map((d) => d[this.metric]).sort(d3.ascending);\n      const q1 = d3.quantile(sorted, 0.25);\n      const median = d3.quantile(sorted, 0.5);\n      const q3 = d3.quantile(sorted, 0.75);\n      const interQuantileRange = q3 - q1;\n      return {\n        q1: q1,\n        median: median,\n        q3: q3,\n        interQuantileRange: interQuantileRange,\n        min: q1 - 1.5 * interQuantileRange,\n        max: q1 + 1.5 * interQuantileRange,\n      };\n    },\n  },\n  watch: {\n    brushedSubjects: {\n      deep: true,\n      handler: function () {\n        this.$emit(\"updateBrushedSubjects\", {\n          metric: this.metric,\n          brushed: this.brushedSubjects,\n        });\n      },\n    },\n  },\n  mounted() {\n    this.width = this.$refs.chart.clientWidth;\n    this.brushedSubjects = this.data.map((d) => d.subject_session_id);\n\n    let highestPoint = this.getHighestPoint();\n    while (highestPoint < this.margin.top) {\n      this.radius = this.radius - 0.1;\n      if (this.radius < 3) {\n        this.radius = 5;\n        this.height = this.height + 50;\n      }\n      highestPoint = this.getHighestPoint();\n    }\n    this.createChart();\n  },\n  methods: {\n    getHighestPoint() {\n      return (\n        this.height -\n        this.boxHeight -\n        this.margin.bottom -\n        this.margin.top -\n        this.radius -\n        this.padding -\n        Math.max(...this.dodgedData.map((d) => d.y))\n      );\n    },\n    dodge(data, radius) {\n      const radius2 = radius ** 2;\n      const circles = data\n        .map((d) => ({ x: this.x(d[this.metric]), data: d }))\n        .sort((a, b) => a.x - b.x);\n      const epsilon = 1e-3;\n      let head = null,\n        tail = null;\n\n      // Returns true if circle ⟨x,y⟩ intersects with any circle in the queue.\n      function intersects(x, y) {\n        let a = head;\n        while (a) {\n          if (radius2 - epsilon > (a.x - x) ** 2 + (a.y - y) ** 2) {\n            return true;\n          }\n          a = a.next;\n        }\n        return false;\n      }\n\n      // Place each circle sequentially.\n      for (const b of circles) {\n        // Remove circles from the queue that can’t intersect the new circle b.\n        while (head && head.x < b.x - radius2) head = head.next;\n        // Choose the minimum non-intersecting tangent.\n        if (intersects(b.x, (b.y = 0))) {\n          let a = head;\n          b.y = Infinity;\n          do {\n            let y = a.y + Math.sqrt(radius2 - (a.x - b.x) ** 2);\n            if (y < b.y && !intersects(b.x, y)) b.y = y;\n            a = a.next;\n          } while (a);\n        }\n\n        // Add b to the queue.\n        b.next = null;\n        if (head === null) head = tail = b;\n        else tail = tail.next = b;\n      }\n\n      return circles;\n    },\n    createChart() {\n      d3.select(\"#\" + this.divId)\n        .append(\"div\")\n        .attr(\"id\", this.tooltipId)\n        .attr(\n          \"style\",\n          \"position: absolute; background-color: white; display: none; padding: 2px; border: 1px solid black; border-radius: 5px;\"\n        );\n\n      var svg = d3\n        .select(\"#\" + this.svgId)\n        .attr(\"viewBox\", [0, 0, this.width, this.height]);\n\n      svg\n        .append(\"style\")\n        .text(\n          `circle.hidden { fill: #000; fill-opacity: 1; r: ${\n            this.radius / 2\n          }; }`\n        );\n\n      const that = this;\n      const x = this.x;\n\n      const xAxis = (g) =>\n        g\n          .attr(\"transform\", `translate(0,${that.height - that.margin.bottom})`)\n          .call(d3.axisBottom(x).tickSizeOuter(0));\n\n      svg.append(\"g\").call(xAxis);\n\n      const brush = d3\n        .brushX()\n        .extent([\n          [this.margin.left, this.margin.top],\n          [this.width - this.margin.right, this.height - this.margin.bottom],\n        ])\n        .on(\"brush\", brushed)\n        .on(\"end\", brushended);\n\n      svg.call(brush);\n\n      // Highlight the selected circles.\n      function brushed() {\n        if (d3.event.selection === null) return;\n        const circle = d3.selectAll(\"#\" + that.svgId + \" circle\");\n        const [x0, x1] = d3.event.selection;\n        circle.classed(\"hidden\", (d) => {\n          return x0 > d.x || x1 < d.x;\n        });\n        that.brushedSubjects = that.data\n          .filter(\n            (d) => that.x(d[that.metric]) >= x0 && that.x(d[that.metric]) <= x1\n          )\n          .map((d) => d.subject_session_id);\n      }\n\n      // If the brush is empty, select all circles.\n      function brushended() {\n        if (d3.event.selection !== null) return;\n        const circle = d3.selectAll(\"#\" + that.svgId + \" circle\");\n        circle.classed(\"hidden\", false);\n        that.brushedSubjects = that.data.map((d) => d.subject_session_id);\n      }\n\n      // Color scale for dots\n      const myColor = d3\n        .scaleSequential()\n        .interpolator(d3.interpolateCool)\n        .domain(x.domain());\n\n      // Add individual points with jitter\n      svg\n        .append(\"g\")\n        .selectAll(\"circle\")\n        .data(this.dodgedData)\n        .join(\"circle\")\n        .attr(\"cx\", (d) => d.x)\n        .attr(\n          \"cy\",\n          (d) =>\n            that.height -\n            that.boxHeight -\n            that.margin.bottom -\n            that.margin.top -\n            that.radius -\n            that.padding -\n            d.y\n        )\n        .attr(\"r\", this.radius)\n        .style(\"fill\", (d) => myColor(d.data[that.metric]))\n        .style(\"cursor\", \"pointer\")\n        .attr(\"stroke\", \"white\")\n        .on(\"mouseover\", (d) => {\n          that.hoveredSubject = d.data.subject_session_id;\n          d3.select(d3.event.currentTarget)\n            .transition()\n            .duration(100)\n            .attr(\"r\", that.radius * 1.5);\n\n          d3.select(\"#\" + this.tooltipId)\n            .transition()\n            .duration(200)\n            .style(\"display\", \"initial\")\n            .text(d.data.subject_session_id);\n        })\n        .on(\"mouseout\", () => {\n          that.hoveredSubject = null;\n          d3.select(d3.event.currentTarget)\n            .transition()\n            .duration(100)\n            .attr(\"r\", that.radius);\n\n          d3.select(\"#\" + this.tooltipId).style(\"display\", \"none\");\n        })\n        .on(\"mousemove\", () => {\n          d3.select(\"#\" + this.tooltipId)\n            .style(\"left\", d3.event.pageX + 10 + \"px\")\n            .style(\"top\", d3.event.pageY + 10 + \"px\");\n        })\n        .on(\"click\", (d) => {\n          that.$emit(\"updateSelectedSubject\", d.data.subject_session_id);\n        });\n\n      // Box plot\n      svg\n        .append(\"line\")\n        .attr(\"x1\", x(this.boxPlotInfo.min))\n        .attr(\"x2\", x(this.boxPlotInfo.max))\n        .attr(\n          \"y1\",\n          this.height -\n            this.margin.bottom -\n            this.padding -\n            this.radius -\n            this.boxHeight / 2\n        )\n        .attr(\n          \"y2\",\n          this.height -\n            this.margin.bottom -\n            this.padding -\n            this.radius -\n            this.boxHeight / 2\n        )\n        .attr(\"stroke\", \"black\")\n        .attr(\"stroke-width\", 2);\n\n      // Show the box\n      svg\n        .append(\"rect\")\n        .attr(\n          \"y\",\n          this.height -\n            this.margin.bottom -\n            this.boxHeight -\n            this.padding -\n            this.radius\n        )\n        .attr(\"x\", x(this.boxPlotInfo.q1))\n        .attr(\"width\", x(this.boxPlotInfo.q3) - x(this.boxPlotInfo.q1))\n        .attr(\"height\", this.boxHeight)\n        .attr(\"stroke\", \"none\")\n        .style(\"fill\", \"grey\");\n\n      // show median, min and max horizontal lines\n      svg\n        .selectAll(\"toto\")\n        .data([\n          this.boxPlotInfo.min,\n          this.boxPlotInfo.median,\n          this.boxPlotInfo.max,\n        ])\n        .enter()\n        .append(\"line\")\n        .attr(\n          \"y1\",\n          this.height -\n            this.margin.bottom -\n            this.boxHeight -\n            this.padding -\n            this.radius\n        )\n        .attr(\n          \"y2\",\n          this.height - this.margin.bottom - this.padding - this.radius\n        )\n        .attr(\"x1\", function (d) {\n          return x(d);\n        })\n        .attr(\"x2\", function (d) {\n          return x(d);\n        })\n        .attr(\"stroke\", \"black\")\n        .attr(\"stroke-width\", 2);\n    },\n    // handleResize() {\n    //   this.width = this.$refs.chart.clientWidth;\n\n    //   const svg = d3\n    //     .select(\"#\" + this.svgId)\n    //     .attr(\"width\", this.width - this.margin.left - this.margin.right);\n\n    //   this.x.range([0, this.width - this.margin.left - this.margin.right]);\n    //   const that = this;\n    //   svg\n    //     .selectAll(\"rect\")\n    //     .attr(\"x\", function (d) {\n    //       return that.x(d.i);\n    //     })\n    //     .attr(\"width\", this.x.bandwidth());\n    // },\n  },\n};\n</script>\n\n<style scoped>\n.violin-plot {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViolinPlot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViolinPlot.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViolinPlot.vue?vue&type=template&id=6b3b5c74&scoped=true&\"\nimport script from \"./ViolinPlot.vue?vue&type=script&lang=js&\"\nexport * from \"./ViolinPlot.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ViolinPlot.vue?vue&type=style&index=0&id=6b3b5c74&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b3b5c74\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <b-container fluid class=\"px-0\">\n    <b-container fluid class=\"px-0\" v-if=\"groupReport\">\n      <topBar\n        :reportProp=\"groupReport\"\n        sidebarOn\n        isGroupReport\n        v-on:ratingsDownloadRequested=\"ratingsDownloadRequested\"\n        v-on:ratingsUploaded=\"ratingsUploaded\"\n      ></topBar>\n\n      <explainer :explainer-text=\"explainerText.qcMetrics\"></explainer>\n      <b-form-group class=\"text-left\" label=\"Select scatterplot metrics\">\n        <b-form-checkbox-group\n          id=\"checkbox-group-scatter\"\n          v-model=\"scatterMetrics\"\n          :options=\"metricOptions\"\n          name=\"scatter-metrics\"\n        ></b-form-checkbox-group>\n      </b-form-group>\n\n      <scatterplotMatrix\n        :dataProp=\"groupReport['subjects']\"\n        :metricsProp=\"scatterMetrics\"\n        v-on:updateBrushedSubjects=\"updateBrushedSubjects\"\n        v-on:updateSelectedSubject=\"updateSelectedSubject\"\n      ></scatterplotMatrix>\n\n      <b-form-group class=\"text-left\" label=\"Select violin plot metrics\">\n        <b-form-checkbox-group\n          id=\"checkbox-group-violin\"\n          v-model=\"violinMetrics\"\n          :options=\"metricOptions\"\n          name=\"violin-metrics\"\n        ></b-form-checkbox-group>\n      </b-form-group>\n\n      <violinPlot\n        v-for=\"metric in violinMetrics\"\n        :key=\"metric\"\n        :data=\"groupReport['subjects']\"\n        :metric=\"metric\"\n        v-on:updateBrushedSubjects=\"updateBrushedSubjects\"\n        v-on:updateSelectedSubject=\"updateSelectedSubject\"\n      ></violinPlot>\n\n      <b-card\n        class=\"text-left p-0 mb-5 mt-2\"\n        footer=\"This list scrolls left/right. Click on a participant ID to go to their report.\"\n      >\n        <template v-slot:header>\n          <b-row class=\"d-flex align-items-center\">\n            <b-col cols=\"7\" class=\"text-left\">\n              <h5 class=\"m-0\">\n                Selected subjects: {{ brushedSubjectsIntersection.length }}\n              </h5>\n            </b-col>\n            <b-col cols=\"5\" class=\"text-right\">\n              <b-button\n                @click=\"copyBrushedSubjectsToClipboard()\"\n                id=\"clipboard-button\"\n                variant=\"outline-primary\"\n                class=\"m-0\"\n              >\n                <b-icon\n                  icon=\"clipboard\"\n                  class=\"p m-0\"\n                  aria-hidden=\"true\"\n                ></b-icon>\n              </b-button>\n              <b-tooltip target=\"clipboard-button\" triggers=\"hover\"\n                >copy subject list to clipboard</b-tooltip\n              >\n            </b-col>\n          </b-row>\n        </template>\n        <b-card-text>\n          <b-nav vertical class=\"pb-0 text-left brushed-subject-nav\">\n            <b-nav-item\n              v-for=\"subject in brushedSubjectsIntersection\"\n              :key=\"subject\"\n              @click=\"updateSelectedSubject(subject)\"\n              >{{ subject }}</b-nav-item\n            >\n          </b-nav>\n        </b-card-text>\n      </b-card>\n    </b-container>\n\n    <spinner v-else></spinner>\n  </b-container>\n</template>\n\n<script>\nimport explainer from \"./Explainer\";\nimport scatterplotMatrix from \"./ScatterplotMatrix\";\nimport spinner from \"./Spinner\";\nimport topBar from \"./TopBar\";\nimport violinPlot from \"./ViolinPlot\";\n\nexport default {\n  name: \"groupReport\",\n  components: {\n    explainer,\n    scatterplotMatrix,\n    spinner,\n    topBar,\n    violinPlot,\n  },\n  data() {\n    return {\n      groupReport: null,\n      brushedSubjects: {},\n      brushedSubjectsIntersection: [],\n      scatterMetrics: [],\n      violinMetrics: [],\n      explainerText: {\n        qcMetrics:\n          \"Quality Control (QC) metrics are computed before and after the preprocessing pipeline is run on dMRI data. In the sections below, any QC measure computed on the unprocessed dMRI data will begin with 'raw_' while the same measure calculated on the preprocessed images will begin with 't1_' (assuming this the output space of the data is T1w). Basic properties of the scans such as the number of directions and dimensions of the images are available as well. Select measures below to see how they are distributed relative to on another.\",\n      },\n    };\n  },\n  props: {\n    reportProp: {\n      type: Object,\n    },\n  },\n  mounted() {\n    if (this.reportProp) {\n      this.groupReport = this.reportProp;\n    }\n    // Todo: Find some way to sensibly initialize these next two lines\n    this.scatterMetrics = []; // this.metricOptions.slice(0, 3);\n    this.violinMetrics = []; // this.metricOptions.slice(3);\n    this.brushedSubjects = this.metricOptions.reduce(\n      (o, key) => ({\n        ...o,\n        [key]: this.groupReport.subjects.map((d) => d.subject_session_id),\n      }),\n      {}\n    );\n    this.brushedSubjects.scatterplotMatrix = this.groupReport.subjects.map(\n      (d) => d.subject_session_id\n    );\n  },\n  methods: {\n    updateBrushedSubjects(brushedSubjectData) {\n      this.brushedSubjects[brushedSubjectData.metric] =\n        brushedSubjectData.brushed;\n\n      this.brushedSubjectsIntersection = Object.values(\n        this.brushedSubjects\n      ).reduce(\n        (accumulator, currentValue) =>\n          accumulator.filter((d) => currentValue.includes(d)),\n        this.groupReport.subjects.map((d) => d.subject_session_id)\n      );\n    },\n    updateSelectedSubject(subject) {\n      this.$emit(\"subjectSelected\", subject);\n    },\n    ratingsDownloadRequested() {\n      this.$emit(\"ratingsDownloadRequested\");\n    },\n    ratingsUploaded(e) {\n      this.$emit(\"ratingsUploaded\", e);\n    },\n    copyBrushedSubjectsToClipboard() {\n      navigator.clipboard.writeText(this.brushedSubjectsIntersection.join());\n    },\n  },\n  computed: {\n    metricOptions() {\n      return Object.keys(this.groupReport.subjects[0])\n        .filter(\n          (k) =>\n            ![\n              \"participant_id\",\n              \"subject_id\",\n              \"subject_session_id\",\n              \"session_id\",\n              \"file_name\",\n            ].includes(k)\n        )\n        .sort();\n    },\n  },\n  watch: {\n    reportProp() {\n      if (this.reportProp) {\n        this.groupReport = this.reportProp;\n      }\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1,\nh2 {\n  font-weight: normal;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n.brushed-subject-nav {\n  overflow: scroll;\n  height: 100px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReportGroup.vue?vue&type=template&id=048b3325&scoped=true&\"\nimport script from \"./ReportGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./ReportGroup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReportGroup.vue?vue&type=style&index=0&id=048b3325&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"048b3325\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"px-0\",attrs:{\"fluid\":\"\"}},[(_vm.report)?_c('b-container',{staticClass:\"px-0\",attrs:{\"fluid\":\"\"}},[_c('topBar',{attrs:{\"reportProp\":_vm.report,\"ratingProp\":_vm.rating},on:{\"ratingsDownloadRequested\":_vm.ratingsDownloadRequested,\"ratingsUploaded\":_vm.ratingsUploaded}}),_c('b-row',[_c('b-col',[_c('h1',[_vm._v(_vm._s(_vm.report.subject_id))]),_c('h2',{staticClass:\"mt-3 pt-3\"},[_vm._v(\"Corrected dwi\")]),_c('p',{staticClass:\"lead\"},[_vm._v(\"Motion and distortion corrected file\")]),_c('div',{staticStyle:{\"background-color\":\"black\"}},[_c('explainer',{attrs:{\"explainer-text\":_vm.explainerText.dwiTimeSeriesSprite}}),_vm._l((_vm.report.dwi_corrected),function(view){return _c('sprite4d',{key:view.orientation,attrs:{\"M\":view.M,\"N\":view.N,\"img\":view.img,\"num_slices\":view.num_slices,\"pix\":view.pix,\"id\":view.orientation,\"time\":_vm.time,\"overlayMode\":false,\"opacity\":\"1\"}})})],2),_c('vue-slider',{ref:\"timeSlider\",attrs:{\"min\":0,\"max\":_vm.report.dwi_corrected[0].num_slices - 1},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}}),_c('explainer',{attrs:{\"explainer-text\":_vm.explainerText.lineChart}}),_c('div',{staticStyle:{\"height\":\"200px\",\"width\":\"100%\",\"display\":\"inline-flex\"}},[_c('line-chart',{attrs:{\"id\":\"motion_params\",\"data\":_vm.report.eddy_params,\"outlier_indices\":_vm.report.outlier_volumes,\"xlabel\":\"TR\",\"ylabel\":\"RMS\",\"highlightIdx\":_vm.time}})],1),_c('explainer',{attrs:{\"explainer-text\":_vm.explainerText.carpetPlot}}),_c('CarpetPlot',{attrs:{\"data\":_vm.report.carpetplot,\"highlightIdx\":_vm.time}}),_c('vue-slider',{ref:\"timeSlider\",attrs:{\"min\":0,\"max\":_vm.report.dwi_corrected[0].num_slices - 1},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}}),_c('explainer',{attrs:{\"explainer-text\":_vm.explainerText.qSpace}}),_c('QSpaceGroup',{attrs:{\"report\":_vm.report,\"time\":_vm.time}}),_c('h2',{staticClass:\"mt-3 pt-3\"},[_vm._v(\"Registration + Brain Mask\")]),_c('p',{staticClass:\"lead\"},[_vm._v(\"Brain mask computed on T1w, and mapped to B0\")]),_c('explainer',{attrs:{\"explainer-text\":_vm.explainerText.brainMaskSprite}}),_c('BrainSprite',{ref:\"brainMaskSprite\",attrs:{\"id\":\"brainMaskSprite\",\"base_dim_x\":_vm.report.b0.pix,\"base_dim_y\":_vm.report.b0.pix,\"overlay_dim_x\":_vm.report.anat_mask.pix,\"overlay_dim_y\":_vm.report.anat_mask.pix,\"base\":_vm.report.b0.img,\"overlay\":_vm.report.anat_mask.img}}),_c('h2',{staticClass:\"mt-3 pt-3\"},[_vm._v(\"DTI: ColorFA\")]),_c('p',{staticClass:\"lead\"},[_vm._v(\"Color FA mapped on B0\")]),_c('explainer',{attrs:{\"explainer-text\":_vm.explainerText.colorFASprite}}),_c('BrainSprite',{ref:\"colorFASprite\",attrs:{\"id\":\"colorFASprite\",\"base_dim_x\":_vm.report.b0.pix,\"base_dim_y\":_vm.report.b0.pix,\"overlay_dim_x\":_vm.report.colorFA.pix,\"overlay_dim_y\":_vm.report.colorFA.pix,\"base\":_vm.report.b0.img,\"overlay\":_vm.report.colorFA.img}})],1)],1)],1):_c('spinner')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"brainsprite\"},[(!_vm.done)?_c('div',[_vm._v(\"Hold on...\")]):_vm._e(),_c('canvas',{attrs:{\"id\":_vm.id}}),(_vm.showOrig)?_c('img',{staticClass:\"hidden\",attrs:{\"id\":_vm.id + '_spriteImg',\"src\":'data:image/png;base64,' + _vm.base}}):_vm._e(),(_vm.overlay && _vm.showOrig)?_c('img',{staticClass:\"hidden\",attrs:{\"id\":_vm.id + '_overlayImg',\"src\":'data:image/png;base64,' + _vm.overlay}}):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable */\nfunction brainsprite(params) {\n  // Function to add nearest neighbour interpolation to a canvas\n  function setNearestNeighbour(context, flag) {\n    context.imageSmoothingEnabled = flag;\n    return context;\n  }\n\n  // Initialize the brain object\n  var brain = {};\n\n  // Initialize the brain object\n  var defaultParams = {\n    // Flag for \"NaN\" image values, i.e. unable to read values\n    nanValue: false,\n\n    // Smoothing of the main slices\n    smooth: false,\n\n    // Draw (or not) the current value\n    flagValue: false,\n\n    // Background color for the canvas\n    colorBackground: \"#000000\",\n\n    // Flag to turn on/off slice numbers\n    flagCoordinates: false,\n\n    // Origins and voxel size\n    origin: { X: 0, Y: 0, Z: 0 },\n    voxelSize: 1,\n\n    // Affine transformation\n    affine: false,\n\n    // Colorbar size parameters\n    heightColorBar: 0.04,\n\n    // Font parameters\n    sizeFont: 0.075,\n    colorFont: \"#FFFFFF\",\n\n    // Number of decimals displayed\n    nbDecimals: 3,\n\n    // Flag to turn on/off the crosshair\n    crosshair: false,\n\n    // Color of the crosshair\n    colorCrosshair: \"#0000FF\",\n\n    // Size crosshair - percentage of the field of view\n    sizeCrosshair: 0.9,\n\n    // Optional title for the viewer\n    title: false,\n\n    // Coordinates for the initial cut\n    numSlice: false,\n  };\n\n  var brain = Object.assign({}, defaultParams, params);\n\n  // Build affine, if not specified\n  if (typeof brain.affine === \"boolean\" && brain.affine === false) {\n    brain.affine = [\n      [brain.voxelSize, 0, 0, -brain.origin.X],\n      [0, brain.voxelSize, 0, -brain.origin.Y],\n      [0, 0, brain.voxelSize, -brain.origin.Z],\n      [0, 0, 0, 1],\n    ];\n  }\n\n  // The main canvas, where the three slices are drawn\n  brain.canvas = document.getElementById(params.canvas);\n  brain.context = brain.canvas.getContext(\"2d\");\n  brain.context = setNearestNeighbour(brain.context, brain.smooth);\n\n  // An in-memory canvas to draw intermediate reconstruction\n  // of the coronal slice, at native resolution\n  brain.canvasY = document.createElement(\"canvas\");\n  brain.contextY = brain.canvasY.getContext(\"2d\");\n\n  // An in-memory canvas to draw intermediate reconstruction\n  // of the axial slice, at native resolution\n  brain.canvasZ = document.createElement(\"canvas\");\n  brain.contextZ = brain.canvasZ.getContext(\"2d\");\n\n  // An in-memory canvas to read the value of pixels\n  brain.canvasRead = document.createElement(\"canvas\");\n  brain.contextRead = brain.canvasRead.getContext(\"2d\");\n  brain.canvasRead.width = 1;\n  brain.canvasRead.height = 1;\n\n  // Onclick events\n  brain.onclick = typeof params.onclick !== \"undefined\" ? params.onclick : \"\";\n\n  // Font parameters\n  if (brain.flagCoordinates) {\n    brain.spaceFont = 0.1;\n  } else {\n    brain.spaceFont = 0;\n  }\n\n  //******************//\n  // The sprite image //\n  //******************//\n  brain.sprite = document.getElementById(params.sprite);\n\n  // Number of columns and rows in the sprite\n  brain.nbCol = brain.sprite.width / params.nbSlice.Y;\n  brain.nbRow = brain.sprite.height / params.nbSlice.Z;\n  // Number of slices\n\n  brain.nbSlice = {\n    X:\n      typeof params.nbSlice.X !== \"undefined\"\n        ? params.nbSlice.X\n        : brain.nbCol * brain.nbRow,\n    Y: params.nbSlice.Y,\n    Z: params.nbSlice.Z,\n  };\n\n  // width and height for the canvas\n  brain.widthCanvas = { X: 0, Y: 0, Z: 0 };\n  brain.heightCanvas = { X: 0, Y: 0, Z: 0, max: 0 };\n\n  // the slice numbers\n  if (brain.numSlice == false) {\n    brain.numSlice = {\n      X: Math.floor(brain.nbSlice.X / 2),\n      Y: Math.floor(brain.nbSlice.Y / 2),\n      Z: Math.floor(brain.nbSlice.Z / 2),\n    };\n  }\n\n  // Coordinates for current slices - these will get updated when drawing the slices\n  brain.coordinatesSlice = { X: 0, Y: 0, Z: 0 };\n\n  //*************//\n  // The planes  //\n  //*************//\n  brain.planes = {};\n  // A master sagital canvas for the merge of background and overlay\n  brain.planes.canvasMaster = document.createElement(\"canvas\");\n  brain.planes.contextMaster = brain.planes.canvasMaster.getContext(\"2d\");\n\n  //*************//\n  // The overlay //\n  //*************//\n  params.overlay =\n    typeof params.overlay !== \"undefined\" ? params.overlay : false;\n  if (params.overlay) {\n    // Initialize the overlay\n    brain.overlay = {};\n    // Get the sprite\n    brain.overlay.sprite = document.getElementById(params.overlay.sprite);\n    // Ratio between the resolution of the foreground and background\n    // Number of columns and rows in the overlay\n    brain.overlay.nbCol = brain.overlay.sprite.width / params.overlay.nbSlice.Y;\n    brain.overlay.nbRow =\n      brain.overlay.sprite.height / params.overlay.nbSlice.Z;\n    // Number of slices in the overlay\n    brain.overlay.nbSlice = {\n      X:\n        typeof params.overlay.nbSlice.X !== \"undefined\"\n          ? params.overlay.nbSlice.X\n          : brain.overlay.nbCol * brain.overlay.nbRow,\n      Y: params.overlay.nbSlice.Y,\n      Z: params.overlay.nbSlice.Z,\n    };\n    // opacity\n    brain.overlay.opacity =\n      typeof params.overlay.opacity !== \"undefined\"\n        ? params.overlay.opacity\n        : 1;\n  }\n\n  //**************//\n  // The colormap //\n  //**************//\n  params.colorMap =\n    typeof params.colorMap !== \"undefined\" ? params.colorMap : false;\n  if (params.colorMap) {\n    // Initialize the color map\n    brain.colorMap = {};\n    // Get the sprite\n    brain.colorMap.img = document.getElementById(params.colorMap.img);\n    // Set min / max\n    brain.colorMap.min = params.colorMap.min;\n    brain.colorMap.max = params.colorMap.max;\n    // Set visibility\n    params.colorMap.hide =\n      typeof params.colorMap.hide !== \"undefined\"\n        ? params.colorMap.hide\n        : false;\n    // An in-memory canvas to store the colormap\n    brain.colorMap.canvas = document.createElement(\"canvas\");\n    brain.colorMap.context = brain.colorMap.canvas.getContext(\"2d\");\n    brain.colorMap.canvas.width = brain.colorMap.img.width;\n    brain.colorMap.canvas.height = brain.colorMap.img.height;\n\n    // Copy the color map in an in-memory canvas\n    brain.colorMap.context.drawImage(\n      brain.colorMap.img,\n      0,\n      0,\n      brain.colorMap.img.width,\n      brain.colorMap.img.height,\n      0,\n      0,\n      brain.colorMap.img.width,\n      brain.colorMap.img.height\n    );\n  }\n\n  //*******************************************//\n  // Extract the value associated with a voxel //\n  //*******************************************//\n  brain.getValue = function (rgb, colorMap) {\n    if (!colorMap) {\n      return NaN;\n    }\n    var cv, dist, nbColor, ind, val, voxelValue;\n    nbColor = colorMap.canvas.width;\n    ind = NaN;\n    val = Infinity;\n    for (let xx = 0; xx < nbColor; xx++) {\n      cv = colorMap.context.getImageData(xx, 0, 1, 1).data;\n      dist =\n        Math.pow(cv[0] - rgb[0], 2) +\n        Math.pow(cv[1] - rgb[1], 2) +\n        Math.pow(cv[2] - rgb[2], 2);\n      if (dist < val) {\n        ind = xx;\n        val = dist;\n      }\n    }\n    voxelValue =\n      (ind * (colorMap.max - colorMap.min)) / (nbColor - 1) + colorMap.min;\n    return voxelValue;\n  };\n\n  //***************************************//\n  // Update voxel value                    //\n  //***************************************//\n  brain.updateValue = function () {\n    var pos = {};\n    var test1 = [];\n    var test2 = [];\n    if (brain.overlay && !brain.nanValue) {\n      try {\n        pos.XW = Math.round(brain.numSlice.X % brain.nbCol);\n        pos.XH = Math.round((brain.numSlice.X - pos.XW) / brain.nbCol);\n        brain.contextRead.fillStyle = \"#FFFFFF\";\n        brain.contextRead.fillRect(0, 0, 1, 1);\n        brain.contextRead.drawImage(\n          brain.overlay.sprite,\n          pos.XW * brain.nbSlice.Y + brain.numSlice.Y,\n          pos.XH * brain.nbSlice.Z + brain.nbSlice.Z - brain.numSlice.Z - 1,\n          1,\n          1,\n          0,\n          0,\n          1,\n          1\n        );\n        let rgb = brain.contextRead.getImageData(0, 0, 1, 1).data;\n        test1 = rgb[0] == 255 && rgb[1] == 255 && rgb[2] == 255;\n        brain.contextRead.fillStyle = \"#000000\";\n        brain.contextRead.fillRect(0, 0, 1, 1);\n        brain.contextRead.drawImage(\n          brain.overlay.sprite,\n          pos.XW * brain.nbSlice.Y + brain.numSlice.Y,\n          pos.XH * brain.nbSlice.Z + brain.nbSlice.Z - brain.numSlice.Z - 1,\n          1,\n          1,\n          0,\n          0,\n          1,\n          1\n        );\n        rgb = brain.contextRead.getImageData(0, 0, 1, 1).data;\n        test2 = rgb[0] == 0 && rgb[1] == 0 && rgb[2] == 0;\n        if (test1 && test2) {\n          brain.voxelValue = NaN;\n        } else {\n          brain.voxelValue = brain.getValue(rgb, brain.colorMap);\n        }\n      } catch (err) {\n        console.warn(err.message);\n        rgb = 0;\n        brain.nanValue = true;\n        brain.voxelValue = NaN;\n      }\n    } else {\n      brain.voxelValue = NaN;\n    }\n  };\n\n  //***************************************//\n  // Multiply two matrices                 //\n  //***************************************//\n  // Snippet copied from https://stackoverflow.com/questions/27205018/multiply-2-matrices-in-javascript\n  brain.multiply = function (a, b) {\n    var aNumRows = a.length,\n      aNumCols = a[0].length,\n      bNumRows = b.length,\n      bNumCols = b[0].length,\n      m = new Array(aNumRows); // initialize array of rows\n    for (var r = 0; r < aNumRows; ++r) {\n      m[r] = new Array(bNumCols); // initialize the current row\n      for (var c = 0; c < bNumCols; ++c) {\n        m[r][c] = 0; // initialize the current cell\n        for (var i = 0; i < aNumCols; ++i) {\n          m[r][c] += a[r][i] * b[i][c];\n        }\n      }\n    }\n    return m;\n  };\n\n  //***************************************//\n  // Update slice coordinates              //\n  //***************************************//\n  brain.updateCoordinates = function () {\n    const coordVoxel = brain.multiply(brain.affine, [\n      [brain.numSlice.X + 1],\n      [brain.numSlice.Y + 1],\n      [brain.numSlice.Z + 1],\n      [1],\n    ]);\n    brain.coordinatesSlice.X = coordVoxel[0];\n    brain.coordinatesSlice.Y = coordVoxel[1];\n    brain.coordinatesSlice.Z = coordVoxel[2];\n  };\n\n  //***********************//\n  // Initialize the viewer //\n  //***********************//\n  brain.init = function () {\n    // Update the width of the X, Y and Z slices in the canvas, based on the width of its parent\n    brain.widthCanvas.X = Math.floor(\n      brain.canvas.parentElement.clientWidth *\n        (brain.nbSlice.Y / (2 * brain.nbSlice.X + brain.nbSlice.Y))\n    );\n    brain.widthCanvas.Y = Math.floor(\n      brain.canvas.parentElement.clientWidth *\n        (brain.nbSlice.X / (2 * brain.nbSlice.X + brain.nbSlice.Y))\n    );\n    brain.widthCanvas.Z = Math.floor(\n      brain.canvas.parentElement.clientWidth *\n        (brain.nbSlice.X / (2 * brain.nbSlice.X + brain.nbSlice.Y))\n    );\n    brain.widthCanvas.max = Math.max(\n      brain.widthCanvas.X,\n      brain.widthCanvas.Y,\n      brain.widthCanvas.Z\n    );\n\n    // Update the height of the slices in the canvas, based on width and image ratio\n    brain.heightCanvas.X = Math.floor(\n      (brain.widthCanvas.X * brain.nbSlice.Z) / brain.nbSlice.Y\n    );\n    brain.heightCanvas.Y = Math.floor(\n      (brain.widthCanvas.Y * brain.nbSlice.Z) / brain.nbSlice.X\n    );\n    brain.heightCanvas.Z = Math.floor(\n      (brain.widthCanvas.Z * brain.nbSlice.Y) / brain.nbSlice.X\n    );\n    brain.heightCanvas.max = Math.max(\n      brain.heightCanvas.X,\n      brain.heightCanvas.Y,\n      brain.heightCanvas.Z\n    );\n\n    // Apply the width/height to the canvas, if necessary\n    if (\n      brain.canvas.width !=\n      brain.widthCanvas.X + brain.widthCanvas.Y + brain.widthCanvas.Z\n    ) {\n      brain.canvas.width =\n        brain.widthCanvas.X + brain.widthCanvas.Y + brain.widthCanvas.Z;\n      brain.canvas.height = Math.round(\n        (1 + brain.spaceFont) * brain.heightCanvas.max\n      );\n      brain.context = setNearestNeighbour(brain.context, brain.smooth);\n    }\n\n    // Size for fonts\n    brain.sizeFontPixels = Math.round(brain.sizeFont * brain.heightCanvas.max);\n\n    // fonts\n    brain.context.font = brain.sizeFontPixels + \"px Arial\";\n\n    // Draw the Master canvas\n    brain.planes.canvasMaster.width = brain.sprite.width;\n    brain.planes.canvasMaster.height = brain.sprite.height;\n    brain.planes.contextMaster.globalAlpha = 1;\n    brain.planes.contextMaster.drawImage(\n      brain.sprite,\n      0,\n      0,\n      brain.sprite.width,\n      brain.sprite.height,\n      0,\n      0,\n      brain.sprite.width,\n      brain.sprite.height\n    );\n    if (brain.overlay) {\n      // Draw the overlay on a canvas\n      brain.planes.contextMaster.globalAlpha = brain.overlay.opacity;\n      brain.planes.contextMaster.drawImage(\n        brain.overlay.sprite,\n        0,\n        0,\n        brain.overlay.sprite.width,\n        brain.overlay.sprite.height,\n        0,\n        0,\n        brain.sprite.width,\n        brain.sprite.height\n      );\n    }\n\n    // Draw the X canvas (sagital)\n    brain.planes.canvasX = document.createElement(\"canvas\");\n    brain.planes.contextX = brain.planes.canvasX.getContext(\"2d\");\n    brain.planes.canvasX.width = brain.nbSlice.Y;\n    brain.planes.canvasX.height = brain.nbSlice.Z;\n\n    // Draw the Y canvas (coronal)\n    brain.planes.canvasY = document.createElement(\"canvas\");\n    brain.planes.contextY = brain.planes.canvasY.getContext(\"2d\");\n    brain.planes.canvasY.width = brain.nbSlice.X;\n    brain.planes.canvasY.height = brain.nbSlice.Z;\n\n    // Draw the Z canvas (axial)\n    brain.planes.canvasZ = document.createElement(\"canvas\");\n    brain.planes.contextZ = brain.planes.canvasZ.getContext(\"2d\");\n    brain.planes.canvasZ.width = brain.nbSlice.X;\n    brain.planes.canvasZ.height = brain.nbSlice.Y;\n    brain.planes.contextZ.rotate(-Math.PI / 2);\n    brain.planes.contextZ.translate(-brain.nbSlice.Y, 0);\n\n    // Update value\n    brain.updateValue();\n\n    // Update coordinates\n    brain.updateCoordinates();\n\n    // Round up slice coordinates\n    brain.numSlice.X = Math.round(brain.numSlice.X);\n    brain.numSlice.Y = Math.round(brain.numSlice.Y);\n    brain.numSlice.Z = Math.round(brain.numSlice.Z);\n  };\n\n  //***************************************//\n  // Draw a particular slice in the canvas //\n  //***************************************//\n  brain.draw = function (slice, type) {\n    // Init variables\n    var pos = {},\n      coord,\n      coordWidth,\n      offset = { X: \"\", Y: \"\", Z: \"\" };\n    offset.X = Math.ceil(((1 - brain.sizeCrosshair) * brain.nbSlice.X) / 2);\n    offset.Y = Math.ceil(((1 - brain.sizeCrosshair) * brain.nbSlice.Y) / 2);\n    offset.Z = Math.ceil(((1 - brain.sizeCrosshair) * brain.nbSlice.Z) / 2);\n\n    // Now draw the slice\n    switch (type) {\n      case \"X\":\n        // Draw a sagital slice in memory\n        pos.XW = brain.numSlice.X % brain.nbCol;\n        pos.XH = (brain.numSlice.X - pos.XW) / brain.nbCol;\n        brain.planes.contextX.drawImage(\n          brain.planes.canvasMaster,\n          pos.XW * brain.nbSlice.Y,\n          pos.XH * brain.nbSlice.Z,\n          brain.nbSlice.Y,\n          brain.nbSlice.Z,\n          0,\n          0,\n          brain.nbSlice.Y,\n          brain.nbSlice.Z\n        );\n\n        // Add a crosshair\n        if (brain.crosshair) {\n          brain.planes.contextX.fillStyle = brain.colorCrosshair;\n          brain.planes.contextX.fillRect(\n            brain.numSlice.Y,\n            offset.Z,\n            1,\n            brain.nbSlice.Z - 2 * offset.Z\n          );\n          brain.planes.contextX.fillRect(\n            offset.Y,\n            brain.nbSlice.Z - brain.numSlice.Z - 1,\n            brain.nbSlice.Y - 2 * offset.Y,\n            1\n          );\n        }\n\n        // fill the slice with background color\n        brain.context.fillStyle = brain.colorBackground;\n        brain.context.fillRect(0, 0, brain.widthCanvas.X, brain.canvas.height);\n\n        // Draw on the main canvas\n        brain.context.drawImage(\n          brain.planes.canvasX,\n          0,\n          0,\n          brain.nbSlice.Y,\n          brain.nbSlice.Z,\n          0,\n          (brain.heightCanvas.max - brain.heightCanvas.X) / 2,\n          brain.widthCanvas.X,\n          brain.heightCanvas.X\n        );\n\n        // Draw the title\n        if (brain.title) {\n          brain.context.fillStyle = brain.colorFont;\n          brain.context.fillText(\n            brain.title,\n            Math.round(brain.widthCanvas.X / 10),\n            Math.round(\n              brain.heightCanvas.max * brain.heightColorBar +\n                (1 / 4) * brain.sizeFontPixels\n            )\n          );\n        }\n\n        // Draw the value at current voxel\n        if (brain.flagValue) {\n          value =\n            \"value = \" +\n            Number.parseFloat(brain.voxelValue)\n              .toPrecision(brain.nbDecimals)\n              .replace(/0+$/, \"\");\n          valueWidth = brain.context.measureText(value).width;\n          brain.context.fillStyle = brain.colorFont;\n          brain.context.fillText(\n            value,\n            Math.round(brain.widthCanvas.X / 10),\n            Math.round(\n              brain.heightCanvas.max * brain.heightColorBar * 2 +\n                (3 / 4) * brain.sizeFontPixels\n            )\n          );\n        }\n\n        // Add X coordinates on the slice\n        if (brain.flagCoordinates) {\n          coord = \"x = \" + Math.round(brain.coordinatesSlice.X);\n          coordWidth = brain.context.measureText(coord).width;\n          brain.context.fillStyle = brain.colorFont;\n          brain.context.fillText(\n            coord,\n            brain.widthCanvas.X / 2 - coordWidth / 2,\n            Math.round(brain.canvas.height - brain.sizeFontPixels / 2)\n          );\n        }\n        break;\n\n      case \"Y\":\n        // Draw a single coronal slice at native resolution\n        brain.context.fillStyle = brain.colorBackground;\n        brain.context.fillRect(\n          brain.widthCanvas.X,\n          0,\n          brain.widthCanvas.Y,\n          brain.canvas.height\n        );\n        for (let xx = 0; xx < brain.nbSlice.X; xx++) {\n          const posW = xx % brain.nbCol;\n          const posH = (xx - posW) / brain.nbCol;\n          brain.planes.contextY.drawImage(\n            brain.planes.canvasMaster,\n            posW * brain.nbSlice.Y + brain.numSlice.Y,\n            posH * brain.nbSlice.Z,\n            1,\n            brain.nbSlice.Z,\n            xx,\n            0,\n            1,\n            brain.nbSlice.Z\n          );\n        }\n\n        // Add a crosshair\n        if (brain.crosshair) {\n          brain.planes.contextY.fillStyle = brain.colorCrosshair;\n          brain.planes.contextY.fillRect(\n            brain.numSlice.X,\n            offset.Z,\n            1,\n            brain.nbSlice.Z - 2 * offset.Z\n          );\n          brain.planes.contextY.fillRect(\n            offset.X,\n            brain.nbSlice.Z - brain.numSlice.Z - 1,\n            brain.nbSlice.X - 2 * offset.X,\n            1\n          );\n        }\n\n        // Redraw the coronal slice in the canvas at screen resolution\n        brain.context.drawImage(\n          brain.planes.canvasY,\n          0,\n          0,\n          brain.nbSlice.X,\n          brain.nbSlice.Z,\n          brain.widthCanvas.X,\n          (brain.heightCanvas.max - brain.heightCanvas.Y) / 2,\n          brain.widthCanvas.Y,\n          brain.heightCanvas.Y\n        );\n\n        // Add colorbar\n        if (brain.colorMap && !brain.colorMap.hide) {\n          // draw the colorMap on the coronal slice at screen resolution\n          brain.context.drawImage(\n            brain.colorMap.img,\n            0,\n            0,\n            brain.colorMap.img.width,\n            1,\n            Math.round(brain.widthCanvas.X + brain.widthCanvas.Y * 0.2),\n            Math.round((brain.heightCanvas.max * brain.heightColorBar) / 2),\n            Math.round(brain.widthCanvas.Y * 0.6),\n            Math.round(brain.heightCanvas.max * brain.heightColorBar)\n          );\n          brain.context.fillStyle = brain.colorFont;\n          label_min = Number.parseFloat(brain.colorMap.min)\n            .toPrecision(brain.nbDecimals)\n            .replace(/0+$/, \"\");\n          label_max = Number.parseFloat(brain.colorMap.max)\n            .toPrecision(brain.nbDecimals)\n            .replace(/0+$/, \"\");\n          brain.context.fillText(\n            label_min,\n            brain.widthCanvas.X +\n              brain.widthCanvas.Y * 0.2 -\n              brain.context.measureText(label_min).width / 2,\n            Math.round(\n              brain.heightCanvas.max * brain.heightColorBar * 2 +\n                (3 / 4) * brain.sizeFontPixels\n            )\n          );\n          brain.context.fillText(\n            label_max,\n            brain.widthCanvas.X +\n              brain.widthCanvas.Y * 0.8 -\n              brain.context.measureText(label_max).width / 2,\n            Math.round(\n              brain.heightCanvas.max * brain.heightColorBar * 2 +\n                (3 / 4) * brain.sizeFontPixels\n            )\n          );\n        }\n\n        // Add Y coordinates on the slice\n        if (brain.flagCoordinates) {\n          brain.context.font = brain.sizeFontPixels + \"px Arial\";\n          brain.context.fillStyle = brain.colorFont;\n          coord = \"y = \" + Math.round(brain.coordinatesSlice.Y);\n          coordWidth = brain.context.measureText(coord).width;\n          brain.context.fillText(\n            coord,\n            brain.widthCanvas.X + brain.widthCanvas.Y / 2 - coordWidth / 2,\n            Math.round(brain.canvas.height - brain.sizeFontPixels / 2)\n          );\n        }\n\n      case \"Z\":\n        // Draw a single axial slice at native resolution\n        brain.context.fillStyle = brain.colorBackground;\n        brain.context.fillRect(\n          brain.widthCanvas.X + brain.widthCanvas.Y,\n          0,\n          brain.widthCanvas.Z,\n          brain.canvas.height\n        );\n\n        for (let xx = 0; xx < brain.nbSlice.X; xx++) {\n          const posW = xx % brain.nbCol;\n          const posH = (xx - posW) / brain.nbCol;\n          brain.planes.contextZ.drawImage(\n            brain.planes.canvasMaster,\n            posW * brain.nbSlice.Y,\n            posH * brain.nbSlice.Z + brain.nbSlice.Z - brain.numSlice.Z - 1,\n            brain.nbSlice.Y,\n            1,\n            0,\n            xx,\n            brain.nbSlice.Y,\n            1\n          );\n        }\n\n        // Add a crosshair\n        if (brain.crosshair) {\n          brain.planes.contextZ.fillStyle = brain.colorCrosshair;\n          brain.planes.contextZ.fillRect(\n            offset.Y,\n            brain.numSlice.X,\n            brain.nbSlice.Y - 2 * offset.Y,\n            1\n          );\n          brain.planes.contextZ.fillRect(\n            brain.numSlice.Y,\n            offset.X,\n            1,\n            brain.nbSlice.X - 2 * offset.X\n          );\n        }\n\n        // Redraw the axial slice in the canvas at screen resolution\n        brain.context.drawImage(\n          brain.planes.canvasZ,\n          0,\n          0,\n          brain.nbSlice.X,\n          brain.nbSlice.Y,\n          brain.widthCanvas.X + brain.widthCanvas.Y,\n          (brain.heightCanvas.max - brain.heightCanvas.Z) / 2,\n          brain.widthCanvas.Z,\n          brain.heightCanvas.Z\n        );\n\n        // Add Z coordinates on the slice\n        if (brain.flagCoordinates) {\n          coord = \"z = \" + Math.round(brain.coordinatesSlice.Z);\n          coordWidth = brain.context.measureText(coord).width;\n          brain.context.fillStyle = brain.colorFont;\n          brain.context.fillText(\n            coord,\n            brain.widthCanvas.X +\n              brain.widthCanvas.Y +\n              brain.widthCanvas.Z / 2 -\n              coordWidth / 2,\n            Math.round(brain.canvas.height - brain.sizeFontPixels / 2)\n          );\n        }\n    }\n  };\n\n  // In case of click, update brain slices\n  brain.clickBrain = function (e) {\n    var rect = brain.canvas.getBoundingClientRect();\n    var xx = e.clientX - rect.left;\n    var yy = e.clientY - rect.top;\n    var sx, sy, sz;\n\n    if (xx < brain.widthCanvas.X) {\n      sy = Math.round((brain.nbSlice.Y - 1) * (xx / brain.widthCanvas.X));\n      sz = Math.round(\n        ((brain.nbSlice.Z - 1) *\n          ((brain.heightCanvas.max + brain.heightCanvas.X) / 2 - yy)) /\n          brain.heightCanvas.X\n      );\n      brain.numSlice.Y = Math.max(Math.min(sy, brain.nbSlice.Y - 1), 0);\n      brain.numSlice.Z = Math.max(Math.min(sz, brain.nbSlice.Z - 1), 0);\n    } else if (xx < brain.widthCanvas.X + brain.widthCanvas.Y) {\n      xx = xx - brain.widthCanvas.X;\n      sx = Math.round((brain.nbSlice.X - 1) * (xx / brain.widthCanvas.Y));\n      sz = Math.round(\n        ((brain.nbSlice.Z - 1) *\n          ((brain.heightCanvas.max + brain.heightCanvas.X) / 2 - yy)) /\n          brain.heightCanvas.X\n      );\n      brain.numSlice.X = Math.max(Math.min(sx, brain.nbSlice.X - 1), 0);\n      brain.numSlice.Z = Math.max(Math.min(sz, brain.nbSlice.Z - 1), 0);\n    } else {\n      xx = xx - brain.widthCanvas.X - brain.widthCanvas.Y;\n      sx = Math.round((brain.nbSlice.X - 1) * (xx / brain.widthCanvas.Z));\n      sy = Math.round(\n        ((brain.nbSlice.Y - 1) *\n          ((brain.heightCanvas.max + brain.heightCanvas.Z) / 2 - yy)) /\n          brain.heightCanvas.Z\n      );\n      brain.numSlice.X = Math.max(Math.min(sx, brain.nbSlice.X - 1), 0);\n      brain.numSlice.Y = Math.max(Math.min(sy, brain.nbSlice.Y - 1), 0);\n    }\n    // Update value\n    brain.updateValue();\n\n    // Update coordinates\n    brain.updateCoordinates();\n\n    // Redraw slices\n    brain.drawAll();\n    if (brain.onclick) {\n      brain.onclick(e);\n    }\n  };\n\n  brain.drawAll = function () {\n    brain.draw(brain.numSlice.X, \"X\");\n    brain.draw(brain.numSlice.Y, \"Y\");\n    brain.draw(brain.numSlice.Z, \"Z\");\n  };\n\n  // Attach a listener for clicks\n  brain.canvas.addEventListener(\"click\", brain.clickBrain, false);\n\n  // Attach a listener on mouse down\n  brain.canvas.addEventListener(\n    \"mousedown\",\n    function (e) {\n      brain.canvas.addEventListener(\"mousemove\", brain.clickBrain, false);\n    },\n    false\n  );\n\n  // Detach the listener on mouse up\n  brain.canvas.addEventListener(\n    \"mouseup\",\n    function (e) {\n      brain.canvas.removeEventListener(\"mousemove\", brain.clickBrain, false);\n    },\n    false\n  );\n\n  // Draw all slices when background/overlay are loaded\n  brain.sprite.addEventListener(\"load\", function () {\n    brain.init();\n    brain.drawAll();\n  });\n  if (brain.overlay) {\n    brain.overlay.sprite.addEventListener(\"load\", function () {\n      brain.init();\n      brain.drawAll();\n    });\n  }\n\n  // Init the viewer\n  brain.init();\n\n  // Draw all slices\n  brain.drawAll();\n\n  return brain;\n}\n\nexport default brainsprite;\n","<template>\n  <div class=\"brainsprite\">\n    <div v-if=\"!done\">Hold on...</div>\n    <canvas :id=\"id\"></canvas>\n    <img\n      :id=\"id + '_spriteImg'\"\n      class=\"hidden\"\n      :src=\"'data:image/png;base64,' + base\"\n      v-if=\"showOrig\"\n    />\n    <img\n      :id=\"id + '_overlayImg'\"\n      class=\"hidden\"\n      v-if=\"overlay && showOrig\"\n      :src=\"'data:image/png;base64,' + overlay\"\n    />\n  </div>\n</template>\n\n<style scoped>\n.hidden {\n  visibility: hidden;\n  /* display: none; */\n}\ncanvas {\n  width: 100%;\n}\nimg {\n  /* width: 10px;\n    height: 10px; */\n}\n</style>\n\n<script>\nimport brainsprite from \"./brainsprite\";\n\nexport default {\n  name: \"brainsprite\",\n  props: [\n    \"base\",\n    \"overlay\",\n    \"id\",\n    \"base_dim_x\",\n    \"base_dim_y\",\n    \"overlay_dim_x\",\n    \"overlay_dim_y\",\n  ],\n  data() {\n    return {\n      brain: null,\n      showOrig: true,\n      done: false,\n    };\n  },\n  methods: {\n    refreshBrainSprite() {\n      /* eslint-disable-next-line */\n      const brain = new brainsprite({\n        canvas: this.id,\n        sprite: `${this.id}_spriteImg`,\n        nbSlice: { Y: this.base_dim_x, Z: this.base_dim_y },\n        overlay: {\n          sprite: `${this.id}_overlayImg`,\n          nbSlice: { Y: this.overlay_dim_x, Z: this.overlay_dim_y },\n          opacity: 0.5,\n        },\n      });\n      this.brain = brain;\n      this.showOrig = false;\n      this.done = true;\n    },\n  },\n  watch: {\n    $props: {\n      handler() {\n        this.showOrig = true;\n        this.done = false;\n        this.$nextTick(() => {\n          setTimeout(() => {\n            this.refreshBrainSprite();\n          }, 100);\n        });\n      },\n    },\n  },\n  mounted() {\n    this.$nextTick(() => {\n      setTimeout(() => {\n        this.refreshBrainSprite();\n      }, 100);\n    });\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrainSprite.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrainSprite.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BrainSprite.vue?vue&type=template&id=3f09f206&scoped=true&\"\nimport script from \"./BrainSprite.vue?vue&type=script&lang=js&\"\nexport * from \"./BrainSprite.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BrainSprite.vue?vue&type=style&index=0&id=3f09f206&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f09f206\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('resize-observer',{on:{\"notify\":_vm.handleResize}}),_c('svg',{ref:\"chart\",staticClass:\"carpetplot\",attrs:{\"id\":\"carpetsvg\",\"width\":_vm.width,\"height\":_vm.height}},[_c('g',{attrs:{\"transform\":'translate(' + _vm.margin.left + ',' + _vm.margin.top + ')'}},_vm._l((_vm.dataFlattened),function(d){return _c('rect',{key:d.i + ':' + d.j,attrs:{\"x\":_vm.x(d.i),\"y\":_vm.y(d.j),\"rx\":\"4\",\"ry\":\"4\",\"width\":_vm.x.bandwidth(),\"height\":_vm.y.bandwidth(),\"fill\":_vm.myColor(d.value),\"stroke-width\":\"4\",\"stroke\":\"none\",\"opacity\":d.i === _vm.highlightIdx ? 1 : 0.5}})}),0)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <resize-observer @notify=\"handleResize\" />\n    <svg\n      id=\"carpetsvg\"\n      ref=\"chart\"\n      class=\"carpetplot\"\n      :width=\"width\"\n      :height=\"height\"\n    >\n      <g :transform=\"'translate(' + margin.left + ',' + margin.top + ')'\">\n        <rect\n          v-for=\"d in dataFlattened\"\n          :key=\"d.i + ':' + d.j\"\n          :x=\"x(d.i)\"\n          :y=\"y(d.j)\"\n          rx=\"4\"\n          ry=\"4\"\n          :width=\"x.bandwidth()\"\n          :height=\"y.bandwidth()\"\n          :fill=\"myColor(d.value)\"\n          stroke-width=\"4\"\n          stroke=\"none\"\n          :opacity=\"d.i === highlightIdx ? 1 : 0.5\"\n        ></rect>\n      </g>\n    </svg>\n  </div>\n</template>\n\n<script>\nconst d3 = require(\"d3\");\n\nexport default {\n  name: \"Carpetplot\",\n  props: {\n    data: {\n      type: Array,\n    },\n    highlightIdx: {\n      type: Number,\n    },\n  },\n  data() {\n    return {\n      margin: { top: 10, right: 25, bottom: 10, left: 40 },\n      mounted: false,\n      width: null,\n      height: 500,\n    };\n  },\n  computed: {\n    innerWidth() {\n      return this.width - this.margin.left - this.margin.right;\n    },\n    innerHeight() {\n      return 450 - this.margin.top - this.margin.bottom;\n    },\n    dataFlattened() {\n      const nRows = this.data.length;\n      const nCols = this.data[0].length;\n      const output = [];\n\n      for (let i = 0; i < nRows; i += 1) {\n        for (let j = 0; j < nCols; j += 1) {\n          output.push({ i, j, value: this.data[i][j] });\n        }\n      }\n      return output;\n    },\n    x() {\n      // Build X scales and axis:\n      const myGroups = d3\n        .map(this.dataFlattened, function (d) {\n          return d.i;\n        })\n        .keys();\n      return d3\n        .scaleBand()\n        .range([0, this.innerWidth])\n        .domain(myGroups)\n        .padding(0.05);\n    },\n    y() {\n      // Build Y scales and axis:\n      const myVars = d3\n        .map(this.dataFlattened, function (d) {\n          return d.j;\n        })\n        .keys();\n      return d3\n        .scaleBand()\n        .range([this.innerHeight, 0])\n        .domain(myVars)\n        .padding(0.05);\n    },\n    myColor() {\n      // Build color scale\n      // const maxVal = d3.max(this.dataFlattened, d => d.value)\n      // const minVal = d3.min(this.dataFlattened, d => d.value)\n\n      return (\n        d3\n          .scaleSequential()\n          .interpolator(d3.interpolateInferno)\n          // .domain([minVal, maxVal]);\n          .domain([0, 1])\n      );\n    },\n  },\n  mounted() {\n    this.mounted = true;\n    this.width = this.$refs.chart.clientWidth;\n  },\n  methods: {\n    handleResize() {\n      this.width = this.$refs.chart.clientWidth;\n    },\n  },\n};\n</script>\n\n<style>\n.carpetplot {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CarpetPlot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CarpetPlot.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CarpetPlot.vue?vue&type=template&id=7763c02e&\"\nimport script from \"./CarpetPlot.vue?vue&type=script&lang=js&\"\nexport * from \"./CarpetPlot.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CarpetPlot.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"qspace-parent\"}},[_c('p',{staticClass:\"lead\"},[_vm._v(\"q-space Sampling\")]),_c('b-row',[_c('b-col',[_c('b-checkbox',{model:{value:(_vm.autoRotate),callback:function ($$v) {_vm.autoRotate=$$v},expression:\"autoRotate\"}},[_vm._v(\" auto rotate \")])],1),_c('b-col',[_c('b-checkbox',{model:{value:(_vm.showReflection),callback:function ($$v) {_vm.showReflection=$$v},expression:\"showReflection\"}},[_vm._v(\" show reflected points \")])],1)],1),_c('b-row',[_c('b-col',[_c('QSpaceViewer',{attrs:{\"elementId\":\"qSpaceViewerPre\",\"qcoords\":_vm.report.q_coords,\"colors\":_vm.report.color,\"cameraPosition\":_vm.globalPosition,\"autoRotate\":_vm.autoRotate,\"showReflectedPoints\":_vm.showReflection,\"highlightIdx\":_vm.time},on:{\"updateCameraPosition\":_vm.updateGlobalPosition}}),_c('p',{staticClass:\"lead\"},[_vm._v(\"Original\")])],1),_c('b-col',[_c('QSpaceViewer',{attrs:{\"elementId\":\"qSpaceViewerPost\",\"qcoords\":_vm.report.q_coords,\"colors\":_vm.report.color,\"cameraPosition\":_vm.globalPosition,\"autoRotate\":_vm.autoRotate,\"showReflectedPoints\":_vm.showReflection,\"highlightIdx\":_vm.time},on:{\"updateCameraPosition\":_vm.updateGlobalPosition}}),_c('p',{staticClass:\"lead\"},[_vm._v(\"Corrected\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":_vm.elementId}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n/**\n * This component creates a three.js canvas displaying a point cloud for the q-space sampling scheme\n *\n * The points are represented using THREE.Points with a vertex shader. We chose this method\n * because we believe it is more lightweight than a group of spheres or something similar.\n */\n -->\n<template>\n  <div :id=\"elementId\"></div>\n</template>\n\n<script>\nimport * as THREE from \"three\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls.js\";\nimport Stats from \"three/examples/jsm/libs/stats.module.js\";\nconst disc = require(\"../assets/disc.png\");\n\nexport default {\n  name: \"qSpaceViewer\",\n  props: {\n    qcoords: {\n      type: Array,\n    },\n    colors: {\n      type: Array,\n    },\n    elementId: {\n      type: String,\n    },\n    cameraPosition: {\n      type: Object,\n    },\n    autoRotate: {\n      type: Boolean,\n    },\n    showReflectedPoints: {\n      type: Boolean,\n    },\n    highlightIdx: {\n      type: Number,\n    },\n  },\n  data() {\n    return {\n      scene: null,\n      camera: null,\n      controls: null,\n      renderer: null,\n      ambient: null,\n      particles: null,\n      reflectedParticles: null,\n      showStats: false,\n      stats: null,\n      container: null,\n      unhighlightedSize: null,\n      unhighlightedAlpha: 0.4,\n    };\n  },\n  mounted() {\n    this.init();\n    this.animate();\n  },\n  watch: {\n    highlightIdx() {\n      this.highlightPoint();\n    },\n    autoRotate() {\n      this.toggleAutoRotate();\n    },\n    showReflectedPoints() {\n      this.toggleReflectedPoints();\n    },\n  },\n  methods: {\n    init: function () {\n      // There may be multiple QSpaceViewer components so `elementId` is\n      // passed in as an input using Vue magic. We insert the viewer canvas\n      // element into the div with this elementId\n      this.container = document.getElementById(this.elementId);\n\n      // The q-space coords will be scaled by b-val. So we don't know a priori\n      // what the scale will be. Thus, we read in the data first and then\n      // determine the scale of the point cloud. We then set the camera\n      // position, marker size, etc. dynamically.\n      const xyz = this.qcoords; // q-space coords\n      const rgb = this.colors; // color encodes the imaging run\n\n      let positions = [];\n      let colors = [];\n      let vertex;\n      const color = new THREE.Color();\n      let absMax = 0;\n\n      const npoints = xyz.length;\n      for (let i = 0, l = npoints; i < l; i++) {\n        vertex = xyz[i];\n        positions.push(vertex[0], vertex[1], vertex[2]);\n        const localMax = Math.max(Math.abs(vertex[0], vertex[1], vertex[2]));\n        if (localMax > absMax) {\n          absMax = localMax;\n        }\n\n        color.setRGB(rgb[i][0], rgb[i][1], rgb[i][2]);\n        colors.push(color.r, color.g, color.b);\n      }\n\n      // Now that we've determined `absMax`, set the point size and fill the\n      // sizes and alphas arrays.\n      this.unselectedSize = absMax * 0.15;\n      const sizes = new Float32Array(npoints);\n      const alphas = new Float32Array(npoints);\n\n      for (let i = 0, l = npoints; i < l; i++) {\n        sizes[i] =\n          i === this.highlightIdx\n            ? 3.0 * this.unselectedSize\n            : this.unselectedSize;\n        alphas[i] = i === this.highlightIdx ? 1.0 : 0.25;\n      }\n\n      // Set the positions, colors, sizes, and alphas as attributes of a\n      // buffer geometry. These attributes will be sent as arguments to the\n      // shaders defined below.\n      const geometry = new THREE.BufferGeometry();\n      geometry.setAttribute(\n        \"position\",\n        new THREE.Float32BufferAttribute(positions, 3)\n      );\n      geometry.setAttribute(\n        \"customColor\",\n        new THREE.Float32BufferAttribute(colors, 3)\n      );\n      geometry.setAttribute(\"size\", new THREE.BufferAttribute(sizes, 1));\n      geometry.setAttribute(\"alpha\", new THREE.BufferAttribute(alphas, 1));\n\n      // Create the scene and camera.\n      // Camera position is set dynamically based on `absMax`.\n      this.scene = new THREE.Scene();\n      this.camera = new THREE.PerspectiveCamera(75, 1, 0.001, absMax * 10);\n      this.camera.position.z = absMax * 2;\n      this.camera.position.y = absMax * 1;\n\n      // Use ambient light\n      this.ambient = new THREE.AmbientLight(0x111111);\n      this.scene.add(this.ambient);\n\n      // Use vertex and fragment shaders to change the display of each point\n      // Without this, each point is rendered as a square. The shaders take\n      // as arguments the attributes of the geometry defined above (i.e.\n      // alpha, size, and customColor).\n      const vertexShader = `\n        attribute float alpha;\n        attribute float size;\n        attribute vec3 customColor;\n        varying vec3 vColor;\n        varying float vAlpha;\n\n        void main() {\n          vColor = customColor;\n          vAlpha = alpha;\n          vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n          gl_PointSize = size * ( 300.0 / -mvPosition.z );\n          gl_Position = projectionMatrix * mvPosition;\n        }\n        `;\n\n      const fragmentShader = `\n        uniform vec3 color;\n        uniform sampler2D pointTexture;\n        varying vec3 vColor;\n        varying float vAlpha;\n\n        void main() {\n          gl_FragColor = vec4( color * vColor, vAlpha );\n          gl_FragColor = gl_FragColor * texture2D( pointTexture, gl_PointCoord );\n        }\n        `;\n\n      // Use the disc.png image for each point.\n      const discTexture = new THREE.TextureLoader().load(disc);\n\n      // Put it all together (the shaders and the image texture) into a\n      // shader material.\n      const material = new THREE.ShaderMaterial({\n        uniforms: {\n          color: { value: new THREE.Color(0xffffff) },\n          pointTexture: { value: discTexture },\n        },\n        vertexShader: vertexShader,\n        fragmentShader: fragmentShader,\n        transparent: true,\n        depthWrite: false,\n      });\n\n      // Create points from geometry and material and add to the scene.\n      this.particles = new THREE.Points(geometry, material);\n      this.scene.add(this.particles);\n\n      // Do this all over again for the reflected points.\n      let reflectedPositions = [];\n      for (let i = 0, l = npoints; i < l; i++) {\n        vertex = xyz[i];\n        reflectedPositions.push(-vertex[0], -vertex[1], -vertex[2]);\n      }\n\n      const reflectedGeometry = new THREE.BufferGeometry();\n      reflectedGeometry.setAttribute(\n        \"position\",\n        new THREE.Float32BufferAttribute(reflectedPositions, 3)\n      );\n      reflectedGeometry.setAttribute(\n        \"customColor\",\n        new THREE.Float32BufferAttribute(colors, 3)\n      );\n      reflectedGeometry.setAttribute(\n        \"size\",\n        new THREE.BufferAttribute(sizes, 1)\n      );\n      reflectedGeometry.setAttribute(\n        \"alpha\",\n        new THREE.BufferAttribute(alphas, 1)\n      );\n\n      this.reflectedParticles = new THREE.Points(reflectedGeometry, material);\n      this.scene.add(this.reflectedParticles);\n\n      // Only display the reflected particles if the checkbox is selected\n      this.reflectedParticles.visible = this.showReflectedPoints;\n\n      // three.js has an AxesHelper object but one can't change the line\n      // width. So instead we create one TubeGeometry for each axis and\n      // combine them all into `axesGroup`.\n      const axesGroup = new THREE.Group();\n\n      const axesPoints = {\n        x: [\n          [0, 0, 0],\n          [1.25 * absMax, 0, 0],\n        ],\n        y: [\n          [0, 0, 0],\n          [0, 1.25 * absMax, 0],\n        ],\n        z: [\n          [0, 0, 0],\n          [0, 0, 1.25 * absMax],\n        ],\n      };\n\n      // This somewhat complicated pattern iterates through each key/value\n      // in the previous object and creates a new object based on a map\n      // In this case we are creating a path from each set of points.\n      const axesPaths = Object.assign(\n        ...Object.entries(axesPoints).map(([key, value]) => ({\n          [key]: value.map(function (element) {\n            return new THREE.Vector3(element[0], element[1], element[2]);\n          }),\n        }))\n      );\n\n      // Use the same pattern to create a curve from each path.\n      const axesCurves = Object.assign(\n        ...Object.entries(axesPaths).map(([key, value]) => ({\n          [key]: new THREE.CatmullRomCurve3(value),\n        }))\n      );\n\n      // Use same pattern to create a geometry from each curve\n      const axesGeometries = Object.assign(\n        ...Object.entries(axesCurves).map(([key, value]) => ({\n          [key]: new THREE.TubeBufferGeometry(\n            value,\n            50,\n            absMax * 0.01,\n            8,\n            true\n          ),\n        }))\n      );\n\n      // Now create axes materials with a different color for each axis.\n      const axesMaterials = {\n        x: new THREE.MeshBasicMaterial({ color: \"red\", depthWrite: true }),\n        y: new THREE.MeshBasicMaterial({ color: \"green\", depthWrite: true }),\n        z: new THREE.MeshBasicMaterial({ color: \"blue\", depthWrite: true }),\n      };\n\n      // Create the tube meshes\n      const xAxisMesh = new THREE.Mesh(axesGeometries.x, axesMaterials.x);\n      const yAxisMesh = new THREE.Mesh(axesGeometries.y, axesMaterials.y);\n      const zAxisMesh = new THREE.Mesh(axesGeometries.z, axesMaterials.z);\n\n      // Add each one to the group and add group to scene\n      axesGroup.add(xAxisMesh);\n      axesGroup.add(yAxisMesh);\n      axesGroup.add(zAxisMesh);\n      this.scene.add(axesGroup);\n\n      // Create the renderer and append to the div container\n      this.renderer = new THREE.WebGLRenderer({ alpha: true });\n      this.renderer.setPixelRatio(window.devicePixelRatio);\n      this.renderer.setSize(\n        this.container.clientWidth,\n        this.container.clientWidth\n      );\n      this.container.appendChild(this.renderer.domElement);\n\n      // Add orbit controls.\n      this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n      this.controls.enableDamping = true;\n      this.controls.dampingFactor = 0.25;\n      this.controls.enableZoom = true;\n      this.controls.autoRotate = this.autoRotate;\n      this.controls.maxDistance = absMax * 5;\n      this.controls.enableKeys = false;\n\n      // We will have multiple QSpaceViewers and we want their orbit\n      // controls to be yoked to each other. We do this with the\n      // `emitCameraEvent` method.\n      this.controls.addEventListener(\"change\", this.emitCameraEvent);\n\n      // For development, it's nice to have stats on frame rate, etc.\n      // Set showStats to tru up top to see the sets.\n      // Be sure to turn it back off for the production version\n      if (this.showStats) {\n        this.stats = new Stats();\n        this.stats.domElement.style.position = \"relative\";\n        this.stats.domElement.style.top = \"0px\";\n        this.stats.domElement.style.right = \"0px\";\n        this.container.appendChild(this.stats.domElement);\n      }\n\n      this.container.addEventListener(\"resize\", this.onWindowResize, false);\n    },\n    animate: function () {\n      requestAnimationFrame(this.animate);\n      this.render();\n      if (this.showStats) {\n        this.stats.update();\n      }\n    },\n    highlightPoint() {\n      // When the volume selection slider changes, we call this method\n      // to change the size and opacity of the selected point.\n      const alphas = this.particles.geometry.attributes.alpha;\n      const sizes = this.particles.geometry.attributes.size;\n      for (let i = 0; i < alphas.count; i++) {\n        alphas.array[i] = i === this.highlightIdx ? 1.0 : 0.25;\n        sizes.array[i] =\n          i === this.highlightIdx\n            ? 3.0 * this.unselectedSize\n            : this.unselectedSize;\n      }\n      alphas.needsUpdate = true;\n      sizes.needsUpdate = true;\n\n      // Do it all over again for the reflected points.\n      const alphasRef = this.reflectedParticles.geometry.attributes.alpha;\n      const sizesRef = this.reflectedParticles.geometry.attributes.size;\n      for (let i = 0; i < alphasRef.count; i++) {\n        alphasRef.array[i] = i === this.highlightIdx ? 1.0 : 0.25;\n        sizesRef.array[i] =\n          i === this.highlightIdx\n            ? 3.0 * this.unselectedSize\n            : this.unselectedSize;\n      }\n      alphasRef.needsUpdate = true;\n      sizesRef.needsUpdate = true;\n    },\n    toggleAutoRotate() {\n      // When the auto rotate checkbox changes, change the autoRotate property\n      this.controls.autoRotate = this.autoRotate;\n    },\n    toggleReflectedPoints() {\n      // When the reflected points checkbox changes, change the visible property\n      this.reflectedParticles.visible = this.showReflectedPoints;\n    },\n    render: function () {\n      this.renderer.render(this.scene, this.camera);\n      if (this.cameraPosition) {\n        this.camera.position.copy(this.cameraPosition);\n      }\n      this.controls.update();\n    },\n    onWindowResize: function () {\n      this.renderer.setSize(\n        this.container.clientWidth,\n        this.container.clientWidth\n      );\n    },\n    emitCameraEvent: function () {\n      // When the camera position updates on this viewer component,\n      // emit an `updateCameraPosition` event, which will trigger\n      // the QSpaceGroup component to send it back down to each\n      // child component via the `cameraPosition` parameter.\n      this.$emit(\"updateCameraPosition\", this.camera.position);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QSpaceViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QSpaceViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QSpaceViewer.vue?vue&type=template&id=40e203af&\"\nimport script from \"./QSpaceViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./QSpaceViewer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\n/**\n * This parent component holds two QSpaceViewers in two columns.\n *\n * It also contains two checkboxes to toggle the auto-rotate feature and to\n * toggle the display of the reflected points.\n */\n -->\n<template>\n  <div id=\"qspace-parent\">\n    <p class=\"lead\">q-space Sampling</p>\n    <b-row>\n      <b-col>\n        <b-checkbox v-model=\"autoRotate\">\n          auto rotate\n        </b-checkbox>\n      </b-col>\n      <b-col>\n        <b-checkbox v-model=\"showReflection\">\n          show reflected points\n        </b-checkbox>\n      </b-col>\n    </b-row>\n\n    <b-row>\n      <b-col>\n        <QSpaceViewer\n          elementId=\"qSpaceViewerPre\"\n          :qcoords=\"report.q_coords\"\n          :colors=\"report.color\"\n          :cameraPosition=\"globalPosition\"\n          v-on:updateCameraPosition=\"updateGlobalPosition\"\n          :autoRotate=\"autoRotate\"\n          :showReflectedPoints=\"showReflection\"\n          :highlightIdx=\"time\"\n        />\n        <p class=\"lead\">Original</p>\n      </b-col>\n      <b-col>\n        <QSpaceViewer\n          elementId=\"qSpaceViewerPost\"\n          :qcoords=\"report.q_coords\"\n          :colors=\"report.color\"\n          :cameraPosition=\"globalPosition\"\n          v-on:updateCameraPosition=\"updateGlobalPosition\"\n          :autoRotate=\"autoRotate\"\n          :showReflectedPoints=\"showReflection\"\n          :highlightIdx=\"time\"\n        />\n        <p class=\"lead\">Corrected</p>\n      </b-col>\n    </b-row>\n  </div>\n</template>\n\n<script>\nimport QSpaceViewer from \"./QSpaceViewer\";\n\nexport default {\n  name: \"QSpaceGroup\",\n  components: {\n    QSpaceViewer,\n  },\n  props: {\n    report: {\n      type: Object,\n    },\n    time: {\n      type: Number,\n    },\n  },\n  data() {\n    return {\n      autoRotate: false,\n      showReflection: false,\n      globalPosition: null,\n    };\n  },\n  methods: {\n    updateGlobalPosition(position) {\n      this.globalPosition = position;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QSpaceGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QSpaceGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QSpaceGroup.vue?vue&type=template&id=f228272e&\"\nimport script from \"./QSpaceGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./QSpaceGroup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"200px\",\"width\":\"100%\",\"display\":\"inline-flex\"}},[_c('resize-observer',{on:{\"notify\":_vm.handleResize}}),_c('svg',{ref:\"chart\",staticClass:\"lineChart\",attrs:{\"id\":_vm.id,\"width\":_vm.width,\"height\":_vm.height}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"height: 200px; width: 100%; display: inline-flex;\">\n    <resize-observer @notify=\"handleResize\" />\n    <svg\n      ref=\"chart\"\n      :id=\"id\"\n      class=\"lineChart\"\n      :width=\"width\"\n      :height=\"height\"\n    ></svg>\n  </div>\n</template>\n\n<script>\nconst d3 = require(\"d3\");\n\nwindow.d3 = d3;\n\nexport default {\n  name: \"lineChart\",\n  data() {\n    return {\n      svg: null,\n      g: null,\n      x: null,\n      y: null,\n      xDomain: [0, 1],\n      yDomain: [0, 1],\n      margin: { top: 20, right: 20, bottom: 30, left: 50 },\n      lines: [],\n      width: null,\n      height: null,\n    };\n  },\n  computed: {\n    // width() {\n    //   return this.$refs.chart.clientWidth - this.margin.left - this.margin.right;\n    // },\n    // height() {\n    //   return this.$refs.chart.clientHeight - this.margin.top - this.margin.bottom;\n    // },\n  },\n  watch: {\n    highlightIdx() {\n      this.updateHighlightPoints();\n    },\n  },\n  methods: {\n    initAx() {\n      this.width =\n        this.$refs.chart.clientWidth - this.margin.left - this.margin.right;\n      this.height =\n        this.$refs.chart.clientHeight - this.margin.top - this.margin.bottom;\n      const svg = d3.select(`#${this.id}`);\n\n      // const width = this.$refs.chart.clientWidth - margin.left - margin.right\n      // const height = this.$refs.chart.clientHeight - margin.top - margin.bottom\n      const g = svg\n        .append(\"g\")\n        .attr(\n          \"transform\",\n          `translate(${this.margin.left}, ${this.margin.top})`\n        );\n      const y = d3.scaleLinear().range([this.height, 0]);\n      const x = d3.scaleLinear().range([0, this.width]);\n\n      this.svg = svg;\n      this.g = g;\n      this.x = x;\n      this.y = y;\n\n      this.initXaxis();\n      this.initYaxis();\n      this.initHighlightPoints();\n    },\n    initXaxis() {\n      this.g\n        .append(\"g\")\n        .attr(\"class\", \"x axis\")\n        .attr(\"transform\", `translate(0, ${this.height})`)\n        .call(d3.axisBottom(this.x));\n      // this.updateXaxis();\n    },\n    updateXaxis() {\n      this.x.range([0, this.width]).domain(this.xDomain);\n      d3.select(`#${this.id} .x.axis`).call(d3.axisBottom(this.x));\n    },\n    initYaxis() {\n      this.g\n        .append(\"g\")\n        .attr(\"class\", \"y axis\")\n        .call(d3.axisLeft(this.y))\n        .append(\"text\")\n        .attr(\"fill\", \"#000\")\n        .attr(\"transform\", \"rotate(-90)\")\n        .attr(\"y\", 6)\n        .attr(\"dy\", \"0.71em\")\n        .attr(\"text-anchor\", \"end\")\n        .text(this.ylabel);\n      // this.updateYaxis();\n    },\n    updateYaxis() {\n      this.y.range([this.height, 0]).domain(this.yDomain);\n      d3.select(`#${this.id} .y.axis`).call(d3.axisLeft(this.y));\n    },\n    initHighlightPoints() {\n      this.g.append(\"circle\").attr(\"class\", \"dot-series-1\");\n      this.g.append(\"circle\").attr(\"class\", \"dot-series-2\");\n    },\n    updateHighlightPoints() {\n      const self = this;\n      d3.select(`#${this.id} .dot-series-1`)\n        .attr(\"r\", 7)\n        .attr(\"cx\", () => self.x(self.highlightIdx))\n        .attr(\"cy\", () => self.y(self.data[self.highlightIdx][0]))\n        .attr(\"fill\", \"steelblue\");\n\n      d3.select(`#${this.id} .dot-series-2`)\n        .attr(\"r\", 7)\n        .attr(\"cx\", () => self.x(self.highlightIdx))\n        .attr(\"cy\", () => self.y(self.data[self.highlightIdx][1]))\n        .attr(\"fill\", \"red\");\n    },\n    plotData() {\n      const self = this;\n\n      /* eslint-disable */\n      const minX = d3.min(this.data, function g(d, i) {\n        return i;\n      });\n      const maxX = d3.max(this.data, function g(d, i) {\n        return i;\n      });\n\n      const maxY = d3.max(this.data, function g(d, i) {\n        return d3.max(d);\n      });\n      const minY = d3.min(this.data, function g(d, i) {\n        return d3.min(d);\n      });\n      /* eslint-enable */\n\n      this.xDomain = [minX, maxX];\n      this.yDomain = [minY, maxY];\n\n      this.updateXaxis();\n      this.updateYaxis();\n\n      /* eslint-disable */\n      const line1 = d3\n        .line()\n        .x(function f(d, i) {\n          return self.x(i);\n        })\n        .y(function f(d, i) {\n          return self.y(d[0]);\n        });\n\n      const line2 = d3\n        .line()\n        .x(function f(d, i) {\n          return self.x(i);\n        })\n        .y(function f(d, i) {\n          return self.y(d[1]);\n        });\n      /* eslint-enable */\n\n      this.lines = [line1, line2];\n\n      this.g\n        .append(\"path\")\n        .attr(\"class\", \"series-1\")\n        .datum(this.data)\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"steelblue\")\n        .attr(\"stroke-linejoin\", \"round\")\n        .attr(\"stroke-linecap\", \"round\")\n        .attr(\"stroke-width\", 1.5)\n        .attr(\"d\", line1);\n\n      this.g\n        .append(\"path\")\n        .attr(\"class\", \"series-2\")\n        .datum(this.data)\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"red\")\n        .attr(\"stroke-linejoin\", \"round\")\n        .attr(\"stroke-linecap\", \"round\")\n        .attr(\"stroke-width\", 1.5)\n        .attr(\"d\", line2);\n\n      this.g\n        .selectAll(\".outlier\")\n        .data(this.outlier_indices)\n        .enter()\n        .append(\"rect\")\n        .attr(\"class\", \"outlier\")\n        .attr(\"x\", (i) => self.x(i) - 1.5)\n        .attr(\"y\", () => self.y(maxY))\n        .attr(\"width\", \"3px\")\n        .attr(\"height\", () => `${self.height}px`)\n        .attr(\"fill\", \"black\");\n\n      this.svg.on(\"mousemove\", () => {\n        // const x0 = self.x.invert(d3.mouse(this)[0]);\n        // const bisect = d3.bisector(function(d){return d[0]}).left;\n        // window.bisect = bisect;\n      });\n    },\n    handleResize() {\n      // eslint-disable-next-line\n      this.width =\n        this.$refs.chart.clientWidth - this.margin.left - this.margin.right;\n      // this.height = this.$refs.chart.clientHeight - this.margin.top - this.margin.bottom;\n      this.updateXaxis();\n      // this.updateYaxis()\n      this.updateHighlightPoints();\n      const self = this;\n      this.g\n        .selectAll(\".outlier\")\n        .attr(\"x\", (i) => self.x(i) - 1.5)\n        .attr(\"height\", () => `${self.height}px`);\n\n      this.g.selectAll(\".series-1\").attr(\"d\", this.lines[0]);\n\n      this.g.selectAll(\".series-2\").attr(\"d\", this.lines[1]);\n    },\n  },\n  mounted() {\n    this.initAx();\n    this.plotData();\n  },\n  props: [\"ylabel\", \"xlabel\", \"data\", \"id\", \"highlightIdx\", \"outlier_indices\"],\n};\n</script>\n\n<style>\n.lineChart {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LineChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LineChart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LineChart.vue?vue&type=template&id=48355dd9&\"\nimport script from \"./LineChart.vue?vue&type=script&lang=js&\"\nexport * from \"./LineChart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LineChart.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"mt-3\"},[_c('div',{staticClass:\"sprite\",style:(_vm.style),attrs:{\"id\":_vm.id}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span class=\"mt-3\">\n    <div class=\"sprite\" :id=\"id\" :style=\"style\"></div>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: \"sprite4d\",\n  computed: {\n    row_idx() {\n      return Math.floor(this.time / this.M);\n    },\n    col_idx() {\n      return this.time % this.M;\n    },\n    style() {\n      const output = {\n        width: `${this.pix}px`,\n        height: `${this.pix}px`,\n        zoom: 1.5,\n        \"background-position-x\": `-${this.col_idx * this.pix}px`,\n        \"background-position-y\": `-${this.row_idx * this.pix}px`,\n        \"background-image\": `url('data:image/png;base64,${this.img}')`,\n        display: \"inline-flex\",\n        opacity: this.opacity,\n      };\n      if (this.overlayMode) {\n        output.position = \"absolute\";\n        output.left = `calc(50% - ${this.pix / 2}px)`;\n      }\n\n      return output;\n    },\n  },\n  data() {\n    return {};\n  },\n  methods: {},\n  mounted() {},\n  watch: {\n    time() {},\n  },\n  props: [\n    \"M\",\n    \"N\",\n    \"pix\",\n    \"num_slices\",\n    \"img\",\n    \"id\",\n    \"time\",\n    \"overlayMode\",\n    \"opacity\",\n  ],\n};\n</script>\n\n<style>\n.sprite {\n  background-position: \"0px 0px\";\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sprite4D.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sprite4D.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sprite4D.vue?vue&type=template&id=f81539a0&\"\nimport script from \"./Sprite4D.vue?vue&type=script&lang=js&\"\nexport * from \"./Sprite4D.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Sprite4D.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <b-container fluid class=\"px-0\">\n    <b-container fluid class=\"px-0\" v-if=\"report\">\n      <topBar\n        :reportProp=\"report\"\n        :ratingProp=\"rating\"\n        v-on:ratingsDownloadRequested=\"ratingsDownloadRequested\"\n        v-on:ratingsUploaded=\"ratingsUploaded\"\n      ></topBar>\n      <b-row>\n        <b-col>\n          <h1>{{ report.subject_id }}</h1>\n          <h2 class=\"mt-3 pt-3\">Corrected dwi</h2>\n          <p class=\"lead\">Motion and distortion corrected file</p>\n\n          <div style=\"background-color: black;\">\n            <explainer\n              :explainer-text=\"explainerText.dwiTimeSeriesSprite\"\n            ></explainer>\n            <sprite4d\n              v-for=\"view in report.dwi_corrected\"\n              :key=\"view.orientation\"\n              :M=\"view.M\"\n              :N=\"view.N\"\n              :img=\"view.img\"\n              :num_slices=\"view.num_slices\"\n              :pix=\"view.pix\"\n              :id=\"view.orientation\"\n              :time=\"time\"\n              :overlayMode=\"false\"\n              opacity=\"1\"\n            ></sprite4d>\n          </div>\n          <vue-slider\n            ref=\"timeSlider\"\n            v-model=\"time\"\n            :min=\"0\"\n            :max=\"report.dwi_corrected[0].num_slices - 1\"\n          ></vue-slider>\n\n          <explainer :explainer-text=\"explainerText.lineChart\"></explainer>\n          <div style=\"height: 200px; width: 100%; display: inline-flex;\">\n            <line-chart\n              id=\"motion_params\"\n              :data=\"report.eddy_params\"\n              :outlier_indices=\"report.outlier_volumes\"\n              xlabel=\"TR\"\n              ylabel=\"RMS\"\n              :highlightIdx=\"time\"\n            ></line-chart>\n          </div>\n\n          <explainer :explainer-text=\"explainerText.carpetPlot\"></explainer>\n          <CarpetPlot :data=\"report.carpetplot\" :highlightIdx=\"time\" />\n\n          <vue-slider\n            ref=\"timeSlider\"\n            v-model=\"time\"\n            :min=\"0\"\n            :max=\"report.dwi_corrected[0].num_slices - 1\"\n          ></vue-slider>\n\n          <explainer :explainer-text=\"explainerText.qSpace\"></explainer>\n          <QSpaceGroup :report=\"report\" :time=\"time\" />\n\n          <h2 class=\"mt-3 pt-3\">Registration + Brain Mask</h2>\n          <p class=\"lead\">Brain mask computed on T1w, and mapped to B0</p>\n          <explainer\n            :explainer-text=\"explainerText.brainMaskSprite\"\n          ></explainer>\n          <BrainSprite\n            id=\"brainMaskSprite\"\n            ref=\"brainMaskSprite\"\n            :base_dim_x=\"report.b0.pix\"\n            :base_dim_y=\"report.b0.pix\"\n            :overlay_dim_x=\"report.anat_mask.pix\"\n            :overlay_dim_y=\"report.anat_mask.pix\"\n            :base=\"report.b0.img\"\n            :overlay=\"report.anat_mask.img\"\n          />\n\n          <h2 class=\"mt-3 pt-3\">DTI: ColorFA</h2>\n          <p class=\"lead\">Color FA mapped on B0</p>\n\n          <explainer :explainer-text=\"explainerText.colorFASprite\"></explainer>\n          <BrainSprite\n            id=\"colorFASprite\"\n            ref=\"colorFASprite\"\n            :base_dim_x=\"report.b0.pix\"\n            :base_dim_y=\"report.b0.pix\"\n            :overlay_dim_x=\"report.colorFA.pix\"\n            :overlay_dim_y=\"report.colorFA.pix\"\n            :base=\"report.b0.img\"\n            :overlay=\"report.colorFA.img\"\n          />\n        </b-col>\n      </b-row>\n    </b-container>\n    <spinner v-else></spinner>\n  </b-container>\n</template>\n\n<script>\nimport BrainSprite from \"./BrainSprite.vue\";\nimport CarpetPlot from \"./CarpetPlot\";\nimport QSpaceGroup from \"./QSpaceGroup\";\nimport explainer from \"./Explainer\";\nimport lineChart from \"./LineChart\";\nimport sprite4d from \"./Sprite4D\";\nimport topBar from \"./TopBar\";\nimport Vue from \"vue\";\nimport VueResize from \"vue-resize\";\nimport vueSlider from \"vue-slider-component\";\nimport { BootstrapVue, BootstrapVueIcons } from \"bootstrap-vue\";\n\n// eslint-disable-next-line\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap-vue/dist/bootstrap-vue.css\";\nimport \"vue-slider-component/theme/antd.css\";\nimport \"vue-resize/dist/vue-resize.css\";\n\nVue.use(VueResize);\nVue.use(BootstrapVue);\nVue.use(BootstrapVueIcons);\n\nexport default {\n  name: \"report\",\n  components: {\n    BrainSprite,\n    CarpetPlot,\n    QSpaceGroup,\n    explainer,\n    lineChart,\n    sprite4d,\n    topBar,\n    vueSlider,\n  },\n  props: {\n    reportProp: {\n      type: Object,\n      default: null,\n    },\n    ratingProp: {\n      type: Object,\n      default: null,\n    },\n  },\n  data() {\n    return {\n      time: 0,\n      spriteSlice: 0,\n      globalPosition: null,\n      autoRotate: false,\n      showReflection: true,\n      report: null,\n      rating: null,\n      explainerText: {\n        dwiTimeSeriesSprite:\n          \"Axial, sagittal and coronal slices from each 3D image in the preprocessed dMRI series. \",\n        lineChart:\n          \"Time series of Framewise Displacement (Blue) and RMS of head translation (Red)\",\n        carpetPlot:\n          \"The slice-by-image matrix of deviation from the predicted dMRI signal. Brighter colors indicate a more aberrant slice. Values can be negative or positive.\",\n        qSpace:\n          \"Shows the q-space coordinate of the image currently in the viewer. Expect different contrast as distance from the origin increases.\",\n        brainMaskSprite:\n          \"If a T1w image was included in preprocessing, its mask is shown as a red contour line. Otherwise a mask of the b=0 reference image is shown.\",\n        colorFASprite:\n          \"RGB values corresponding to principal direction of a tensor fit. Red is L-R, green is A-P and blue is I-S.\",\n      },\n    };\n  },\n  methods: {\n    get_mid_slice() {\n      return Math.floor(this.report.b0.num_slices / 2);\n    },\n    updateGlobalPosition(position) {\n      this.globalPosition = position;\n    },\n    ratingsDownloadRequested() {\n      this.$emit(\"ratingsDownloadRequested\");\n    },\n    ratingsUploaded(e) {\n      this.$emit(\"ratingsUploaded\", e);\n    },\n  },\n  mounted() {\n    if (this.reportProp) {\n      this.report = this.reportProp;\n    }\n    if (this.ratingProp) {\n      this.rating = this.ratingProp;\n    }\n\n    this.$nextTick(() => {\n      if (this.report) {\n        this.spriteSlice = this.get_mid_slice();\n      }\n    });\n  },\n  watch: {\n    reportProp: {\n      immediate: true,\n      handler(reportProp) {\n        if (reportProp) {\n          this.report = reportProp;\n        }\n      },\n      deep: true,\n    },\n    ratingProp: {\n      immediate: true,\n      handler: function () {\n        if (this.ratingProp) {\n          this.rating = this.ratingProp;\n        }\n      },\n      deep: true,\n    },\n    report: {\n      immediate: true,\n      handler: function () {\n        if (this.report) {\n          this.spriteSlice = this.get_mid_slice();\n        }\n      },\n      deep: true,\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1,\nh2 {\n  font-weight: normal;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportParticipant.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportParticipant.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReportParticipant.vue?vue&type=template&id=6ac22af2&scoped=true&\"\nimport script from \"./ReportParticipant.vue?vue&type=script&lang=js&\"\nexport * from \"./ReportParticipant.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReportParticipant.vue?vue&type=style&index=0&id=6ac22af2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ac22af2\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <b-container fluid class=\"px-0 m-3\">\n    <b-container fluid class=\"px-0\" v-if=\"groupReport\">\n      <b-sidebar\n        id=\"sidebar-backdrop\"\n        title=\"Study overview\"\n        backdrop-variant=\"dark\"\n        backdrop\n        lazy\n        shadow\n        :visible=\"showInitialSidebar\"\n      >\n        <explainer\n          explainer-text=\"Select a subject below to see their report. Or select the study ID at the top to see a group summary. You can filter the subject list using the text input. You can close this sidebar by clicking on the 'x' in the top right or by simply clicking outside of the sidebar.\"\n        ></explainer>\n        <b-nav vertical pills class=\"w-100\">\n          <b-nav-item\n            class=\"mx-1\"\n            :active=\"showStudyQc\"\n            @click=\"showStudyQc = true\"\n          >\n            {{ groupReport.studyId ? groupReport.studyId : \"Study\" }}\n          </b-nav-item>\n          <input\n            class=\"m-1\"\n            v-model=\"subjectFilter\"\n            placeholder=\"filter subjects\"\n          />\n          <b-nav-item\n            class=\"mx-1\"\n            v-for=\"subject in filteredSubjects\"\n            :key=\"subject\"\n            :active=\"subject === subjectSelected\"\n            @click=\"subjectSelected = subject\"\n          >\n            <b-icon\n              class=\"mr-2\"\n              align-self=\"end\"\n              icon=\"check-circle-fill\"\n              scale=\"0.9\"\n              variant=\"success\"\n              v-if=\"subjectRatings[subject].reviewed\"\n            ></b-icon>\n            <b-icon\n              class=\"mr-2\"\n              icon=\"circle\"\n              scale=\"0.5\"\n              variant=\"secondary\"\n              v-else\n            ></b-icon>\n            {{ subject }}\n          </b-nav-item>\n        </b-nav>\n      </b-sidebar>\n      <groupReport\n        v-if=\"showStudyQc && groupReport\"\n        v-on:subjectSelected=\"updateSelectedSubject\"\n        v-on:ratingsDownloadRequested=\"downloadRatings\"\n        v-on:ratingsUploaded=\"uploadRatings\"\n        :reportProp=\"groupReport\"\n      ></groupReport>\n      <report\n        v-else-if=\"subjectSelected && reportReady\"\n        :reportProp=\"selectedSubjectReport\"\n        :ratingProp=\"subjectRatings[subjectSelected]\"\n        v-on:ratingsDownloadRequested=\"downloadRatings\"\n        v-on:ratingsUploaded=\"uploadRatings\"\n      ></report>\n      <spinner v-else></spinner>\n    </b-container>\n    <spinner v-else></spinner>\n  </b-container>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport _ from \"lodash\";\nimport explainer from \"./Explainer\";\nimport groupReport from \"./ReportGroup\";\nimport report from \"./ReportParticipant\";\nimport spinner from \"./Spinner\";\n\nexport default {\n  name: \"genReport\",\n  components: {\n    explainer,\n    groupReport,\n    report,\n    spinner,\n  },\n  data() {\n    return {\n      bucket: null,\n      files: null,\n      groupFile: null,\n      groupReport: null,\n      manifestEntries: [],\n      subRe: /sub-[a-z0-9]+/gi,\n      sesRe: /ses-[a-z0-9]+/gi,\n      reportReady: false,\n      s3Prefix: null,\n      s3Uri: null,\n      selectedSubjectReport: null,\n      showInitialSidebar: true,\n      showStudyQc: true,\n      sourceType: null,\n      subjectFilter: \"\",\n      subjectReports: null,\n      subjectRatings: null,\n      subjectSelected: null,\n      subjectsBrushed: [],\n      url: null,\n    };\n  },\n  methods: {\n    parseSubjectSession(s) {\n      return [\n        [...new Set(s.match(this.subRe))][0],\n        [...new Set(s.match(this.sesRe))][0],\n      ]\n        .join(\"_\")\n        .replace(/_+$/, \"\");\n    },\n    uploadRatings(e) {\n      this.subjectRatings = Object.assign(this.subjectRatings, e);\n    },\n    async downloadRatings() {\n      const reviewedRatings = _.filter(\n        Object.values(this.subjectRatings),\n        (o) => {\n          return o.reviewed;\n        }\n      );\n\n      const csvRows = reviewedRatings.map((o) => {\n        return _.pick(o, [\"subject\", \"rating\", \"whenRated\"]);\n      });\n\n      if (csvRows.length === 0) {\n        return;\n      }\n\n      const delimiter = \",\";\n      const header = Object.keys(csvRows[0]).join(delimiter) + \"\\n\";\n\n      let csv = header;\n      csvRows.forEach((o) => {\n        csv += Object.values(o).join(delimiter) + \"\\n\";\n      });\n\n      let csvData = new Blob([csv], { type: \"text/csv\" });\n      let csvUrl = URL.createObjectURL(csvData);\n\n      let hiddenElement = document.createElement(\"a\");\n      hiddenElement.href = csvUrl;\n      hiddenElement.target = \"_blank\";\n\n      const curtime = new Date()\n        .toISOString()\n        .replace(/[-:]/g, \"\")\n        .split(\".\")[0];\n      hiddenElement.download = \"dwiqc_ratings_\" + curtime + \".csv\";\n      hiddenElement.click();\n    },\n    updateSelectedSubject(subject) {\n      this.subjectSelected = subject;\n    },\n    loadFromQuery() {\n      if (this.$route.query) {\n        // load the json\n        if (\n          !(this.$route.query.url || this.$route.query.s3Uri) &&\n          this.$route.name === \"GenReport\"\n        ) {\n          this.$router.push(\"/\");\n        } else if (this.$route.query.url) {\n          this.sourceType = \"url\";\n          this.url = this.$route.query.url;\n          // Todo: update this to work with directories instead of single files\n          this.loadFromUrl();\n        } else if (this.$route.query.s3Uri) {\n          this.sourceType = \"s3\";\n          this.s3Uri = this.$route.query.s3Uri;\n          this.bucket = this.s3Uri.split(\"/\")[0];\n          this.s3Prefix = this.s3Uri.split(\"/\").splice(1).join(\"/\");\n          this.loadFromS3();\n        }\n      }\n    },\n    loadFromUrl() {\n      // Todo: update this to work with directories instead of single files\n      axios.get(this.url).then((resp) => {\n        this.report = resp.data;\n      });\n    },\n    /**\n     * Begin S3 parsing functions\n     */\n    xmlParser(input) {\n      const parser = new DOMParser();\n      const xmlDoc = parser.parseFromString(input, \"text/xml\");\n      return xmlDoc;\n    },\n    parseS3(data) {\n      const xml = this.xmlParser(data);\n      const keys = xml.getElementsByTagName(\"Key\");\n      const continuation = xml.getElementsByTagName(\"NextContinuationToken\");\n      const isTruncated = xml.getElementsByTagName(\"IsTruncated\")[0].innerHTML;\n      if (isTruncated === \"true\") {\n        this.continuation = encodeURIComponent(continuation[0].innerHTML);\n      } else {\n        this.continuation = null;\n      }\n      const allKeys = _.map(keys, (k) => k.innerHTML);\n      const reportsFiltered = _.filter(allKeys, (k) =>\n        k.endsWith(\"dwiqc.json\")\n      );\n      const keysFixed = _.uniq(reportsFiltered);\n      return keysFixed;\n    },\n    S3Continuation(token) {\n      if (!token) {\n        return 0;\n      }\n      const url = this.s3ListUrl + `&continuation-token=${token}`;\n      return axios.get(url).then((resp) => {\n        const keysFixed2 = this.parseS3(resp.data);\n        this.manifestEntries = _.uniq(this.manifestEntries.concat(keysFixed2));\n        if (this.continuation) {\n          this.S3Continuation(this.continuation);\n        }\n      });\n    },\n    loadFromS3() {\n      const that = this;\n      const url = this.s3ListUrl;\n      return axios\n        .get(url)\n        .then((resp) => {\n          const keysFixed = this.parseS3(resp.data);\n          this.manifestEntries = _.uniq(this.manifestEntries.concat(keysFixed));\n          if (this.continuation) {\n            this.S3Continuation(this.continuation);\n          }\n        })\n        .then(() => {\n          this.groupFile = this.manifestEntries.filter(\n            (k) => k.match(that.subRe) === null\n          );\n          this.files = this.manifestEntries.filter(\n            (k) => k.match(that.subRe) !== null\n          );\n          this.selectRootGroupFile();\n          this.loadGroupReport();\n        });\n    },\n    getFileDepth(file) {\n      if (this.sourceType === \"file\") {\n        return file.webkitRelativePath.split(\"/\").length;\n      } else if (this.sourceType === \"s3\") {\n        return file.split(\"/\").length;\n      }\n    },\n    selectRootGroupFile() {\n      // if there are multiple group files, select the one closest to the root directory\n      if (this.groupFile.length === 1) {\n        this.groupFile = this.groupFile[0];\n      } else {\n        const groupedFiles = _.groupBy(this.groupFile, this.getFileDepth);\n        const smallest = Math.min(...Object.keys(groupedFiles));\n        const rootJsonFiles = groupedFiles[smallest];\n        if (rootJsonFiles.length === 1) {\n          this.groupFile = rootJsonFiles[0];\n        } else {\n          this.groupFile = null;\n        }\n      }\n    },\n    readJsonFile(inputFile) {\n      const tempFileReader = new FileReader();\n\n      return new Promise((resolve, reject) => {\n        tempFileReader.onerror = () => {\n          tempFileReader.abort();\n          reject(new DOMException(\"Problem parsing input file.\"));\n        };\n\n        tempFileReader.onload = () => {\n          resolve({\n            file: inputFile,\n            content: JSON.parse(tempFileReader.result),\n          });\n        };\n        tempFileReader.readAsText(inputFile);\n      });\n    },\n    async initSubjectReports(participantFileMap) {\n      const reports = await _.reduce(\n        Object.keys(participantFileMap),\n        (o, k) => (\n          (o[k] = {\n            source: participantFileMap[k],\n            report: null,\n            whenRequested: null,\n          }),\n          o\n        ),\n        {}\n      );\n      return reports;\n    },\n    async initSubjectRatings(participantFileMap) {\n      const ratings = await _.reduce(\n        Object.keys(participantFileMap),\n        (o, k) => (\n          (o[k] = {\n            subject: k,\n            rating: null,\n            whenRated: null,\n            reviewed: false,\n          }),\n          o\n        ),\n        {}\n      );\n      return ratings;\n    },\n    async loadGroupReport() {\n      if (this.sourceType === \"file\") {\n        const gr = await this.readJsonFile(this.groupFile);\n        this.groupReport = gr[\"content\"];\n      } else if (this.sourceType === \"s3\") {\n        const resp = await axios.get(\n          this.localhostProxy(\n            `https://${this.bucket}.s3.amazonaws.com/${this.groupFile}`\n          )\n        );\n        this.groupReport = resp.data;\n      }\n      this.groupReport.subjects.forEach(\n        (o) =>\n          (o[\"subject_session_id\"] =\n            \"session_id\" in o\n              ? [o[\"subject_id\"], o[\"session_id\"]].join(\"_\").replace(/_+$/, \"\")\n              : o[\"subject_id\"])\n      );\n    },\n    async updateSubjectReports(subject_id) {\n      let sr;\n      // use the abstract equality operator to test for both null and undefined\n      if (this.sourceType === \"file\") {\n        const report = await this.readJsonFile(\n          this.subjectReports[subject_id][\"source\"]\n        );\n        sr = report[\"content\"];\n        if (report[\"content\"][\"subject_id\"] === \"sub-test\") {\n          sr[\"subject_id\"] = subject_id;\n        }\n      } else if (this.sourceType === \"s3\") {\n        const resp = await axios.get(\n          this.localhostProxy(\n            `https://${this.bucket}.s3.amazonaws.com/${this.subjectReports[subject_id][\"source\"]}`\n          )\n        );\n        sr = resp.data;\n        if (resp.data[\"subject_id\"] === \"sub-test\") {\n          sr[\"subject_id\"] = subject_id;\n        }\n      } else if (this.sourceType === \"url\") {\n        console.log(\"URL sources are currently not supported.\");\n      }\n      return sr;\n    },\n    localhostProxy(url) {\n      const local_domains = [\"localhost\", \"127.0.0.1\"];\n      if (local_domains.includes(window.location.hostname)) {\n        const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n        return proxyurl + url;\n      } else {\n        return url;\n      }\n    },\n  },\n  created() {\n    this.loadFromQuery();\n  },\n  mounted() {\n    if (this.filesProp) {\n      this.sourceType = \"file\";\n      this.files = this.filesProp;\n    }\n    if (this.groupFileProp) {\n      this.sourceType = \"file\";\n      this.groupFile = this.groupFileProp;\n      this.selectRootGroupFile();\n      this.loadGroupReport();\n    }\n  },\n  computed: {\n    s3ListUrl() {\n      let url = `https://${this.bucket}.s3.amazonaws.com/?list-type=2`;\n      url += `&max-keys=100000&prefix=${this.s3Prefix}`;\n      return this.localhostProxy(url);\n    },\n    filteredSubjects() {\n      if (this.subjectFilter) {\n        return this.subjectsAll.filter((s) => s.includes(this.subjectFilter));\n      } else {\n        return this.subjectsAll;\n      }\n    },\n    subjectsInGroupReport: function () {\n      if (this.groupReport) {\n        return this.groupReport.subjects.map((o) => o[\"subject_session_id\"]);\n      } else {\n        return [];\n      }\n    },\n    subjectFileMap: function () {\n      if (this.files) {\n        if (this.sourceType === \"file\") {\n          return _.reduce(\n            this.files,\n            (o, k) => ((o[this.parseSubjectSession(k.name)] = k), o),\n            {}\n          );\n        } else if (this.sourceType === \"s3\") {\n          return _.reduce(\n            this.files,\n            (o, k) => ((o[this.parseSubjectSession(k)] = k), o),\n            {}\n          );\n        } else {\n          return {};\n        }\n      } else {\n        return {};\n      }\n    },\n    subjectsAll: function () {\n      // const collator = new Intl.Collator(undefined, {\n      //   numeric: true,\n      //   sensitivity: \"base\",\n      // });\n      // return [\n      //   ...new Set(\n      //     Object.keys(this.subjectFileMap).concat(this.subjectsInGroupReport)\n      //   ),\n      // ].sort(collator.compare);\n      return _.shuffle([\n        ...new Set(\n          Object.keys(this.subjectFileMap) // .concat(this.subjectsInGroupReport)\n        ),\n      ]);\n    },\n  },\n  watch: {\n    filesProp: {\n      deep: true,\n      immediate: true,\n      handler: function () {\n        if (this.filesProp) {\n          this.files = this.filesProp;\n        }\n      },\n    },\n    groupFileProp: {\n      deep: true,\n      immediate: true,\n      handler: function () {\n        if (this.groupFileProp) {\n          this.groupFile = this.groupFileProp;\n          this.selectRootGroupFile();\n          this.loadGroupReport();\n        }\n      },\n    },\n    urlProp: {\n      handler: function () {\n        if (this.urlProp) {\n          this.url = this.urlProp;\n          this.loadFromUrl();\n        }\n      },\n    },\n    s3UriProp: {\n      handler: function () {\n        if (this.s3UriProp) {\n          this.s3Uri = this.s3UriProp;\n          this.loadFromS3();\n        }\n      },\n    },\n    $route: \"loadFromQuery\",\n    showStudyQc: {\n      handler: function () {\n        if (this.showStudyQc) {\n          this.subjectSelected = null;\n        }\n      },\n    },\n    subjectSelected: {\n      handler: async function () {\n        if (this.subjectSelected) {\n          this.reportReady = false;\n          this.showStudyQc = false;\n          this.selectedSubjectReport = await this.updateSubjectReports(\n            this.subjectSelected\n          );\n          this.reportReady = true;\n        }\n      },\n    },\n    subjectFileMap: {\n      deep: true,\n      immediate: true,\n      handler: async function () {\n        this.subjectReports = await this.initSubjectReports(\n          this.subjectFileMap\n        );\n        this.subjectRatings = await this.initSubjectRatings(\n          this.subjectFileMap\n        );\n      },\n    },\n  },\n  props: {\n    filesProp: Array,\n    groupFileProp: Array,\n    urlProp: String,\n    s3UriProp: String,\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenReport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenReport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GenReport.vue?vue&type=template&id=04850217&scoped=true&\"\nimport script from \"./GenReport.vue?vue&type=script&lang=js&\"\nexport * from \"./GenReport.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04850217\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <b-container>\n    <b-container fluid class=\"px-0\" v-if=\"state === 'getInput'\">\n      <b-row class=\"d-flex align-items-center\">\n        <b-col cols=\"5\" class=\"text-right\">\n          <img class=\"logo\" src=\"../assets/dmriprep-icon.svg\" />\n        </b-col>\n        <b-col cols=\"7\" class=\"text-left\">\n          <h1>dmriprep Viewer</h1>\n        </b-col>\n      </b-row>\n\n      <b-form-group\n        label=\"Choose a directory containing dwiqc.json files generated with dmriprep or qsiprep:\"\n        description=\"All computation happens on the client side. Your report will not be uploaded to any server.\"\n        class=\"mt-5 text-left\"\n      >\n        <b-form-file\n          v-model=\"files\"\n          directory\n          multiple\n          placeholder=\"Choose a directory...\"\n        ></b-form-file>\n      </b-form-group>\n\n      <b-form-group\n        label=\"OR copy/paste an Amazon S3 URI:\"\n        description=\"Enter a valid Amazon S3 URI of the form s3://bucket/followed/by/a/key.\"\n        class=\"mt-5 text-left\"\n      >\n        <b-input-group size=\"md\" class=\"mb-3\" prepend=\"URL\">\n          <b-form-input\n            v-model=\"url\"\n            placeholder=\"s3://dmriprep-viewer-example-data\"\n            @keyup.enter=\"navigate\"\n          />\n          <b-input-group-append>\n            <b-btn size=\"md\" text=\"Button\" variant=\"primary\" @click=\"navigate\"\n              >Go</b-btn\n            >\n          </b-input-group-append>\n        </b-input-group>\n      </b-form-group>\n    </b-container>\n\n    <spinner v-if=\"state === 'showLoader'\"></spinner>\n    <genReport\n      v-if=\"state === 'showReports'\"\n      :filesProp=\"reportFiles\"\n      :groupFileProp=\"groupReportFiles\"\n    ></genReport>\n  </b-container>\n</template>\n\n<script>\nimport genReport from \"./GenReport\";\nimport router from \"../router\";\nimport spinner from \"./Spinner\";\n\nexport default {\n  name: \"LandingPage\",\n  components: {\n    genReport,\n    spinner,\n  },\n  data() {\n    return {\n      files: null,\n      reportFiles: null,\n      groupReportFiles: null,\n      msg: \"Welcome to dmriprep-viewer\",\n      report: {},\n      url: null,\n      state: \"getInput\",\n    };\n  },\n  methods: {\n    navigate() {\n      if (this.url.startsWith(\"s3://\")) {\n        this.s3();\n      } else {\n        this.followUrl();\n      }\n    },\n    followUrl() {\n      router.push({ path: \"/report\", query: { url: this.url } });\n    },\n    s3() {\n      router.push({\n        path: \"/report\",\n        query: { s3Uri: this.url.replace(\"s3://\", \"\") },\n      });\n    },\n  },\n  watch: {\n    files() {\n      if (this.files) {\n        this.state = \"showLoader\";\n\n        // We may have many files. Find all of the *_dwiqc.json files\n        this.reportFiles = this.files.filter((file) =>\n          file.name.endsWith(\"_dwiqc.json\")\n        );\n\n        // And find the group report file if available\n        this.groupReportFiles = this.files.filter(\n          (file) => file.name === \"dwiqc.json\"\n        );\n\n        this.state = \"showReports\";\n\n        // let reportContents = await Promise.all(\n        //   await this.getAllReportsFromFiles(allReportFiles)\n        // );\n\n        // console.log(reportContents);\n      }\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.logo {\n  max-width: 250px;\n  width: 100%;\n  height: auto;\n}\n\nh1,\nh2 {\n  font-weight: normal;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LandingPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LandingPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LandingPage.vue?vue&type=template&id=7cd77cb5&scoped=true&\"\nimport script from \"./LandingPage.vue?vue&type=script&lang=js&\"\nexport * from \"./LandingPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LandingPage.vue?vue&type=style&index=0&id=7cd77cb5&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7cd77cb5\",\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport Router from \"vue-router\";\nimport LandingPage from \"@/components/LandingPage\";\nimport genReport from \"@/components/GenReport\";\n\nVue.use(Router);\n\nexport default new Router({\n  routes: [\n    {\n      path: \"/\",\n      name: \"LandingPage\",\n      component: LandingPage,\n    },\n    {\n      path: \"/report\",\n      name: \"GenReport\",\n      component: genReport,\n    },\n  ],\n});\n","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from \"vue\";\nimport App from \"./App\";\nimport router from \"./router/index\";\n\nconst debug = process.env.NODE_ENV !== \"production\";\n\nVue.config.productionTip = false;\nVue.config.performance = debug;\n\n/* eslint-disable no-new */\nnew Vue({\n  el: \"#app\",\n  router: router,\n  components: { App },\n  template: \"<App/>\",\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Explainer.vue?vue&type=style&index=0&id=19620c5a&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBar.vue?vue&type=style&index=0&id=23484d32&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportGroup.vue?vue&type=style&index=0&id=048b3325&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sprite4D.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrainSprite.vue?vue&type=style&index=0&id=3f09f206&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LandingPage.vue?vue&type=style&index=0&id=7cd77cb5&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CarpetPlot.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportParticipant.vue?vue&type=style&index=0&id=6ac22af2&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScatterplotMatrix.vue?vue&type=style&index=0&id=5d8babb8&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LineChart.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}